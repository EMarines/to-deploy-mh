(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function he(){}const tm=t=>t;function $t(t,e){for(const n in e)t[n]=e[n];return t}function nm(t){return t()}function _u(){return Object.create(null)}function et(t){t.forEach(nm)}function Xo(t){return typeof t=="function"}function We(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Jr;function rt(t,e){return Jr||(Jr=document.createElement("a")),Jr.href=e,t===Jr.href}function z_(t){return Object.keys(t).length===0}function Kl(t,...e){if(t==null)return he;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function gs(t){let e;return Kl(t,n=>e=n)(),e}function Se(t,e,n){t.$$.on_destroy.push(Kl(e,n))}function zl(t,e,n,i){if(t){const s=im(t,e,n,i);return t[0](s)}}function im(t,e,n,i){return t[1]&&i?$t(n.ctx.slice(),t[1](i(e))):n.ctx}function Wl(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)r[a]=e.dirty[a]|s[a];return r}return e.dirty|s}return e.dirty}function Ql(t,e,n,i,s,r){if(s){const o=im(e,n,i,r);t.p(o,s)}}function Yl(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function _o(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function vo(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function vu(t){return t==null?"":t}function be(t,e,n){return t.set(n),e}const sm=typeof window<"u";let W_=sm?()=>window.performance.now():()=>Date.now(),Xl=sm?t=>requestAnimationFrame(t):he;const us=new Set;function rm(t){us.forEach(e=>{e.c(t)||(us.delete(e),e.f())}),us.size!==0&&Xl(rm)}function Q_(t){let e;return us.size===0&&Xl(rm),{promise:new Promise(n=>{us.add(e={c:t,f:n})}),abort(){us.delete(e)}}}function u(t,e){t.appendChild(e)}function om(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Y_(t){const e=m("style");return X_(om(t),e),e.sheet}function X_(t,e){return u(t.head||t,e),e.sheet}function k(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function Fe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function E(){return C(" ")}function mn(){return C("")}function q(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function _n(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Mn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set?t[i]=e[i]:g(t,i,e[i])}function Bt(t,e,n){const i=new Set;for(let s=0;s<t.length;s+=1)t[s].checked&&i.add(t[s].__value);return n||i.delete(e),Array.from(i)}function mi(t){return t===""?null:+t}function J_(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ve(t,e){t.value=e==null?"":e}function Ue(t,e){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function jt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function Ei(t,e,n){t.classList[n?"add":"remove"](e)}function am(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}function yu(t,e){return new t(e)}const yo=new Map;let bo=0;function x_(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Z_(t,e){const n={stylesheet:Y_(e),rules:{}};return yo.set(t,n),n}function bu(t,e,n,i,s,r,o,a=0){const l=16.666/i;let c=`{
`;for(let y=0;y<=1;y+=l){const b=e+(n-e)*r(y);c+=y*100+`%{${o(b,1-b)}}
`}const h=c+`100% {${o(n,1-n)}}
}`,d=`__svelte_${x_(h)}_${a}`,f=om(t),{stylesheet:p,rules:_}=yo.get(f)||Z_(f,t);_[d]||(_[d]=!0,p.insertRule(`@keyframes ${d} ${h}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${i}ms linear ${s}ms 1 both`,bo+=1,d}function ev(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),bo-=s,bo||tv())}function tv(){Xl(()=>{bo||(yo.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)}),yo.clear())})}let tr;function Ws(t){tr=t}function vr(){if(!tr)throw new Error("Function called outside component initialization");return tr}function nv(t){vr().$$.on_mount.push(t)}function yr(t){vr().$$.on_destroy.push(t)}function lm(){const t=vr();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=am(e,n,{cancelable:i});return s.slice().forEach(o=>{o.call(t,r)}),!r.defaultPrevented}return!0}}function Qs(t,e){return vr().$$.context.set(t,e),e}function ki(t){return vr().$$.context.get(t)}function iv(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Fs=[],Xn=[],oo=[],al=[],cm=Promise.resolve();let ll=!1;function um(){ll||(ll=!0,cm.then(hm))}function sv(){return um(),cm}function tt(t){oo.push(t)}function ji(t){al.push(t)}const Oa=new Set;let xr=0;function hm(){const t=tr;do{for(;xr<Fs.length;){const e=Fs[xr];xr++,Ws(e),rv(e.$$)}for(Ws(null),Fs.length=0,xr=0;Xn.length;)Xn.pop()();for(let e=0;e<oo.length;e+=1){const n=oo[e];Oa.has(n)||(Oa.add(n),n())}oo.length=0}while(Fs.length);for(;al.length;)al.pop()();ll=!1,Oa.clear(),Ws(t)}function rv(t){if(t.fragment!==null){t.update(),et(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}let $s;function ov(){return $s||($s=Promise.resolve(),$s.then(()=>{$s=null})),$s}function Ba(t,e,n){t.dispatchEvent(am(`${e?"intro":"outro"}${n}`))}const ao=new Set;let Gn;function It(){Gn={r:0,c:[],p:Gn}}function Tt(){Gn.r||et(Gn.c),Gn=Gn.p}function K(t,e){t&&t.i&&(ao.delete(t),t.i(e))}function J(t,e,n,i){if(t&&t.o){if(ao.has(t))return;ao.add(t),Gn.c.push(()=>{ao.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const av={duration:0};function dn(t,e,n,i){let s=e(t,n),r=i?0:1,o=null,a=null,l=null;function c(){l&&ev(t,l)}function h(f,p){const _=f.b-r;return p*=Math.abs(_),{a:r,b:f.b,d:_,duration:p,start:f.start,end:f.start+p,group:f.group}}function d(f){const{delay:p=0,duration:_=300,easing:v=tm,tick:y=he,css:b}=s||av,I={start:W_()+p,b:f};f||(I.group=Gn,Gn.r+=1),o||a?a=I:(b&&(c(),l=bu(t,r,f,_,p,v,b)),f&&y(0,1),o=h(I,_),tt(()=>Ba(t,f,"start")),Q_(M=>{if(a&&M>a.start&&(o=h(a,_),a=null,Ba(t,o.b,"start"),b&&(c(),l=bu(t,r,o.b,o.duration,0,v,s.css))),o){if(M>=o.end)y(r=o.b,1-r),Ba(t,o.b,"end"),a||(o.b?c():--o.group.r||et(o.group.c)),o=null;else if(M>=o.start){const D=M-o.start;r=o.a+o.d*v(D/o.duration),y(r,1-r)}}return!!(o||a)}))}return{run(f){Xo(s)?ov().then(()=>{s=s(),d(f)}):d(f)},end(){c(),o=a=null}}}function vn(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const o=t[r],a=e[r];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[r]=a}else for(const l in o)s[l]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Jn(t){return typeof t=="object"&&t!==null?t:{}}function qi(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ge(t){t&&t.c()}function fe(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||tt(()=>{const o=t.$$.on_mount.map(nm).filter(Xo);t.$$.on_destroy?t.$$.on_destroy.push(...o):et(o),t.$$.on_mount=[]}),r.forEach(tt)}function me(t,e){const n=t.$$;n.fragment!==null&&(et(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lv(t,e){t.$$.dirty[0]===-1&&(Fs.push(t),um(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xe(t,e,n,i,s,r,o,a=[-1]){const l=tr;Ws(t);const c=t.$$={fragment:null,ctx:[],props:r,update:he,not_equal:s,bound:_u(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:_u(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=n?n(t,e.props||{},(d,f,...p)=>{const _=p.length?p[0]:f;return c.ctx&&s(c.ctx[d],c.ctx[d]=_)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](_),h&&lv(t,d)),f}):[],c.update(),h=!0,et(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const d=J_(e.target);c.fragment&&c.fragment.l(d),d.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&K(t.$$.fragment),fe(t,e.target,e.anchor,e.customElement),hm()}Ws(l)}class Ze{$destroy(){me(this,1),this.$destroy=he}$on(e,n){if(!Xo(n))return he;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!z_(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const wu=t=>typeof t>"u",dm=t=>typeof t=="function",fm=t=>typeof t=="number";function cv(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mm(){let t=0;return()=>t++}function uv(){return Math.random().toString(36).substring(2)}const Ii=typeof window>"u";function pm(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const cl=(t,e)=>t?{}:{style:e},os=t=>({"aria-hidden":"true",...cl(t,"display:none;")}),ss=[];function hv(t,e){return{subscribe:kt(t,e).subscribe}}function kt(t,e=he){let n;const i=new Set;function s(a){if(We(t,a)&&(t=a,n)){const l=!ss.length;for(const c of i)c[1](),ss.push(c,t);if(l){for(let c=0;c<ss.length;c+=2)ss[c][0](ss[c+1]);ss.length=0}}}function r(a){s(a(t))}function o(a,l=he){const c=[a,l];return i.add(c),i.size===1&&(n=e(s)||he),a(t),()=>{i.delete(c),i.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function dv(t,e,n){const i=!Array.isArray(t),s=i?[t]:t,r=e.length<2;return hv(n,o=>{let a=!1;const l=[];let c=0,h=he;const d=()=>{if(c)return;h();const p=e(i?l[0]:l,o);r?o(p):h=Xo(p)?p:he},f=s.map((p,_)=>Kl(p,v=>{l[_]=v,c&=~(1<<_),a&&d()},()=>{c|=1<<_}));return a=!0,d(),function(){et(f),h()}})}const br=t=>`@@svnav-ctx__${t}`,ul=br("LOCATION"),_s=br("ROUTER"),gm=br("ROUTE"),fv=br("ROUTE_PARAMS"),mv=br("FOCUS_ELEM"),_m=/^:(.+)/,Vs=(t,e,n)=>t.substr(e,n),hl=(t,e)=>Vs(t,0,e.length)===e,pv=t=>t==="",gv=t=>_m.test(t),vm=t=>t[0]==="*",_v=t=>t.replace(/\*.*$/,""),ym=t=>t.replace(/(^\/+|\/+$)/g,"");function Ln(t,e=!1){const n=ym(t).split("/");return e?n.filter(Boolean):n}const La=(t,e)=>t+(e?`?${e}`:""),Jl=t=>`/${ym(t)}`;function wr(...t){const e=i=>Ln(i,!0).join("/"),n=t.map(e).join("/");return Jl(n)}const xl=1,Jo=2,Hi=3,vv=4,bm=5,yv=6,wm=7,bv=8,wv=9,Em=10,km=11,Ev={[xl]:"Link",[Jo]:"Route",[Hi]:"Router",[vv]:"useFocus",[bm]:"useLocation",[yv]:"useMatch",[wm]:"useNavigate",[bv]:"useParams",[wv]:"useResolvable",[Em]:"useResolve",[km]:"navigate"},Zl=t=>Ev[t];function kv(t,e){let n;return t===Jo?n=e.path?`path="${e.path}"`:"default":t===xl?n=`to="${e.to}"`:t===Hi&&(n=`basepath="${e.basepath||""}"`),`<${Zl(t)} ${n||""} />`}function Iv(t,e,n,i){const s=n&&kv(i||t,n),r=s?`

Occurred in: ${s}`:"",o=Zl(t),a=dm(e)?e(o):e;return`<${o}> ${a}${r}`}const Im=t=>(...e)=>t(Iv(...e)),Tm=Im(t=>{throw new Error(t)}),wo=Im(console.warn),Eu=4,Tv=3,Sv=2,Cv=1,Av=1;function Pv(t,e){const n=t.default?0:Ln(t.fullPath).reduce((i,s)=>{let r=i;return r+=Eu,pv(s)?r+=Av:gv(s)?r+=Sv:vm(s)?r-=Eu+Cv:r+=Tv,r},0);return{route:t,score:n,index:e}}function Dv(t){return t.map(Pv).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function Sm(t,e){let n,i;const[s]=e.split("?"),r=Ln(s),o=r[0]==="",a=Dv(t);for(let l=0,c=a.length;l<c;l++){const{route:h}=a[l];let d=!1;const f={},p=b=>({...h,params:f,uri:b});if(h.default){i=p(e);continue}const _=Ln(h.fullPath),v=Math.max(r.length,_.length);let y=0;for(;y<v;y++){const b=_[y],I=r[y];if(!wu(b)&&vm(b)){const D=b==="*"?"*":b.slice(1);f[D]=r.slice(y).map(decodeURIComponent).join("/");break}if(wu(I)){d=!0;break}const M=_m.exec(b);if(M&&!o){const D=decodeURIComponent(I);f[M[1]]=D}else if(b!==I){d=!0;break}}if(!d){n=p(wr(...r.slice(0,y)));break}}return n||i||null}function Cm(t,e){return Sm([t],e)}function Nv(t,e){if(hl(t,"/"))return t;const[n,i]=t.split("?"),[s]=e.split("?"),r=Ln(n),o=Ln(s);if(r[0]==="")return La(s,i);if(!hl(r[0],".")){const c=o.concat(r).join("/");return La((s==="/"?"":"/")+c,i)}const a=o.concat(r),l=[];return a.forEach(c=>{c===".."?l.pop():c!=="."&&l.push(c)}),La(`/${l.join("/")}`,i)}function ku(t,e){const{pathname:n,hash:i="",search:s="",state:r}=t,o=Ln(e,!0),a=Ln(n,!0);for(;o.length;)o[0]!==a[0]&&Tm(Hi,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),o.shift(),a.shift();return{pathname:wr(...a),hash:i,search:s,state:r}}const Iu=t=>t.length===1?"":t,ec=t=>{const e=t.indexOf("?"),n=t.indexOf("#"),i=e!==-1,s=n!==-1,r=s?Iu(Vs(t,n)):"",o=s?Vs(t,0,n):t,a=i?Iu(Vs(o,e)):"";return{pathname:(i?Vs(o,0,e):o)||"/",search:a,hash:r}},Mv=t=>{const{pathname:e,search:n,hash:i}=t;return e+n+i};function Rv(t,e,n){return wr(n,Nv(t,e))}function Ov(t,e){const n=Jl(_v(t)),i=Ln(n,!0),s=Ln(e,!0).slice(0,i.length),r=Cm({fullPath:n},wr(...s));return r&&r.uri}const $a="POP",Bv="PUSH",Lv="REPLACE";function Ua(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function $v(t){let e=[],n=Ua(t),i=$a;const s=(r=e)=>r.forEach(o=>o({location:n,action:i}));return{get location(){return n},listen(r){e.push(r);const o=()=>{n=Ua(t),i=$a,s([r])};s([r]);const a=pm(t,"popstate",o);return()=>{a(),e=e.filter(l=>l!==r)}},navigate(r,o){const{state:a={},replace:l=!1}=o||{};if(i=l?Lv:Bv,fm(r))o&&wo(km,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),i=$a,t.history.go(r);else{const c={...a,_key:uv()};try{t.history[l?"replaceState":"pushState"](c,"",r)}catch{t.location[l?"replace":"assign"](r)}}n=Ua(t),s()}}}function Fa(t,e){return{...ec(e),state:t}}function Uv(t="/"){let e=0,n=[Fa(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(i,s,r){e++,n=n.slice(0,e),n.push(Fa(i,r))},replaceState(i,s,r){n[e]=Fa(i,r)},go(i){const s=e+i;s<0||s>n.length-1||(e=s)}}}}const Fv=!!(!Ii&&window.document&&window.document.createElement),Vv=!Ii&&window.location.origin==="null",jv=$v(Fv&&!Vv?window:Uv());let Hn=null,Am=!0;function qv(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let i=0;i<n.length;i++){const s=n[i],r=Number(s.dataset.svnavRouter);if(r===t)return!0;if(r===e)return!1}return!1}function Hv(t){(!Hn||t.level>Hn.level||t.level===Hn.level&&qv(t.routerId,Hn.routerId))&&(Hn=t)}function Gv(){Hn=null}function Kv(){Am=!1}function Tu(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let n;n=pm(t,"blur",()=>{t.removeAttribute(e),n()})}return t.focus(),document.activeElement===t}catch{return!1}}function zv(t,e){return Number(t.dataset.svnavRouteEnd)===e}function Wv(t){return/^H[1-6]$/i.test(t.tagName)}function Su(t,e=document){return e.querySelector(t)}function Qv(t){let n=Su(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!zv(n,t);){if(Wv(n))return n;const i=Su("h1,h2,h3,h4,h5,h6",n);if(i)return i;n=n.nextElementSibling}return null}function Yv(t){Promise.resolve(gs(t.focusElement)).then(e=>{const n=e||Qv(t.id);n||wo(Hi,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,Jo),!Tu(n)&&Tu(document.documentElement)})}const Xv=(t,e,n)=>(i,s)=>sv().then(()=>{if(!Hn||Am){Kv();return}if(i&&Yv(Hn.route),t.announcements&&s){const{path:r,fullPath:o,meta:a,params:l,uri:c}=Hn.route,h=t.createAnnouncement({path:r,fullPath:o,meta:a,params:l,uri:c},gs(n));Promise.resolve(h).then(d=>{e.set(d)})}Gv()}),Cu="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function Jv(t){let e,n,i=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},cl(t[6],Cu)],s={};for(let r=0;r<i.length;r+=1)s=$t(s,i[r]);return{c(){e=m("div"),n=C(t[0]),Mn(e,s)},m(r,o){k(r,e,o),u(e,n)},p(r,o){o[0]&1&&ie(n,r[0]),Mn(e,s=vn(i,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},cl(r[6],Cu)]))},d(r){r&&w(e)}}}function xv(t){let e,n,i,s,r,o=[os(t[6]),{"data-svnav-router":t[3]}],a={};for(let d=0;d<o.length;d+=1)a=$t(a,o[d]);const l=t[22].default,c=zl(l,t,t[21],null);let h=t[2]&&t[4]&&t[1].announcements&&Jv(t);return{c(){e=m("div"),n=E(),c&&c.c(),i=E(),h&&h.c(),s=mn(),Mn(e,a)},m(d,f){k(d,e,f),k(d,n,f),c&&c.m(d,f),k(d,i,f),h&&h.m(d,f),k(d,s,f),r=!0},p(d,f){Mn(e,a=vn(o,[os(d[6]),{"data-svnav-router":d[3]}])),c&&c.p&&(!r||f[0]&2097152)&&Ql(c,l,d,d[21],r?Wl(l,d[21],f,null):Yl(d[21]),null),d[2]&&d[4]&&d[1].announcements&&h.p(d,f)},i(d){r||(K(c,d),r=!0)},o(d){J(c,d),r=!1},d(d){d&&w(e),d&&w(n),c&&c.d(d),d&&w(i),h&&h.d(d),d&&w(s)}}}const Zv=mm(),Au="/";function e0(t,e,n){let i,s,r,o,a,{$$slots:l={},$$scope:c}=e,{basepath:h=Au}=e,{url:d=null}=e,{history:f=jv}=e,{primary:p=!0}=e,{a11y:_={}}=e,{disableInlineStyles:v=!1}=e;const y={createAnnouncement:V=>`Navigated to ${V.uri}`,announcements:!0,..._},b=h,I=Jl(h),M=ki(ul),D=ki(_s),$=!M,G=Zv(),N=p&&!(D&&!D.manageFocus),F=kt("");Se(t,F,V=>n(0,a=V));const H=D?D.disableInlineStyles:v,A=kt([]);Se(t,A,V=>n(20,o=V));const W=kt(null);Se(t,W,V=>n(18,s=V));let O=!1;const Q=$?0:D.level+1,se=$?kt((()=>ku(Ii?ec(d):f.location,I))()):M;Se(t,se,V=>n(17,i=V));const B=kt(i);Se(t,B,V=>n(19,r=V));const le=Xv(y,F,se),x=V=>P=>P.filter(T=>T.id!==V);function ue(V){if(Ii){if(O)return;const P=Cm(V,i.pathname);if(P)return O=!0,P}else A.update(P=>{const T=x(V.id)(P);return T.push(V),T})}function re(V){A.update(x(V))}return!$&&h!==Au&&wo(Hi,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:h}),$&&(nv(()=>f.listen(P=>{const T=ku(P.location,I);B.set(i),se.set(T)})),Qs(ul,se)),Qs(_s,{activeRoute:W,registerRoute:ue,unregisterRoute:re,manageFocus:N,level:Q,id:G,history:$?f:D.history,basepath:$?I:D.basepath,disableInlineStyles:H}),t.$$set=V=>{"basepath"in V&&n(11,h=V.basepath),"url"in V&&n(12,d=V.url),"history"in V&&n(13,f=V.history),"primary"in V&&n(14,p=V.primary),"a11y"in V&&n(15,_=V.a11y),"disableInlineStyles"in V&&n(16,v=V.disableInlineStyles),"$$scope"in V&&n(21,c=V.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&h!==b&&wo(Hi,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const V=Sm(o,i.pathname);W.set(V)}if(t.$$.dirty[0]&655360&&$){const V=!!i.hash,P=!V&&N,T=!V||i.pathname!==r.pathname;le(P,T)}t.$$.dirty[0]&262144&&N&&s&&s.primary&&Hv({level:Q,routerId:G,route:s})},[a,y,$,G,N,F,H,A,W,se,B,h,d,f,p,_,v,i,s,r,o,c,l]}class tc extends Ze{constructor(e){super(),xe(this,e,e0,xv,We,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}function Er(t,e,n=_s,i=Hi){ki(n)||Tm(t,r=>`You cannot use ${r} outside of a ${Zl(i)}.`,e)}const t0=t=>{const{subscribe:e}=ki(t);return{subscribe:e}};function Pm(){return Er(bm),t0(ul)}function Dm(){const{history:t}=ki(_s);return t}function Nm(){const t=ki(gm);return t?dv(t,e=>e.base):kt("/")}function Mm(){Er(Em);const t=Nm(),{basepath:e}=ki(_s);return i=>Rv(i,gs(t),e)}function Ji(){Er(wm);const t=Mm(),{navigate:e}=Dm();return(i,s)=>{const r=fm(i)?i:t(i);return e(r,s)}}const n0=t=>({params:t&16,location:t&8}),Pu=t=>({params:Ii?gs(t[10]):t[4],location:t[3],navigate:t[11]});function Du(t){let e,n;return e=new tc({props:{primary:t[1],$$slots:{default:[r0]},$$scope:{ctx:t}}}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},p(i,s){const r={};s&2&&(r.primary=i[1]),s&528409&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function i0(t){let e;const n=t[18].default,i=zl(n,t,t[19],Pu);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&524312)&&Ql(i,n,s,s[19],e?Wl(n,s[19],r,n0):Yl(s[19]),Pu)},i(s){e||(K(i,s),e=!0)},o(s){J(i,s),e=!1},d(s){i&&i.d(s)}}}function s0(t){let e,n,i;const s=[{location:t[3]},{navigate:t[11]},Ii?gs(t[10]):t[4],t[12]];var r=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=$t(l,s[c]);return{props:l}}return r&&(e=yu(r,o())),{c(){e&&ge(e.$$.fragment),n=mn()},m(a,l){e&&fe(e,a,l),k(a,n,l),i=!0},p(a,l){const c=l&7192?vn(s,[l&8&&{location:a[3]},l&2048&&{navigate:a[11]},l&1040&&Jn(Ii?gs(a[10]):a[4]),l&4096&&Jn(a[12])]):{};if(r!==(r=a[0])){if(e){It();const h=e;J(h.$$.fragment,1,0,()=>{me(h,1)}),Tt()}r?(e=yu(r,o()),ge(e.$$.fragment),K(e.$$.fragment,1),fe(e,n.parentNode,n)):e=null}else r&&e.$set(c)},i(a){i||(e&&K(e.$$.fragment,a),i=!0)},o(a){e&&J(e.$$.fragment,a),i=!1},d(a){a&&w(n),e&&me(e,a)}}}function r0(t){let e,n,i,s;const r=[s0,i0],o=[];function a(l,c){return l[0]!==null?0:1}return e=a(t),n=o[e]=r[e](t),{c(){n.c(),i=mn()},m(l,c){o[e].m(l,c),k(l,i,c),s=!0},p(l,c){let h=e;e=a(l),e===h?o[e].p(l,c):(It(),J(o[h],1,1,()=>{o[h]=null}),Tt(),n=o[e],n?n.p(l,c):(n=o[e]=r[e](l),n.c()),K(n,1),n.m(i.parentNode,i))},i(l){s||(K(n),s=!0)},o(l){J(n),s=!1},d(l){o[e].d(l),l&&w(i)}}}function o0(t){let e,n,i,s,r,o=[os(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let d=0;d<o.length;d+=1)a=$t(a,o[d]);let l=t[2]&&Du(t),c=[os(t[7]),{"data-svnav-route-end":t[5]}],h={};for(let d=0;d<c.length;d+=1)h=$t(h,c[d]);return{c(){e=m("div"),n=E(),l&&l.c(),i=E(),s=m("div"),Mn(e,a),Mn(s,h)},m(d,f){k(d,e,f),k(d,n,f),l&&l.m(d,f),k(d,i,f),k(d,s,f),r=!0},p(d,[f]){Mn(e,a=vn(o,[os(d[7]),{"data-svnav-route-start":d[5]}])),d[2]?l?(l.p(d,f),f&4&&K(l,1)):(l=Du(d),l.c(),K(l,1),l.m(i.parentNode,i)):l&&(It(),J(l,1,1,()=>{l=null}),Tt()),Mn(s,h=vn(c,[os(d[7]),{"data-svnav-route-end":d[5]}]))},i(d){r||(K(l),r=!0)},o(d){J(l),r=!1},d(d){d&&w(e),d&&w(n),l&&l.d(d),d&&w(i),d&&w(s)}}}const a0=mm();function l0(t,e,n){let i;const s=["path","component","meta","primary"];let r=vo(e,s),o,a,l,c,{$$slots:h={},$$scope:d}=e,{path:f=""}=e,{component:p=null}=e,{meta:_={}}=e,{primary:v=!0}=e;Er(Jo,e);const y=a0(),{registerRoute:b,unregisterRoute:I,activeRoute:M,disableInlineStyles:D}=ki(_s);Se(t,M,O=>n(16,o=O));const $=Nm();Se(t,$,O=>n(17,l=O));const G=Pm();Se(t,G,O=>n(3,a=O));const N=kt(null);let F;const H=kt(),A=kt({});Se(t,A,O=>n(4,c=O)),Qs(gm,H),Qs(fv,A),Qs(mv,N);const W=Ji();return Ii||yr(()=>I(y)),t.$$set=O=>{n(24,e=$t($t({},e),_o(O))),n(12,r=vo(e,s)),"path"in O&&n(13,f=O.path),"component"in O&&n(0,p=O.component),"meta"in O&&n(14,_=O.meta),"primary"in O&&n(1,v=O.primary),"$$scope"in O&&n(19,d=O.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const O=f==="",Q=wr(l,f),U={id:y,path:f,meta:_,default:O,fullPath:O?"":Q,base:O?l:Ov(Q,a.pathname),primary:v,focusElement:N};H.set(U),n(15,F=b(U))}if(t.$$.dirty&98304&&n(2,i=!!(F||o&&o.id===y)),t.$$.dirty&98308&&i){const{params:O}=F||o;A.set(O)}},e=_o(e),[p,v,i,a,c,y,M,D,$,G,A,W,r,f,_,F,o,l,h,d]}class Dn extends Ze{constructor(e){super(),xe(this,e,l0,o0,We,{path:13,component:0,meta:14,primary:1})}}function c0(t){let e,n,i,s;const r=t[13].default,o=zl(r,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],l={};for(let c=0;c<a.length;c+=1)l=$t(l,a[c]);return{c(){e=m("a"),o&&o.c(),Mn(e,l)},m(c,h){k(c,e,h),o&&o.m(e,null),n=!0,i||(s=q(e,"click",t[4]),i=!0)},p(c,[h]){o&&o.p&&(!n||h&4096)&&Ql(o,r,c,c[12],n?Wl(r,c[12],h,null):Yl(c[12]),null),Mn(e,l=vn(a,[(!n||h&1)&&{href:c[0]},h&4&&c[2],h&2&&c[1]]))},i(c){n||(K(o,c),n=!0)},o(c){J(o,c),n=!1},d(c){c&&w(e),o&&o.d(c),i=!1,s()}}}function u0(t,e,n){let i,s,r,o,a,l;const c=["to","replace","state","getProps"];let h=vo(e,c),d,{$$slots:f={},$$scope:p}=e,{to:_}=e,{replace:v=!1}=e,{state:y={}}=e,{getProps:b=null}=e;Er(xl,e);const I=Pm();Se(t,I,N=>n(11,d=N));const M=lm(),D=Mm(),{navigate:$}=Dm();function G(N){M("click",N),cv(N)&&(N.preventDefault(),$(i,{state:y,replace:o||v}))}return t.$$set=N=>{n(19,e=$t($t({},e),_o(N))),n(18,h=vo(e,c)),"to"in N&&n(5,_=N.to),"replace"in N&&n(6,v=N.replace),"state"in N&&n(7,y=N.state),"getProps"in N&&n(8,b=N.getProps),"$$scope"in N&&n(12,p=N.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&n(0,i=D(_,d)),t.$$.dirty&2049&&n(10,s=hl(d.pathname,i)),t.$$.dirty&2049&&n(9,r=i===d.pathname),t.$$.dirty&2049&&(o=ec(i)===Mv(d)),t.$$.dirty&512&&n(2,a=r?{"aria-current":"page"}:{}),n(1,l=(()=>{if(dm(b)){const N=b({location:d,href:i,isPartiallyCurrent:s,isCurrent:r});return{...h,...N}}return h})())},e=_o(e),[i,l,a,I,G,_,v,y,b,r,s,d,p,f]}class un extends Ze{constructor(e){super(),xe(this,e,u0,c0,We,{to:5,replace:6,state:7,getProps:8})}}const Rm="/to-deploy-mh/assets/logoMH.9387adb0.png",h0="/to-deploy-mh/assets/menu.9ddfd9f8.svg",Le=kt(""),dl=kt([]),Om=kt([]),Kn=kt([]),hs=kt(),nt=kt({typeContact:"",name:"",lastname:"",lastContact:"",telephon:"",email:"",selecMC:"",propCont:"",comContact:"",rangeProp:"",contMode:"",budget:"",numBeds:"",numBaths:"",halfBathroom:"",numParks:"",modePay:"",selecTP:"",contactType:"",contactStage:"",createdAt:"",locaProperty:[],tagsProperty:[],sendedProperties:[]}),Xe=kt({typeProperty:"",typeSaller:"",claveEB:"",claveMH:"",createdAt:"",nameProperty:"",price:"",beds:"",bathroom:"",halfBathroom:"",park:"",areaBuilding:"",areaTotal:"",description:"",urlImage:"",urlProp:"",urlSinergy:"",colonia:"",rangeProp:"",selectTP:"",selecTO:"",typeOperation:"",tagsProperty:[],locaProperty:[],binnacle:[]}),li=kt({task:"",isComplete:"",createdAt:"",endTask:"",timeTask:"",notes:"",user:"",id:""}),fi=kt({date:"",commBinnacle:"",action:"",to:""}),d0=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","S\xE1bado"],f0=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];function St(t){t=new Date(t);let e=t.getDate();typeof t!="string"&&(e=e+1),e<10&&(e="0"+e);let n=f0[t.getMonth()],i=t.getFullYear();return`${e}/${n}/${i}`}function Nu(t){t=new Date(t);let e=t.getMinutes();e.length<2&&(e="0"+e);let n=t.getHours();return n>12&&(n=n-12),n<10&&(n="0"+n),t.getDate(),`${n}:${e}`}function Mu(t){return t=new Date(+t),`${d0[t.getDay()]}-`}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},m0=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(n[h],n[d],n[f],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw Error();const f=r<<2|a>>4;if(i.push(f),c!==64){const p=a<<4&240|c>>2;if(i.push(p),d!==64){const _=c<<6&192|d;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},p0=function(t){const e=Bm(t);return Lm.encodeByteArray(e,!0)},Eo=function(t){return p0(t).replace(/\./g,"")},$m=function(t){try{return Lm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function _0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y0(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b0(){return typeof indexedDB=="object"}function w0(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function E0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=()=>E0().__FIREBASE_DEFAULTS__,I0=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$m(t[1]);return e&&JSON.parse(e)},nc=()=>{try{return k0()||I0()||T0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Um=t=>{var e,n;return(n=(e=nc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},S0=t=>{const e=Um(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},C0=()=>{var t;return(t=nc())===null||t===void 0?void 0:t.config},Fm=t=>{var e;return(e=nc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Eo(JSON.stringify(n)),Eo(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=D0,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?N0(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ii(s,a,i)}}function N0(t,e){return t.replace(M0,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const M0=/\{\$([^}]+)}/g;function R0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ko(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Ru(r)&&Ru(o)){if(!ko(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ru(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function js(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function qs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O0(t,e){const n=new B0(t,e);return n.subscribe.bind(n)}class B0{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");L0(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Va),s.error===void 0&&(s.error=Va),s.complete===void 0&&(s.complete=Va);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L0(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Va(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new A0;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F0(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:U0(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U0(t){return t===Oi?void 0:t}function F0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const j0={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},q0=ze.INFO,H0={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},G0=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=H0[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ic{constructor(e){this.name=e,this._logLevel=q0,this._logHandler=G0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const K0=(t,e)=>e.some(n=>t instanceof n);let Ou,Bu;function z0(){return Ou||(Ou=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W0(){return Bu||(Bu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vm=new WeakMap,fl=new WeakMap,jm=new WeakMap,ja=new WeakMap,sc=new WeakMap;function Q0(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(pi(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vm.set(n,t)}).catch(()=>{}),sc.set(e,t),e}function Y0(t){if(fl.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});fl.set(t,e)}let ml={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X0(t){ml=t(ml)}function J0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(qa(this),e,...n);return jm.set(i,e.sort?e.sort():[e]),pi(i)}:W0().includes(t)?function(...e){return t.apply(qa(this),e),pi(Vm.get(this))}:function(...e){return pi(t.apply(qa(this),e))}}function x0(t){return typeof t=="function"?J0(t):(t instanceof IDBTransaction&&Y0(t),K0(t,z0())?new Proxy(t,ml):t)}function pi(t){if(t instanceof IDBRequest)return Q0(t);if(ja.has(t))return ja.get(t);const e=x0(t);return e!==t&&(ja.set(t,e),sc.set(e,t)),e}const qa=t=>sc.get(t);function Z0(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=pi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(pi(o.result),l.oldVersion,l.newVersion,pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const e1=["get","getKey","getAll","getAllKeys","count"],t1=["put","add","delete","clear"],Ha=new Map;function Lu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ha.get(e))return Ha.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=t1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||e1.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ha.set(e,r),r}X0(t=>({...t,get:(e,n,i)=>Lu(e,n)||t.get(e,n,i),has:(e,n)=>!!Lu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function i1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pl="@firebase/app",$u="0.8.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new ic("@firebase/app"),s1="@firebase/app-compat",r1="@firebase/analytics-compat",o1="@firebase/analytics",a1="@firebase/app-check-compat",l1="@firebase/app-check",c1="@firebase/auth",u1="@firebase/auth-compat",h1="@firebase/database",d1="@firebase/database-compat",f1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",_1="@firebase/messaging",v1="@firebase/messaging-compat",y1="@firebase/performance",b1="@firebase/performance-compat",w1="@firebase/remote-config",E1="@firebase/remote-config-compat",k1="@firebase/storage",I1="@firebase/storage-compat",T1="@firebase/firestore",S1="@firebase/firestore-compat",C1="firebase",A1="9.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="[DEFAULT]",P1={[pl]:"fire-core",[s1]:"fire-core-compat",[o1]:"fire-analytics",[r1]:"fire-analytics-compat",[l1]:"fire-app-check",[a1]:"fire-app-check-compat",[c1]:"fire-auth",[u1]:"fire-auth-compat",[h1]:"fire-rtdb",[d1]:"fire-rtdb-compat",[f1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[_1]:"fire-fcm",[v1]:"fire-fcm-compat",[y1]:"fire-perf",[b1]:"fire-perf-compat",[w1]:"fire-rc",[E1]:"fire-rc-compat",[k1]:"fire-gcs",[I1]:"fire-gcs-compat",[T1]:"fire-fst",[S1]:"fire-fst-compat","fire-js":"fire-js",[C1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,_l=new Map;function D1(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(_l.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;_l.set(e,t);for(const n of Io.values())D1(n,t);return!0}function rc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gi=new kr("app","Firebase",N1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=A1;function qm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gl,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw gi.create("bad-app-name",{appName:String(s)});if(n||(n=C0()),!n)throw gi.create("no-options");const r=Io.get(s);if(r){if(ko(n,r.options)&&ko(i,r.config))return r;throw gi.create("duplicate-app",{appName:s})}const o=new V0(s);for(const l of _l.values())o.addComponent(l);const a=new M1(n,i,o);return Io.set(s,a),a}function Hm(t=gl){const e=Io.get(t);if(!e&&t===gl)return qm();if(!e)throw gi.create("no-app",{appName:t});return e}function _i(t,e,n){var i;let s=(i=P1[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(a.join(" "));return}vs(new Gi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firebase-heartbeat-database",O1=1,nr="firebase-heartbeat-store";let Ga=null;function Gm(){return Ga||(Ga=Z0(R1,O1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nr)}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),Ga}async function B1(t){var e;try{return(await Gm()).transaction(nr).objectStore(nr).get(Km(t))}catch(n){if(n instanceof ii)Ki.warn(n.message);else{const i=gi.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Ki.warn(i.message)}}}async function Uu(t,e){var n;try{const s=(await Gm()).transaction(nr,"readwrite");return await s.objectStore(nr).put(e,Km(t)),s.done}catch(i){if(i instanceof ii)Ki.warn(i.message);else{const s=gi.create("idb-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message});Ki.warn(s.message)}}}function Km(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1024,$1=30*24*60*60*1e3;class U1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V1(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fu();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=$1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fu(),{heartbeatsToSend:n,unsentEntries:i}=F1(this._heartbeatsCache.heartbeats),s=Eo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Fu(){return new Date().toISOString().substring(0,10)}function F1(t,e=L1){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Vu(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vu(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class V1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b0()?w0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await B1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Uu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Uu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vu(t){return Eo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t){vs(new Gi("platform-logger",e=>new n1(e),"PRIVATE")),vs(new Gi("heartbeat",e=>new U1(e),"PRIVATE")),_i(pl,$u,t),_i(pl,$u,"esm2017"),_i("fire-js","")}j1("");var q1="firebase",H1="9.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(q1,H1,"app");var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e,oc=oc||{},Te=G1||self;function To(){}function xo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function K1(t){return Object.prototype.hasOwnProperty.call(t,Ka)&&t[Ka]||(t[Ka]=++z1)}var Ka="closure_uid_"+(1e9*Math.random()>>>0),z1=0;function W1(t,e,n){return t.call.apply(t.bind,arguments)}function Q1(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=W1:Xt=Q1,Xt.apply(null,arguments)}function Zr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function Pi(){this.s=this.s,this.o=this.o}var Y1=0;Pi.prototype.s=!1;Pi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Y1!=0)&&K1(this)};Pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zm=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ac(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function ju(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(xo(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let o=0;o<r;o++)t[s+o]=i[o]}else t.push(i)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var X1=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Te.addEventListener("test",To,e),Te.removeEventListener("test",To,e)}catch{}return t}();function So(t){return/^[\s\xa0]*$/.test(t)}var qu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function za(t,e){return t<e?-1:t>e?1:0}function Zo(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return Zo().indexOf(t)!=-1}function lc(t){return lc[" "](t),t}lc[" "]=To;function J1(t){var e=ey;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var x1=Nn("Opera"),ys=Nn("Trident")||Nn("MSIE"),Wm=Nn("Edge"),vl=Wm||ys,Qm=Nn("Gecko")&&!(Zo().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),Z1=Zo().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function Ym(){var t=Te.document;return t?t.documentMode:void 0}var Co;e:{var Wa="",Qa=function(){var t=Zo();if(Qm)return/rv:([^\);]+)(\)|;)/.exec(t);if(Wm)return/Edge\/([\d\.]+)/.exec(t);if(ys)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Z1)return/WebKit\/(\S+)/.exec(t);if(x1)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qa&&(Wa=Qa?Qa[1]:""),ys){var Ya=Ym();if(Ya!=null&&Ya>parseFloat(Wa)){Co=String(Ya);break e}}Co=Wa}var ey={};function ty(){return J1(function(){let t=0;const e=qu(String(Co)).split("."),n=qu("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s[0].length==0&&r[0].length==0)break;t=za(s[1].length==0?0:parseInt(s[1],10),r[1].length==0?0:parseInt(r[1],10))||za(s[2].length==0,r[2].length==0)||za(s[2],r[2]),s=s[3],r=r[3]}while(t==0)}return 0<=t})}var yl;if(Te.document&&ys){var Hu=Ym();yl=Hu||parseInt(Co,10)||void 0}else yl=void 0;var ny=yl;function ir(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Qm){e:{try{lc(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iy[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ir.X.h.call(this)}}Kt(ir,Jt);var iy={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cr="closure_listenable_"+(1e6*Math.random()|0),sy=0;function ry(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=s,this.key=++sy,this.ba=this.ea=!1}function ea(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function cc(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function Xm(t){const e={};for(const n in t)e[n]=t[n];return e}const Gu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jm(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<Gu.length;r++)n=Gu[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ta(t){this.src=t,this.g={},this.h=0}ta.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=wl(t,e,i,s);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new ry(e,this.src,r,!!i,s),e.ea=n,t.push(e)),e};function bl(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=zm(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ea(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wl(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ba&&r.listener==e&&r.capture==!!n&&r.ha==i)return s}return-1}var uc="closure_lm_"+(1e6*Math.random()|0),Xa={};function xm(t,e,n,i,s){if(i&&i.once)return ep(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)xm(t,e[r],n,i,s);return null}return n=fc(n),t&&t[Cr]?t.N(e,n,Sr(i)?!!i.capture:!!i,s):Zm(t,e,n,!1,i,s)}function Zm(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=Sr(s)?!!s.capture:!!s,a=dc(t);if(a||(t[uc]=a=new ta(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=oy(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)X1||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(np(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oy(){function t(n){return e.call(t.src,t.listener,n)}const e=ay;return t}function ep(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)ep(t,e[r],n,i,s);return null}return n=fc(n),t&&t[Cr]?t.O(e,n,Sr(i)?!!i.capture:!!i,s):Zm(t,e,n,!0,i,s)}function tp(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)tp(t,e[r],n,i,s);else i=Sr(i)?!!i.capture:!!i,n=fc(n),t&&t[Cr]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=wl(r,n,i,s),-1<n&&(ea(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=dc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wl(e,n,i,s)),(n=-1<t?e[t]:null)&&hc(n))}function hc(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Cr])bl(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(np(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=dc(e))?(bl(n,t),n.h==0&&(n.src=null,e[uc]=null)):ea(t)}}}function np(t){return t in Xa?Xa[t]:Xa[t]="on"+t}function ay(t,e){if(t.ba)t=!0;else{e=new ir(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&hc(t),t=n.call(i,e)}return t}function dc(t){return t=t[uc],t instanceof ta?t:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function fc(t){return typeof t=="function"?t:(t[Ja]||(t[Ja]=function(e){return t.handleEvent(e)}),t[Ja])}function Ut(){Pi.call(this),this.i=new ta(this),this.P=this,this.I=null}Kt(Ut,Pi);Ut.prototype[Cr]=!0;Ut.prototype.removeEventListener=function(t,e,n,i){tp(this,t,e,n,i)};function Gt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var s=e;e=new Jt(i,t),Jm(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=eo(o,i,!0,e)&&s}if(o=e.g=t,s=eo(o,i,!0,e)&&s,s=eo(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=eo(o,i,!1,e)&&s}Ut.prototype.M=function(){if(Ut.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ea(n[i]);delete t.g[e],t.h--}}this.I=null};Ut.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ut.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function eo(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&bl(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var mc=Te.JSON.stringify;function ly(){var t=rp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cy{constructor(){this.h=this.g=null}add(e,n){const i=ip.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var ip=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new uy,t=>t.reset());class uy{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hy(t){Te.setTimeout(()=>{throw t},0)}function sp(t,e){El||dy(),kl||(El(),kl=!0),rp.add(t,e)}var El;function dy(){var t=Te.Promise.resolve(void 0);El=function(){t.then(fy)}}var kl=!1,rp=new cy;function fy(){for(var t;t=ly();){try{t.h.call(t.g)}catch(n){hy(n)}var e=ip;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kl=!1}function na(t,e){Ut.call(this),this.h=t||1,this.g=e||Te,this.j=Xt(this.lb,this),this.l=Date.now()}Kt(na,Ut);_e=na.prototype;_e.ca=!1;_e.R=null;_e.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gt(this,"tick"),this.ca&&(pc(this),this.start()))}};_e.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pc(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}_e.M=function(){na.X.M.call(this),pc(this),delete this.g};function gc(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function op(t){t.g=gc(()=>{t.g=null,t.i&&(t.i=!1,op(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class my extends Pi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:op(this)}M(){super.M(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(t){Pi.call(this),this.h=t,this.g={}}Kt(sr,Pi);var Ku=[];function ap(t,e,n,i){Array.isArray(n)||(n&&(Ku[0]=n.toString()),n=Ku);for(var s=0;s<n.length;s++){var r=xm(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function lp(t){cc(t.g,function(e,n){this.g.hasOwnProperty(n)&&hc(e)},t),t.g={}}sr.prototype.M=function(){sr.X.M.call(this),lp(this)};sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ia(){this.g=!0}ia.prototype.Aa=function(){this.g=!1};function py(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var d=h.split("_");o=2<=d.length&&d[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function gy(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function as(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+vy(t,n)+(i?" "+i:"")})}function _y(t,e){t.info(function(){return"TIMEOUT: "+e})}ia.prototype.info=function(){};function vy(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return mc(n)}catch{return e}}var xi={},zu=null;function sa(){return zu=zu||new Ut}xi.Pa="serverreachability";function cp(t){Jt.call(this,xi.Pa,t)}Kt(cp,Jt);function rr(t){const e=sa();Gt(e,new cp(e))}xi.STAT_EVENT="statevent";function up(t,e){Jt.call(this,xi.STAT_EVENT,t),this.stat=e}Kt(up,Jt);function sn(t){const e=sa();Gt(e,new up(e,t))}xi.Qa="timingevent";function hp(t,e){Jt.call(this,xi.Qa,t),this.size=e}Kt(hp,Jt);function Ar(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var ra={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _c(){}_c.prototype.h=null;function Wu(t){return t.h||(t.h=t.i())}function fp(){}var Pr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vc(){Jt.call(this,"d")}Kt(vc,Jt);function yc(){Jt.call(this,"c")}Kt(yc,Jt);var Il;function oa(){}Kt(oa,_c);oa.prototype.g=function(){return new XMLHttpRequest};oa.prototype.i=function(){return{}};Il=new oa;function Dr(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new sr(this),this.O=yy,t=vl?125:void 0,this.T=new na(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new mp}function mp(){this.i=null,this.g="",this.h=!1}var yy=45e3,Tl={},Ao={};_e=Dr.prototype;_e.setTimeout=function(t){this.O=t};function Sl(t,e,n){t.K=1,t.v=la(xn(e)),t.s=n,t.P=!0,pp(t,null)}function pp(t,e){t.F=Date.now(),Nr(t),t.A=xn(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),kp(n.i,"t",i),t.C=0,n=t.l.H,t.h=new mp,t.g=Gp(t.l,n?e:null,!t.s),0<t.N&&(t.L=new my(Xt(t.La,t,t.g),t.N)),ap(t.S,t.g,"readystatechange",t.ib),e=t.H?Xm(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),rr(),py(t.j,t.u,t.A,t.m,t.U,t.s)}_e.ib=function(t){t=t.target;const e=this.L;e&&zn(t)==3?e.l():this.La(t)};_e.La=function(t){try{if(t==this.g)e:{const h=zn(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>h)&&(h!=3||vl||this.g&&(this.h.h||this.g.fa()||Ju(this.g)))){this.I||h!=4||e==7||(e==8||0>=d?rr(3):rr(2)),aa(this);var n=this.g.aa();this.Y=n;t:if(gp(this)){var i=Ju(this.g);t="";var s=i.length,r=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),Ys(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,gy(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!So(a)){var c=a;break t}}c=null}if(n=c)as(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cl(this,n);else{this.i=!1,this.o=3,sn(12),Bi(this),Ys(this);break e}}this.P?(_p(this,h,o),vl&&this.i&&h==3&&(ap(this.S,this.T,"tick",this.hb),this.T.start())):(as(this.j,this.m,o,null),Cl(this,o)),h==4&&Bi(this),this.i&&!this.I&&(h==4?Vp(this.l,this):(this.i=!1,Nr(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Bi(this),Ys(this)}}}catch{}finally{}};function gp(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function _p(t,e,n){let i=!0,s;for(;!t.I&&t.C<n.length;)if(s=by(t,n),s==Ao){e==4&&(t.o=4,sn(14),i=!1),as(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Tl){t.o=4,sn(15),as(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else as(t.j,t.m,s,null),Cl(t,s);gp(t)&&s!=Ao&&s!=Tl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,sn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sc(e),e.K=!0,sn(11))):(as(t.j,t.m,n,"[Invalid Chunked Response]"),Bi(t),Ys(t))}_e.hb=function(){if(this.g){var t=zn(this.g),e=this.g.fa();this.C<e.length&&(aa(this),_p(this,t,e),this.i&&t!=4&&Nr(this))}};function by(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Ao:(n=Number(e.substring(n,i)),isNaN(n)?Tl:(i+=1,i+n>e.length?Ao:(e=e.substr(i,n),t.C=i+n,e)))}_e.cancel=function(){this.I=!0,Bi(this)};function Nr(t){t.V=Date.now()+t.O,vp(t,t.O)}function vp(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ar(Xt(t.gb,t),e)}function aa(t){t.B&&(Te.clearTimeout(t.B),t.B=null)}_e.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(_y(this.j,this.A),this.K!=2&&(rr(),sn(17)),Bi(this),this.o=2,Ys(this)):vp(this,this.V-t)};function Ys(t){t.l.G==0||t.I||Vp(t.l,t)}function Bi(t){aa(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,pc(t.T),lp(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Cl(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Al(n.h,t))){if(!t.J&&Al(n.h,t)&&n.G==3){try{var i=n.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)No(n),ha(n);else break e;Tc(n),sn(18)}}else n.Ba=s[1],0<n.Ba-n.T&&37500>s[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ar(Xt(n.cb,n),6e3));if(1>=Sp(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Li(n,11)}else if((t.J||n.g==t)&&No(n),!So(e))for(s=n.Fa.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const h=c[3];h!=null&&(n.ma=h,n.j.info("VER="+n.ma));const d=c[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var r=i.h;r.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(bc(r,r.h),r.h=null))}if(i.D){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.za=v,ot(i.F,i.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=t;if(i.sa=Hp(i,i.H?i.ka:null,i.V),o.J){Cp(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(aa(a),Nr(a)),i.g=o}else Up(i);0<n.i.length&&da(n)}else c[0]!="stop"&&c[0]!="close"||Li(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Li(n,7):Ic(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}rr(4)}catch{}}function wy(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xo(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Ey(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function yp(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Ey(t),i=wy(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ky(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ui(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ui){this.h=e!==void 0?e:t.h,Po(this,t.j),this.s=t.s,this.g=t.g,Do(this,t.m),this.l=t.l,e=t.i;var n=new or;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qu(this,n),this.o=t.o}else t&&(n=String(t).match(bp))?(this.h=!!e,Po(this,n[1]||"",!0),this.s=Hs(n[2]||""),this.g=Hs(n[3]||"",!0),Do(this,n[4]),this.l=Hs(n[5]||"",!0),Qu(this,n[6]||"",!0),this.o=Hs(n[7]||"")):(this.h=!!e,this.i=new or(null,this.h))}Ui.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Gs(e,Yu,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Gs(e,Yu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Gs(n,n.charAt(0)=="/"?Sy:Ty,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Gs(n,Ay)),t.join("")};function xn(t){return new Ui(t)}function Po(t,e,n){t.j=n?Hs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Do(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qu(t,e,n){e instanceof or?(t.i=e,Py(t.i,t.h)):(n||(e=Gs(e,Cy)),t.i=new or(e,t.h))}function ot(t,e,n){t.i.set(e,n)}function la(t){return ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Iy),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Iy(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Yu=/[#\/\?@]/g,Ty=/[#\?:]/g,Sy=/[#\?]/g,Cy=/[#\?@]/g,Ay=/#/g;function or(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Di(t){t.g||(t.g=new Map,t.h=0,t.i&&ky(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}_e=or.prototype;_e.add=function(t,e){Di(this),this.i=null,t=As(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function wp(t,e){Di(t),e=As(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ep(t,e){return Di(t),e=As(t,e),t.g.has(e)}_e.forEach=function(t,e){Di(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};_e.oa=function(){Di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};_e.W=function(t){Di(this);let e=[];if(typeof t=="string")Ep(this,t)&&(e=e.concat(this.g.get(As(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};_e.set=function(t,e){return Di(this),this.i=null,t=As(this,t),Ep(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};_e.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function kp(t,e,n){wp(t,e),0<n.length&&(t.i=null,t.g.set(As(t,e),ac(n)),t.h+=n.length)}_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),t.push(s)}}return this.i=t.join("&")};function As(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Py(t,e){e&&!t.j&&(Di(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(wp(this,i),kp(this,s,n))},t)),t.j=e}var Dy=class{constructor(t,e){this.h=t,this.g=e}};function Ip(t){this.l=t||Ny,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ga&&Te.g.Ga()&&Te.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ny=10;function Tp(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Sp(t){return t.h?1:t.g?t.g.size:0}function Al(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bc(t,e){t.g?t.g.add(e):t.h=e}function Cp(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ip.prototype.cancel=function(){if(this.i=Ap(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ap(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ac(t.i)}function wc(){}wc.prototype.stringify=function(t){return Te.JSON.stringify(t,void 0)};wc.prototype.parse=function(t){return Te.JSON.parse(t,void 0)};function My(){this.g=new wc}function Ry(t,e,n){const i=n||"";try{yp(t,function(s,r){let o=s;Sr(s)&&(o=mc(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function Oy(t,e){const n=new ia;if(Te.Image){const i=new Image;i.onload=Zr(to,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Zr(to,n,i,"TestLoadImage: error",!1,e),i.onabort=Zr(to,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zr(to,n,i,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function to(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Mr(t){this.l=t.ac||null,this.j=t.jb||!1}Kt(Mr,_c);Mr.prototype.g=function(){return new ca(this.l,this.j)};Mr.prototype.i=function(t){return function(){return t}}({});function ca(t,e){Ut.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ec,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(ca,Ut);var Ec=0;_e=ca.prototype;_e.open=function(t,e){if(this.readyState!=Ec)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ar(this)};_e.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Te).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=Ec};_e.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pp(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Pp(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}_e.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rr(this):ar(this),this.readyState==3&&Pp(this)}};_e.Va=function(t){this.g&&(this.response=this.responseText=t,Rr(this))};_e.Ua=function(t){this.g&&(this.response=t,Rr(this))};_e.ga=function(){this.g&&Rr(this)};function Rr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ar(t)}_e.setRequestHeader=function(t,e){this.v.append(t,e)};_e.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};_e.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ar(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var By=Te.JSON.parse;function ht(t){Ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dp,this.K=this.L=!1}Kt(ht,Ut);var Dp="",Ly=/^https?$/i,$y=["POST","PUT"];_e=ht.prototype;_e.Ka=function(t){this.L=t};_e.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Il.g(),this.C=this.u?Wu(this.u):Wu(Il),this.g.onreadystatechange=Xt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){Xu(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=Te.FormData&&t instanceof Te.FormData,!(0<=zm($y,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rp(this),0<this.B&&((this.K=Uy(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.qa,this)):this.A=gc(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Xu(this,r)}};function Uy(t){return ys&&ty()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}_e.qa=function(){typeof oc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))};function Xu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Np(t),ua(t)}function Np(t){t.D||(t.D=!0,Gt(t,"complete"),Gt(t,"error"))}_e.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),ua(this))};_e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ua(this,!0)),ht.X.M.call(this)};_e.Ha=function(){this.s||(this.F||this.v||this.l?Mp(this):this.fb())};_e.fb=function(){Mp(this)};function Mp(t){if(t.h&&typeof oc<"u"&&(!t.C[1]||zn(t)!=4||t.aa()!=2)){if(t.v&&zn(t)==4)gc(t.Ha,0,t);else if(Gt(t,"readystatechange"),zn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var s=String(t.H).match(bp)[1]||null;if(!s&&Te.self&&Te.self.location){var r=Te.self.location.protocol;s=r.substr(0,r.length-1)}i=!Ly.test(s?s.toLowerCase():"")}n=i}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var o=2<zn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Np(t)}}finally{ua(t)}}}}function ua(t,e){if(t.g){Rp(t);const n=t.g,i=t.C[0]?To:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=i}catch{}}}function Rp(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}function zn(t){return t.g?t.g.readyState:0}_e.aa=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}};_e.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};_e.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),By(e)}};function Ju(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Dp:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}_e.Ea=function(){return this.m};_e.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Op(t){let e="";return cc(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function kc(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Op(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ot(t,e,n))}function Us(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bp(t){this.Ca=0,this.i=[],this.j=new ia,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Us("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Us("baseRetryDelayMs",5e3,t),this.bb=Us("retryDelaySeedMs",1e4,t),this.$a=Us("forwardChannelMaxRetries",2,t),this.ta=Us("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Ip(t&&t.concurrentRequestLimit),this.Fa=new My,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}_e=Bp.prototype;_e.ma=8;_e.G=1;function Ic(t){if(Lp(t),t.G==3){var e=t.U++,n=xn(t.F);ot(n,"SID",t.I),ot(n,"RID",e),ot(n,"TYPE","terminate"),Or(t,n),e=new Dr(t,t.j,e,void 0),e.K=2,e.v=la(xn(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon&&(n=Te.navigator.sendBeacon(e.v.toString(),"")),!n&&Te.Image&&(new Image().src=e.v,n=!0),n||(e.g=Gp(e.l,null),e.g.da(e.v)),e.F=Date.now(),Nr(e)}qp(t)}function ha(t){t.g&&(Sc(t),t.g.cancel(),t.g=null)}function Lp(t){ha(t),t.u&&(Te.clearTimeout(t.u),t.u=null),No(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function da(t){Tp(t.h)||t.m||(t.m=!0,sp(t.Ja,t),t.C=0)}function Fy(t,e){return Sp(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Ar(Xt(t.Ja,t,e),jp(t,t.C)),t.C++,!0)}_e.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new Dr(this,this.j,t,void 0);let r=this.s;if(this.S&&(r?(r=Xm(r),Jm(r,this.S)):r=this.S),this.o!==null||this.N||(s.H=r,r=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$p(this,s,e),n=xn(this.F),ot(n,"RID",t),ot(n,"CVER",22),this.D&&ot(n,"X-HTTP-Session-Id",this.D),Or(this,n),r&&(this.N?e="headers="+encodeURIComponent(String(Op(r)))+"&"+e:this.o&&kc(n,this.o,r)),bc(this.h,s),this.Ya&&ot(n,"TYPE","init"),this.O?(ot(n,"$req",e),ot(n,"SID","null"),s.Z=!0,Sl(s,n,null)):Sl(s,n,e),this.G=2}}else this.G==3&&(t?xu(this,t):this.i.length==0||Tp(this.h)||xu(this))};function xu(t,e){var n;e?n=e.m:n=t.U++;const i=xn(t.F);ot(i,"SID",t.I),ot(i,"RID",n),ot(i,"AID",t.T),Or(t,i),t.o&&t.s&&kc(i,t.o,t.s),n=new Dr(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=$p(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),bc(t.h,n),Sl(n,i,e)}function Or(t,e){t.ia&&cc(t.ia,function(n,i){ot(e,i,n)}),t.l&&yp({},function(n,i){ot(e,i,n)})}function $p(t,e,n){n=Math.min(t.i.length,n);var i=t.l?Xt(t.l.Ra,t.l,t):null;e:{var s=t.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].h;const h=s[l].g;if(c-=r,0>c)r=Math.max(0,s[l].h-100),a=!1;else try{Ry(h,o,"req"+c+"_")}catch{i&&i(h)}}if(a){i=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,i}function Up(t){t.g||t.u||(t.Z=1,sp(t.Ia,t),t.A=0)}function Tc(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ar(Xt(t.Ia,t),jp(t,t.A)),t.A++,!0)}_e.Ia=function(){if(this.u=null,Fp(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ar(Xt(this.eb,this),t)}};_e.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,sn(10),ha(this),Fp(this))};function Sc(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function Fp(t){t.g=new Dr(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=xn(t.sa);ot(e,"RID","rpc"),ot(e,"SID",t.I),ot(e,"CI",t.L?"0":"1"),ot(e,"AID",t.T),ot(e,"TYPE","xmlhttp"),Or(t,e),t.o&&t.s&&kc(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=la(xn(e)),n.s=null,n.P=!0,pp(n,t)}_e.cb=function(){this.v!=null&&(this.v=null,ha(this),Tc(this),sn(19))};function No(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function Vp(t,e){var n=null;if(t.g==e){No(t),Sc(t),t.g=null;var i=2}else if(Al(t.h,e))n=e.D,Cp(t.h,e),i=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=sa(),Gt(i,new hp(i,n)),da(t)}else Up(t);else if(s=e.o,s==3||s==0&&0<t.pa||!(i==1&&Fy(t,e)||i==2&&Tc(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),s){case 1:Li(t,5);break;case 4:Li(t,10);break;case 3:Li(t,6);break;default:Li(t,2)}}}function jp(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Li(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var i=Xt(t.kb,t);n||(n=new Ui("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||Po(n,"https"),la(n)),Oy(n.toString(),i)}else sn(2);t.G=0,t.l&&t.l.va(e),qp(t),Lp(t)}_e.kb=function(t){t?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function qp(t){if(t.G=0,t.la=[],t.l){const e=Ap(t.h);(e.length!=0||t.i.length!=0)&&(ju(t.la,e),ju(t.la,t.i),t.h.i.length=0,ac(t.i),t.i.length=0),t.l.ua()}}function Hp(t,e,n){var i=n instanceof Ui?xn(n):new Ui(n,void 0);if(i.g!="")e&&(i.g=e+"."+i.g),Do(i,i.m);else{var s=Te.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new Ui(null,void 0);i&&Po(r,i),e&&(r.g=e),s&&Do(r,s),n&&(r.l=n),i=r}return n=t.D,e=t.za,n&&e&&ot(i,n,e),ot(i,"VER",t.ma),Or(t,i),i}function Gp(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ht(new Mr({jb:!0})):new ht(t.ra),e.Ka(t.H),e}function Kp(){}_e=Kp.prototype;_e.xa=function(){};_e.wa=function(){};_e.va=function(){};_e.ua=function(){};_e.Ra=function(){};function Mo(){if(ys&&!(10<=Number(ny)))throw Error("Environmental error: no available transport.")}Mo.prototype.g=function(t,e){return new yn(t,e)};function yn(t,e){Ut.call(this),this.g=new Bp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!So(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!So(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ps(this)}Kt(yn,Ut);yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Hp(t,null,t.V),da(t)};yn.prototype.close=function(){Ic(this.g)};yn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=mc(t),t=n);e.i.push(new Dy(e.ab++,t)),e.G==3&&da(e)};yn.prototype.M=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,yn.X.M.call(this)};function zp(t){vc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kt(zp,vc);function Wp(){yc.call(this),this.status=1}Kt(Wp,yc);function Ps(t){this.g=t}Kt(Ps,Kp);Ps.prototype.xa=function(){Gt(this.g,"a")};Ps.prototype.wa=function(t){Gt(this.g,new zp(t))};Ps.prototype.va=function(t){Gt(this.g,new Wp)};Ps.prototype.ua=function(){Gt(this.g,"b")};Mo.prototype.createWebChannel=Mo.prototype.g;yn.prototype.send=yn.prototype.u;yn.prototype.open=yn.prototype.m;yn.prototype.close=yn.prototype.close;ra.NO_ERROR=0;ra.TIMEOUT=8;ra.HTTP_ERROR=6;dp.COMPLETE="complete";fp.EventType=Pr;Pr.OPEN="a";Pr.CLOSE="b";Pr.ERROR="c";Pr.MESSAGE="d";Ut.prototype.listen=Ut.prototype.N;ht.prototype.listenOnce=ht.prototype.O;ht.prototype.getLastError=ht.prototype.Oa;ht.prototype.getLastErrorCode=ht.prototype.Ea;ht.prototype.getStatus=ht.prototype.aa;ht.prototype.getResponseJson=ht.prototype.Sa;ht.prototype.getResponseText=ht.prototype.fa;ht.prototype.send=ht.prototype.da;ht.prototype.setWithCredentials=ht.prototype.Ka;var Vy=function(){return new Mo},jy=function(){return sa()},xa=ra,qy=dp,Hy=xi,Zu={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Gy=Mr,no=fp,Ky=ht;const eh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="9.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new ic("@firebase/firestore");function th(){return zi.logLevel}function ye(t,...e){if(zi.logLevel<=ze.DEBUG){const n=e.map(Cc);zi.debug(`Firestore (${Ds}): ${t}`,...n)}}function Zn(t,...e){if(zi.logLevel<=ze.ERROR){const n=e.map(Cc);zi.error(`Firestore (${Ds}): ${t}`,...n)}}function Pl(t,...e){if(zi.logLevel<=ze.WARN){const n=e.map(Cc);zi.warn(`Firestore (${Ds}): ${t}`,...n)}}function Cc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function it(t,e){t||Ce()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class Wy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qy{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new vi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string"),new Qp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Qt(e)}}class Yy{constructor(e,n,i,s){this.h=e,this.l=n,this.m=i,this.g=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(it(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Xy{constructor(e,n,i,s){this.h=e,this.l=n,this.m=i,this.g=s}getToken(){return Promise.resolve(new Yy(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xy{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const i=r=>{r.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.A;return this.A=r.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.T.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.T.getImmediate({optional:!0});r?s(r):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.A=n.token,new Jy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=Zy(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Je(t,e){return t<e?-1:t>e?1:0}function bs(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ee(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new At(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new At(0,0))}static max(){return new De(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(),i===void 0?i=e.length-n:i>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends lr{construct(e,n,i){return new at(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new at(n)}static emptyPath(){return new at([])}}const eb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends lr{construct(e,n,i){return new Yt(e,n,i)}static isValidIdentifier(e){return eb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new Ee(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ee(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ee(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new Ee(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(at.fromString(e))}static fromName(e){return new we(at.fromString(e).popFirst(5))}static empty(){return new we(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new at(e.slice()))}}function tb(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new Ti(s,we.empty(),e)}function nb(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ti(De.min(),we.empty(),-1)}static max(){return new Ti(De.max(),we.empty(),-1)}}function ib(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==sb)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,i)=>{n(e)})}static reject(e){return new ne((n,i)=>{i(e)})}static waitFor(e){return new ne((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=ne.resolve(!1);for(const i of e)n=n.next(s=>s?ne.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new ne((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===r&&i(o)},h=>s(h))}})}static doWhile(e,n){return new ne((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function Lr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ac.at=-1;class Dt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new io(this.root,e,this.comparator,!1)}getReverseIterator(){return new io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new io(this.root,e,this.comparator,!0)}}class io{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i!=null?i:qt.RED,this.left=s!=null?s:qt.EMPTY,this.right=r!=null?r:qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new qt(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,s!=null?s:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(t,e,n,i,s){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(e){return new ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class ih{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Pt(Yt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(it(!!t),typeof t=="string"){let e=0;const n=ob.exec(t);if(it(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xp(t){const e=t.mapValue.fields.__previous_value__;return Jp(e)?xp(e):e}function cr(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,i,s,r,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ur{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ur("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ur&&e.projectId===this.projectId&&e.database===this.database}}function fa(t){return t==null}function Ro(t){return t===0&&1/t==-1/0}function lb(t){return typeof t=="number"&&Number.isInteger(t)&&!Ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jp(t)?4:cb(t)?9007199254740991:10:Ce()}function $n(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cr(t).isEqual(cr(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=Si(i.timestampValue),o=Si(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Et(i.geoPointValue.latitude)===Et(s.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Et(i.integerValue)===Et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=Et(i.doubleValue),o=Et(s.doubleValue);return r===o?Ro(r)===Ro(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return bs(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(nh(r)!==nh(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!$n(r[a],o[a])))return!1;return!0}(t,e);default:return Ce()}}function hr(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=Wi(t),i=Wi(e);if(n!==i)return Je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,r){const o=Et(s.integerValue||s.doubleValue),a=Et(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return sh(t.timestampValue,e.timestampValue);case 4:return sh(cr(t),cr(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(s,r){const o=ws(s),a=ws(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Je(o[l],a[l]);if(c!==0)return c}return Je(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,r){const o=Je(Et(s.latitude),Et(r.latitude));return o!==0?o:Je(Et(s.longitude),Et(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Es(o[l],a[l]);if(c)return c}return Je(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,r){if(s===so.mapValue&&r===so.mapValue)return 0;if(s===so.mapValue)return 1;if(r===so.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let h=0;h<a.length&&h<c.length;++h){const d=Je(a[h],c[h]);if(d!==0)return d;const f=Es(o[a[h]],l[c[h]]);if(f!==0)return f}return Je(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function sh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Si(t),i=Si(e),s=Je(n.seconds,i.seconds);return s!==0?s:Je(n.nanos,i.nanos)}function ds(t){return Dl(t)}function Dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=Si(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ws(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,we.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=Dl(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${Dl(i.fields[a])}`;return r+"}"}(t.mapValue):Ce();var e,n}function Nl(t){return!!t&&"integerValue"in t}function Pc(t){return!!t&&"arrayValue"in t}function rh(t){return!!t&&"nullValue"in t}function oh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lo(t){return!!t&&"mapValue"in t}function Xs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Xs(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!lo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(n)}setAll(e){let n=Yt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Xs(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());lo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];lo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Zi(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new hn(Xs(this.value))}}function Zp(t){const e=[];return Zi(t.fields,(n,i)=>{const s=new Yt([n]);if(lo(i)){const r=Zp(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,i,s,r,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.data=r,this.documentState=o}static newInvalidDocument(e){return new Ht(e,0,De.min(),De.min(),hn.empty(),0)}static newFoundDocument(e,n,i){return new Ht(e,1,n,De.min(),i,0)}static newNoDocument(e,n){return new Ht(e,2,n,De.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,De.min(),hn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ht=null}}function ah(t,e=null,n=[],i=[],s=null,r=null,o=null){return new ub(t,e,n,i,s,r,o)}function Dc(t){const e=Ae(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>{return(s=i).field.canonicalString()+s.op.toString()+ds(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),fa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ds(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ds(i)).join(",")),e.ht=n}return e.ht}function hb(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(i=n).field.canonicalString()} ${i.op} ${ds(i.value)}`;var i}).join(", ")}]`),fa(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ds(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ds(n)).join(",")),`Target(${e})`}function Nc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!yb(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],i=e.filters[s],n.op!==i.op||!n.field.isEqual(i.field)||!$n(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ch(t.startAt,e.startAt)&&ch(t.endAt,e.endAt)}function Ml(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class fn extends class{}{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,i):new db(e,n,i):n==="array-contains"?new pb(e,i):n==="in"?new gb(e,i):n==="not-in"?new _b(e,i):n==="array-contains-any"?new vb(e,i):new fn(e,n,i)}static lt(e,n,i){return n==="in"?new fb(e,i):new mb(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Es(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.ft(Es(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class db extends fn{constructor(e,n,i){super(e,n,i),this.key=we.fromName(i.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.ft(n)}}class fb extends fn{constructor(e,n){super(e,"in",n),this.keys=eg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mb extends fn{constructor(e,n){super(e,"not-in",n),this.keys=eg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>we.fromName(i.referenceValue))}class pb extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pc(n)&&hr(n.arrayValue,this.value)}}class gb extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hr(this.value.arrayValue,n)}}class _b extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hr(this.value.arrayValue,n)}}class vb extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>hr(this.value.arrayValue,i))}}class Oo{constructor(e,n){this.position=e,this.inclusive=n}}class Js{constructor(e,n="asc"){this.field=e,this.dir=n}}function yb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function lh(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=we.comparator(we.fromName(o.referenceValue),n.key):i=Es(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function ch(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function bb(t,e,n,i,s,r,o,a){return new ma(t,e,n,i,s,r,o,a)}function Mc(t){return new ma(t)}function uh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Eb(t){for(const e of t.filters)if(e.dt())return e.field;return null}function kb(t){return t.collectionGroup!==null}function dr(t){const e=Ae(t);if(e._t===null){e._t=[];const n=Eb(e),i=wb(e);if(n!==null&&i===null)n.isKeyField()||e._t.push(new Js(n)),e._t.push(new Js(Yt.keyField(),"asc"));else{let s=!1;for(const r of e.explicitOrderBy)e._t.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Js(Yt.keyField(),r))}}}return e._t}function ei(t){const e=Ae(t);if(!e.wt)if(e.limitType==="F")e.wt=ah(e.path,e.collectionGroup,dr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of dr(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new Js(r.field,o))}const i=e.endAt?new Oo(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Oo(e.startAt.position,e.startAt.inclusive):null;e.wt=ah(e.path,e.collectionGroup,n,e.filters,e.limit,i,s)}return e.wt}function Rl(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pa(t,e){return Nc(ei(t),ei(e))&&t.limitType===e.limitType}function tg(t){return`${Dc(ei(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${hb(ei(t))}; limitType=${t.limitType})`}function Rc(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):we.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=lh(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,dr(n),i)||n.endAt&&!function(s,r,o){const a=lh(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,dr(n),i))}(t,e)}function Ib(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ng(t){return(e,n)=>{let i=!1;for(const s of dr(t)){const r=Tb(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function Tb(t,e,n){const i=t.field.isKeyField()?we.comparator(e.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Es(a,l):Ce()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ro(e)?"-0":e}}function sg(t){return{integerValue:""+t}}function Sb(t,e){return lb(e)?sg(e):ig(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this._=void 0}}function Cb(t,e,n){return t instanceof Bo?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,e):t instanceof fr?og(t,e):t instanceof mr?ag(t,e):function(i,s){const r=rg(i,s),o=hh(r)+hh(i.yt);return Nl(r)&&Nl(i.yt)?sg(o):ig(i.It,o)}(t,e)}function Ab(t,e,n){return t instanceof fr?og(t,e):t instanceof mr?ag(t,e):n}function rg(t,e){return t instanceof Lo?Nl(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Bo extends ga{}class fr extends ga{constructor(e){super(),this.elements=e}}function og(t,e){const n=lg(e);for(const i of t.elements)n.some(s=>$n(s,i))||n.push(i);return{arrayValue:{values:n}}}class mr extends ga{constructor(e){super(),this.elements=e}}function ag(t,e){let n=lg(e);for(const i of t.elements)n=n.filter(s=>!$n(s,i));return{arrayValue:{values:n}}}class Lo extends ga{constructor(e,n){super(),this.It=e,this.yt=n}}function hh(t){return Et(t.integerValue||t.doubleValue)}function lg(t){return Pc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pb(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof fr&&i instanceof fr||n instanceof mr&&i instanceof mr?bs(n.elements,i.elements,$n):n instanceof Lo&&i instanceof Lo?$n(n.yt,i.yt):n instanceof Bo&&i instanceof Bo}(t.transform,e.transform)}class Db{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function co(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _a{}function cg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oc(t.key,kn.none()):new $r(t.key,t.data,kn.none());{const n=t.data,i=hn.empty();let s=new Pt(Yt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Ni(t.key,i,new En(s.toArray()),kn.none())}}function Nb(t,e,n){t instanceof $r?function(i,s,r){const o=i.value.clone(),a=fh(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(i,s,r){if(!co(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=fh(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(ug(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function xs(t,e,n,i){return t instanceof $r?function(s,r,o,a){if(!co(s.precondition,r))return o;const l=s.value.clone(),c=mh(s.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ni?function(s,r,o,a){if(!co(s.precondition,r))return o;const l=mh(s.fieldTransforms,a,r),c=r.data;return c.setAll(ug(s)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,r,o){return co(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function Mb(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=rg(i.transform,s||null);r!=null&&(n===null&&(n=hn.empty()),n.set(i.field,r))}return n||null}function dh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bs(n,i,(s,r)=>Pb(s,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $r extends _a{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ni extends _a{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ug(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function fh(t,e,n){const i=new Map;it(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,Ab(o,a,n[s]))}return i}function mh(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,Cb(r,o,e))}return i}class Oc extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rb extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,$e;function Bb(t){switch(t){default:return Ce();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function hg(t){if(t===void 0)return Zn("GRPC error has no .code"),te.UNKNOWN;switch(t){case wt.OK:return te.OK;case wt.CANCELLED:return te.CANCELLED;case wt.UNKNOWN:return te.UNKNOWN;case wt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case wt.INTERNAL:return te.INTERNAL;case wt.UNAVAILABLE:return te.UNAVAILABLE;case wt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case wt.NOT_FOUND:return te.NOT_FOUND;case wt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case wt.ABORTED:return te.ABORTED;case wt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case wt.DATA_LOSS:return te.DATA_LOSS;default:return Ce()}}($e=wt||(wt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return Xp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Dt(we.comparator);function ti(){return Lb}const dg=new Dt(we.comparator);function Ks(...t){let e=dg;for(const n of t)e=e.insert(n.key,n);return e}function fg(t){let e=dg;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function $i(){return Zs()}function mg(){return Zs()}function Zs(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const $b=new Dt(we.comparator),Ub=new Pt(we.comparator);function Oe(...t){let e=Ub;for(const n of t)e=e.add(n);return e}const Fb=new Pt(Je);function pg(){return Fb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ur.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new va(De.min(),s,pg(),ti(),Oe())}}class Ur{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ur(i,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,i,s){this.Tt=e,this.removedTargetIds=n,this.key=i,this.Et=s}}class gg{constructor(e,n){this.targetId=e,this.At=n}}class _g{constructor(e,n,i=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class ph{constructor(){this.Rt=0,this.bt=_h(),this.Pt=tn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Oe(),n=Oe(),i=Oe();return this.bt.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ce()}}),new Ur(this.Pt,this.vt,e,n,i)}Nt(){this.Vt=!1,this.bt=_h()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Vb{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ti(),this.qt=gh(),this.Kt=new Pt(Je)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const i=this.zt(n);switch(e.state){case 0:this.Ht(n)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),i.Ct(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((i,s)=>{this.Ht(s)&&n(s)})}Yt(e){const n=e.targetId,i=e.At.count,s=this.Xt(n);if(s){const r=s.target;if(Ml(r))if(i===0){const o=new we(r.path);this.jt(n,o,Ht.newNoDocument(o,De.min()))}else it(i===1);else this.Zt(n)!==i&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((r,o)=>{const a=this.Xt(o);if(a){if(r.current&&Ml(a.target)){const l=new we(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Ht.newNoDocument(l,e))}r.Dt&&(n.set(o,r.xt()),r.Nt())}});let i=Oe();this.qt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(r))}),this.Ut.forEach((r,o)=>o.setReadTime(e));const s=new va(e,n,this.Kt,this.Ut,i);return this.Ut=ti(),this.qt=gh(),this.Kt=new Pt(Je),s}Qt(e,n){if(!this.Ht(e))return;const i=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,i),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,i){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,n)?s.kt(n,1):s.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),i&&(this.Ut=this.Ut.insert(n,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new ph,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Pt(Je),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new ph),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function gh(){return new Dt(we.comparator)}function _h(){return new Dt(we.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qb=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Hb{constructor(e,n){this.databaseId=e,this.gt=n}}function $o(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vg(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Gb(t,e){return $o(t,e.toTimestamp())}function Yn(t){return it(!!t),De.fromTimestamp(function(e){const n=Si(e);return new At(n.seconds,n.nanos)}(t))}function Bc(t,e){return function(n){return new at(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function yg(t){const e=at.fromString(t);return it(Eg(e)),e}function Bl(t,e){return Bc(t.databaseId,e.path)}function Za(t,e){const n=yg(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(bg(n))}function Ll(t,e){return Bc(t.databaseId,e)}function Kb(t){const e=yg(t);return e.length===4?at.emptyPath():bg(e)}function $l(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bg(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vh(t,e,n){return{name:Bl(t,e),fields:n.value.mapValue.fields}}function zb(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(l,c){return l.gt?(it(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(it(c===void 0||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?te.UNKNOWN:hg(l.code);return new Ee(c,l.message||"")}(o);n=new _g(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Za(t,i.document.name),r=Yn(i.document.updateTime),o=new hn({mapValue:{fields:i.document.fields}}),a=Ht.newFoundDocument(s,r,o),l=i.targetIds||[],c=i.removedTargetIds||[];n=new uo(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Za(t,i.document),r=i.readTime?Yn(i.readTime):De.min(),o=Ht.newNoDocument(s,r),a=i.removedTargetIds||[];n=new uo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Za(t,i.document),r=i.removedTargetIds||[];n=new uo([],r,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const s=i.count||0,r=new Ob(s),o=i.targetId;n=new gg(o,r)}}return n}function Wb(t,e){let n;if(e instanceof $r)n={update:vh(t,e.key,e.value)};else if(e instanceof Oc)n={delete:Bl(t,e.key)};else if(e instanceof Ni)n={update:vh(t,e.key,e.data),updateMask:i2(e.fieldMask)};else{if(!(e instanceof Rb))return Ce();n={verify:Bl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof Bo)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fr)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof mr)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Lo)return{fieldPath:r.field.canonicalString(),increment:o.yt};throw Ce()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Gb(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function Qb(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,s){let r=i.updateTime?Yn(i.updateTime):Yn(s);return r.isEqual(De.min())&&(r=Yn(s)),new Db(r,i.transformResults||[])}(n,e))):[]}function Yb(t,e){return{documents:[Ll(t,e.path)]}}function Xb(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Ll(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ll(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length===0)return;const c=l.map(h=>function(d){if(d.op==="=="){if(oh(d.value))return{unaryFilter:{field:rs(d.field),op:"IS_NAN"}};if(rh(d.value))return{unaryFilter:{field:rs(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(oh(d.value))return{unaryFilter:{field:rs(d.field),op:"IS_NOT_NAN"}};if(rh(d.value))return{unaryFilter:{field:rs(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(d.field),op:e2(d.op),value:d.value}}}(h));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:rs(h.field),direction:Zb(h.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,c){return l.gt||fa(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Jb(t){let e=Kb(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){it(i===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=wg(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(d){return new Js(ls(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(h)));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,fa(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Oo(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new Oo(f,d)}(n.endAt)),bb(e,s,o,r,a,"F",l,c)}function xb(t,e){const n=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ce()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function wg(t){return t?t.unaryFilter!==void 0?[n2(t)]:t.fieldFilter!==void 0?[t2(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>wg(e)).reduce((e,n)=>e.concat(n)):Ce():[]}function Zb(t){return jb[t]}function e2(t){return qb[t]}function rs(t){return{fieldPath:t.canonicalString()}}function ls(t){return Yt.fromServerFormat(t.fieldPath)}function t2(t){return fn.create(ls(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}function n2(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ls(t.unaryFilter.field);return fn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ls(t.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ls(t.unaryFilter.field);return fn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ls(t.unaryFilter.field);return fn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}function i2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Eg(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&Nb(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=xs(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=xs(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=mg();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=cg(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,i)=>dh(n,i))&&bs(this.baseMutations,e.baseMutations,(n,i)=>dh(n,i))}}class Lc{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){it(e.mutations.length===i.length);let s=$b;const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Lc(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,i,s,r=De.min(),o=De.min(),a=tn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.re=e}}function a2(t){const e=Jb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.Ye=new c2}addToCollectionParentIndex(e,n){return this.Ye.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ti.min())}updateCollectionGroup(e,n,i){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class c2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Pt(at.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ks(0)}static vn(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ne.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.getBaseDocument(e,n,i))).next(s=>(i!==null&&xs(i.mutation,s,En.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Oe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Oe()){const s=$i();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Ks();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Oe()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=ti();const o=Zs(),a=Zs();return n.forEach((l,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Ni)?r=r.insert(c.key,c):h!==void 0&&(o.set(c.key,h.mutation.getFieldMask()),xs(h.mutation,c,h.mutation.getFieldMask(),At.now()))}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new h2(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Zs();let s=new Dt((o,a)=>o-a),r=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||En.empty();h=a.applyToLocalView(c,h),i.set(l,h);const d=(s.get(a.batchId)||Oe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=mg();h.forEach(f=>{if(!r.has(f)){const p=cg(n.get(f),i.get(f));p!==null&&d.set(f,p),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ne.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):ne.resolve($i());let a=-1,l=r;return o.next(c=>ne.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(h)?ne.resolve():this.getBaseDocument(e,h,d).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,Oe())).next(h=>({batchId:a,changes:fg(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(i=>{let s=Ks();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const s=n.collectionGroup;let r=Ks();return this.indexManager.getCollectionParents(e,s).next(o=>ne.forEach(o,a=>{const l=function(c,h){return new ma(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((h,d)=>{r=r.insert(h,d)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i){let s;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(r=>(s=r,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(r=>{r.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Ht.newInvalidDocument(c)))});let o=Ks();return s.forEach((a,l)=>{const c=r.get(a);c!==void 0&&xs(c.mutation,l,En.empty(),At.now()),Rc(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,i){return i===null||i.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):ne.resolve(Ht.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return ne.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:Yn(i.createTime)}),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(i){return{name:i.name,query:a2(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new Dt(we.comparator),this.es=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$i();return ne.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ue(e,n,r)}),ne.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.es.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.es.delete(i)),ne.resolve()}getOverlaysForCollection(e,n,i){const s=$i(),r=n.length+1,o=new we(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Dt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=$i(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=$i(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return ne.resolve(a)}ue(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.es.get(s.largestBatchId).delete(i.key);this.es.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new r2(n,i));let r=this.es.get(n);r===void 0&&(r=Oe(),this.es.set(n,r)),this.es.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.ns=new Pt(Lt.ss),this.rs=new Pt(Lt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const i=new Lt(e,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.cs(new Lt(e,n))}hs(e,n){e.forEach(i=>this.removeReference(i,n))}ls(e){const n=new we(new at([])),i=new Lt(n,e),s=new Lt(n,e+1),r=[];return this.rs.forEachInRange([i,s],o=>{this.cs(o),r.push(o.key)}),r}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new we(new at([])),i=new Lt(n,e),s=new Lt(n,e+1);let r=Oe();return this.rs.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Lt(e,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Lt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return we.comparator(e.key,n.key)||Je(e._s,n._s)}static os(e,n){return Je(e._s,n._s)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Pt(Lt.ss)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new s2(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.gs=this.gs.add(new Lt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ps(i),r=s<0?0:s;return ne.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([i,s],o=>{const a=this.ys(o._s);r.push(a)}),ne.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Pt(Je);return n.forEach(s=>{const r=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([r,o],a=>{i=i.add(a._s)})}),ne.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;we.isDocumentKey(r)||(r=r.child(""));const o=new Lt(new we(r),0);let a=new Pt(Je);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l._s)),!0)},o),ne.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(i=>{const s=this.ys(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){it(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return ne.forEach(n.mutations,s=>{const r=new Lt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,n){const i=new Lt(n,0),s=this.gs.firstAfterOrEqual(i);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.Es=e,this.docs=new Dt(we.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ne.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let i=ti();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ht.newInvalidDocument(s))}),ne.resolve(i)}getAllFromCollection(e,n,i){let s=ti();const r=new we(n.child("")),o=this.docs.getIteratorFrom(r);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||ib(nb(l),i)<=0||(s=s.insert(l.key,l.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,i,s){Ce()}As(e,n){return ne.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _2(this)}getSize(e){return ne.resolve(this.size)}}class _2 extends u2{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(i)}),ne.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.persistence=e,this.Rs=new Ns(n=>Dc(n),Nc),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.bs=0,this.Ps=new $c,this.targetCount=0,this.vs=ks.Pn()}forEachTarget(e,n){return this.Rs.forEach((i,s)=>n(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),ne.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Dn(n),ne.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Rs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ne.waitFor(r).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const i=this.Rs.get(n)||null;return ne.resolve(i)}addMatchingKeys(e,n,i){return this.Ps.us(n,i),ne.resolve()}removeMatchingKeys(e,n,i){this.Ps.hs(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),ne.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ps.ds(n);return ne.resolve(i)}containsKey(e,n){return ne.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Ac(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new v2(this),this.indexManager=new l2,this.remoteDocumentCache=function(i){return new g2(i)}(i=>this.referenceDelegate.xs(i)),this.It=new o2(n),this.Ns=new f2(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Vs[e.toKey()];return i||(i=new p2(n,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const s=new b2(this.Ss.next());return this.referenceDelegate.ks(),i(s).next(r=>this.referenceDelegate.Os(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ms(e,n){return ne.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,n)))}}class b2 extends rb{constructor(e){super(),this.currentSequenceNumber=e}}class Uc{constructor(e){this.persistence=e,this.Fs=new $c,this.$s=null}static Bs(e){return new Uc(e)}get Ls(){if(this.$s)return this.$s;throw Ce()}addReference(e,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),ne.resolve()}removeReference(e,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(s=>this.Ls.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Ls.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ls,i=>{const s=we.fromPath(i);return this.Us(e,s).next(r=>{r||n.removeEntry(s,De.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return ne.or([()=>ne.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Si=i,this.Di=s}static Ci(e,n){let i=Oe(),s=Oe();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Fc(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,i,s){return this.ki(e,n).next(r=>r||this.Oi(e,n,s,i)).next(r=>r||this.Mi(e,n))}ki(e,n){if(uh(n))return ne.resolve(null);let i=ei(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rl(n,null,"F"),i=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Oe(...r);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Fi(n,a);return this.$i(n,c,o,l.readTime)?this.ki(e,Rl(n,null,"F")):this.Bi(e,c,n,l)}))})))}Oi(e,n,i,s){return uh(n)||s.isEqual(De.min())?this.Mi(e,n):this.Ni.getDocuments(e,i).next(r=>{const o=this.Fi(n,r);return this.$i(n,o,i,s)?this.Mi(e,n):(th()<=ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(n)),this.Bi(e,o,n,tb(s,-1)))})}Fi(e,n){let i=new Pt(ng(e));return n.forEach((s,r)=>{Rc(e,r)&&(i=i.add(r))}),i}$i(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Mi(e,n){return th()<=ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.Ni.getDocumentsMatchingQuery(e,n,Ti.min())}Bi(e,n,i,s){return this.Ni.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,i,s){this.persistence=e,this.Li=n,this.It=s,this.Ui=new Dt(Je),this.qi=new Ns(r=>Dc(r),Nc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function k2(t,e,n,i){return new E2(t,e,n,i)}async function kg(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Qi(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Oe();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function I2(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const h=l.batch,d=h.keys();let f=ne.resolve();return d.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(_=>{const v=l.docVersions.get(p);it(v!==null),_.version.compareTo(v)<0&&(h.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),c.addEntry(_)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=Oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function Ig(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function T2(t,e){const n=Ae(t),i=e.snapshotVersion;let s=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});s=n.Ui;const a=[];e.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(r,h.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(r,h.addedDocuments,d)));let p=f.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(tn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,i)),s=s.insert(d,p),function(_,v,y){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,h)&&a.push(n.Cs.updateTargetData(r,p))});let l=ti(),c=Oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),a.push(S2(r,o,e.documentUpdates).next(h=>{l=h.Wi,c=h.zi})),!i.isEqual(De.min())){const h=n.Cs.getLastRemoteSnapshotVersion(r).next(d=>n.Cs.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(h)}return ne.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ui=s,r))}function S2(t,e,n){let i=Oe(),s=Oe();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=ti();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:s}})}function C2(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function A2(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Cs.getTargetData(i,e).next(r=>r?(s=r,ne.resolve(s)):n.Cs.allocateTargetId(i).next(o=>(s=new Fi(e,o,0,i.currentSequenceNumber),n.Cs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ui.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(i.targetId,i),n.qi.set(e,i.targetId)),i})}async function Ul(t,e,n){const i=Ae(t),s=i.Ui.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Lr(o))throw o;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ui=i.Ui.remove(e),i.qi.delete(s.target)}function yh(t,e,n){const i=Ae(t);let s=De.min(),r=Oe();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const h=Ae(a),d=h.qi.get(c);return d!==void 0?ne.resolve(h.Ui.get(d)):h.Cs.getTargetData(l,c)}(i,o,ei(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,e,n?s:De.min(),n?r:Oe())).next(a=>(P2(i,Ib(e),a),{documents:a,Hi:r})))}function P2(t,e,n){let i=t.Ki.get(e)||De.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ki.set(e,i)}class bh{constructor(){this.activeTargetIds=pg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D2{constructor(){this.Lr=new bh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,i){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bh,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,i,s,r){const o=this.ho(e,n);ye("RestConnection","Sending: ",o,i);const a={};return this.lo(a,s,r),this.fo(e,o,a,i).then(l=>(ye("RestConnection","Received: ",l),l),l=>{throw Pl("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}_o(e,n,i,s,r,o){return this.ao(e,n,i,s,r)}lo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}ho(e,n){const i=M2[e];return`${this.oo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,i,s){return new Promise((r,o)=>{const a=new Ky;a.setWithCredentials(!0),a.listenOnce(qy.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case xa.NO_ERROR:const c=a.getResponseJson();ye("Connection","XHR received:",JSON.stringify(c)),r(c);break;case xa.TIMEOUT:ye("Connection",'RPC "'+e+'" timed out'),o(new Ee(te.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const h=a.getStatus();if(ye("Connection",'RPC "'+e+'" failed with status:',h,"response text:",a.getResponseText()),h>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const f=function(p){const _=p.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(_)>=0?_:te.UNKNOWN}(d.status);o(new Ee(f,d.message))}else o(new Ee(te.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ee(te.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ye("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(s);a.send(n,"POST",l,i,15)})}wo(e,n,i){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Vy(),o=jy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Gy({})),this.lo(a.initMessageHeaders,n,i),a.encodeInitMessageHeaders=!0;const l=s.join("");ye("Connection","Creating WebChannel: "+l,a);const c=r.createWebChannel(l,a);let h=!1,d=!1;const f=new R2({Hr:_=>{d?ye("Connection","Not sending because WebChannel is closed:",_):(h||(ye("Connection","Opening WebChannel transport."),c.open(),h=!0),ye("Connection","WebChannel sending:",_),c.send(_))},Jr:()=>c.close()}),p=(_,v,y)=>{_.listen(v,b=>{try{y(b)}catch(I){setTimeout(()=>{throw I},0)}})};return p(c,no.EventType.OPEN,()=>{d||ye("Connection","WebChannel transport opened.")}),p(c,no.EventType.CLOSE,()=>{d||(d=!0,ye("Connection","WebChannel transport closed"),f.io())}),p(c,no.EventType.ERROR,_=>{d||(d=!0,Pl("Connection","WebChannel transport errored:",_),f.io(new Ee(te.UNAVAILABLE,"The operation could not be completed")))}),p(c,no.EventType.MESSAGE,_=>{var v;if(!d){const y=_.data[0];it(!!y);const b=y,I=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(I){ye("Connection","WebChannel received error:",I);const M=I.status;let D=function(G){const N=wt[G];if(N!==void 0)return hg(N)}(M),$=I.message;D===void 0&&(D=te.INTERNAL,$="Unknown error status: "+M+" with message "+I.message),d=!0,f.io(new Ee(D,$)),c.close()}else ye("Connection","WebChannel received:",y),f.ro(y)}}),p(o,Hy.STAT_EVENT,_=>{_.stat===Zu.PROXY?ye("Connection","Detected buffering proxy"):_.stat===Zu.NOPROXY&&ye("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function el(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){return new Hb(t,!0)}class Tg{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Hs=e,this.timerId=n,this.mo=i,this.yo=s,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),s=Math.max(0,n-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,i,s,r,o,a,l){this.Hs=e,this.vo=i,this.Vo=s,this.So=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Tg(e,n)}ko(){return this.state===1||this.state===5||this.Oo()}Oo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&this.Co===null&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Oo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Do===n&&this.Qo(i,s)},i=>{e(()=>{const s=new Ee(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(s)})})}Qo(e,n){const i=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{i(()=>this.jo(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Mo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B2 extends Sg{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.It=r}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=zb(this.It,e),i=function(s){if(!("targetChange"in s))return De.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?De.min():r.readTime?Yn(r.readTime):De.min()}(e);return this.listener.zo(n,i)}Ho(e){const n={};n.database=$l(this.It),n.addTarget=function(s,r){let o;const a=r.target;return o=Ml(a)?{documents:Yb(s,a)}:{query:Xb(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=vg(s,r.resumeToken):r.snapshotVersion.compareTo(De.min())>0&&(o.readTime=$o(s,r.snapshotVersion.toTimestamp())),o}(this.It,e);const i=xb(this.It,e);i&&(n.labels=i),this.Lo(n)}Jo(e){const n={};n.database=$l(this.It),n.removeTarget=e,this.Lo(n)}}class L2 extends Sg{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.It=r,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=Qb(e.writeResults,e.commitTime),i=Yn(e.commitTime);return this.listener.tu(i,n)}return it(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=$l(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Wb(this.It,i))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=i,this.It=s,this.su=!1}iu(){if(this.su)throw new Ee(te.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.So.ao(e,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(te.UNKNOWN,s.toString())})}_o(e,n,i,s){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So._o(e,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ee(te.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class U2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){this.ru===0&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Zn(n),this.uu=!1):ye("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=r,this.gu.qr(o=>{i.enqueueAndForget(async()=>{es(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ae(a);l.wu.add(4),await Fr(l),l.yu.set("Unknown"),l.wu.delete(4),await ba(l)}(this))})}),this.yu=new U2(i,s)}}async function ba(t){if(es(t))for(const e of t.mu)await e(!0)}async function Fr(t){for(const e of t.mu)await e(!1)}function Cg(t,e){const n=Ae(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),qc(n)?jc(n):Ms(n).Oo()&&Vc(n,e))}function Ag(t,e){const n=Ae(t),i=Ms(n);n._u.delete(e),i.Oo()&&Pg(n,e),n._u.size===0&&(i.Oo()?i.$o():es(n)&&n.yu.set("Unknown"))}function Vc(t,e){t.pu.Mt(e.targetId),Ms(t).Ho(e)}function Pg(t,e){t.pu.Mt(e),Ms(t).Jo(e)}function jc(t){t.pu=new Vb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),Ms(t).start(),t.yu.cu()}function qc(t){return es(t)&&!Ms(t).ko()&&t._u.size>0}function es(t){return Ae(t).wu.size===0}function Dg(t){t.pu=void 0}async function V2(t){t._u.forEach((e,n)=>{Vc(t,e)})}async function j2(t,e){Dg(t),qc(t)?(t.yu.lu(e),jc(t)):t.yu.set("Unknown")}async function q2(t,e,n){if(t.yu.set("Online"),e instanceof _g&&e.state===2&&e.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i._u.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i._u.delete(o),i.pu.removeTarget(o))}(t,e)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uo(t,i)}else if(e instanceof uo?t.pu.Gt(e):e instanceof gg?t.pu.Yt(e):t.pu.Wt(e),!n.isEqual(De.min()))try{const i=await Ig(t.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.pu.te(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s._u.get(l);c&&s._u.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=s._u.get(a);if(!l)return;s._u.set(a,l.withResumeToken(tn.EMPTY_BYTE_STRING,l.snapshotVersion)),Pg(s,a);const c=new Fi(l.target,a,1,l.sequenceNumber);Vc(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await Uo(t,i)}}async function Uo(t,e,n){if(!Lr(e))throw e;t.wu.add(1),await Fr(t),t.yu.set("Offline"),n||(n=()=>Ig(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await ba(t)})}function Ng(t,e){return e().catch(n=>Uo(t,n,e))}async function wa(t){const e=Ae(t),n=Ci(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;H2(e);)try{const s=await C2(e.localStore,i);if(s===null){e.du.length===0&&n.$o();break}i=s.batchId,G2(e,s)}catch(s){await Uo(e,s)}Mg(e)&&Rg(e)}function H2(t){return es(t)&&t.du.length<10}function G2(t,e){t.du.push(e);const n=Ci(t);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function Mg(t){return es(t)&&!Ci(t).ko()&&t.du.length>0}function Rg(t){Ci(t).start()}async function K2(t){Ci(t).nu()}async function z2(t){const e=Ci(t);for(const n of t.du)e.Zo(n.mutations)}async function W2(t,e,n){const i=t.du.shift(),s=Lc.from(i,e,n);await Ng(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wa(t)}async function Q2(t,e){e&&Ci(t).Xo&&await async function(n,i){if(s=i.code,Bb(s)&&s!==te.ABORTED){const r=n.du.shift();Ci(n).Fo(),await Ng(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i)),await wa(n)}var s}(t,e),Mg(t)&&Rg(t)}async function Eh(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=es(n);n.wu.add(3),await Fr(n),i&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await ba(n)}async function Y2(t,e){const n=Ae(t);e?(n.wu.delete(2),await ba(n)):e||(n.wu.add(2),await Fr(n),n.yu.set("Unknown"))}function Ms(t){return t.Iu||(t.Iu=function(e,n,i){const s=Ae(e);return s.iu(),new B2(n,s.So,s.authCredentials,s.appCheckCredentials,s.It,i)}(t.datastore,t.asyncQueue,{Yr:V2.bind(null,t),Zr:j2.bind(null,t),zo:q2.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),qc(t)?jc(t):t.yu.set("Unknown")):(await t.Iu.stop(),Dg(t))})),t.Iu}function Ci(t){return t.Tu||(t.Tu=function(e,n,i){const s=Ae(e);return s.iu(),new L2(n,s.So,s.authCredentials,s.appCheckCredentials,s.It,i)}(t.datastore,t.asyncQueue,{Yr:K2.bind(null,t),Zr:Q2.bind(null,t),eu:z2.bind(null,t),tu:W2.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await wa(t)):(await t.Tu.stop(),t.du.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new Hc(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gc(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),Lr(t))return new Ee(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.comparator=e?(n,i)=>e(n,i)||we.comparator(n.key,i.key):(n,i)=>we.comparator(n.key,i.key),this.keyedMap=Ks(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new fs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.Eu=new Dt(we.comparator)}track(e){const n=e.doc.key,i=this.Eu.get(n);i?e.type!==0&&i.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&i.type!==1?this.Eu=this.Eu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Eu=this.Eu.remove(n):e.type===1&&i.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):Ce():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Is{constructor(e,n,i,s,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Is(e,n,fs.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Ru=void 0,this.listeners=[]}}class J2{constructor(){this.queries=new Ns(e=>tg(e),pa),this.onlineState="Unknown",this.bu=new Set}}async function Og(t,e){const n=Ae(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new X2),s)try{r.Ru=await n.onListen(i)}catch(o){const a=Gc(o,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.listeners.push(e),e.Pu(n.onlineState),r.Ru&&e.vu(r.Ru)&&Kc(n)}async function Bg(t,e){const n=Ae(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function x2(t,e){const n=Ae(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.vu(s)&&(i=!0);o.Ru=s}}i&&Kc(n)}function Z2(t,e,n){const i=Ae(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function Kc(t){t.bu.forEach(e=>{e.next()})}class Lg{constructor(e,n,i){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Is(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class ew{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Oe(),this.mutatedKeys=Oe(),this.Gu=ng(e),this.Qu=new fs(this.Gu)}get ju(){return this.Uu}Wu(e,n){const i=n?n.zu:new kh,s=n?n.Qu:this.Qu;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const f=s.get(h),p=Rc(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?_!==v&&(i.track({type:3,doc:p}),y=!0):this.Hu(f,p)||(i.track({type:2,doc:p}),y=!0,(l&&this.Gu(p,l)>0||c&&this.Gu(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),y=!0):f&&!p&&(i.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),r=v?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{Qu:o,zu:i,$i:a,mutatedKeys:r}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const r=e.zu.Au();r.sort((c,h)=>function(d,f){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return p(d)-p(f)}(c.type,h.type)||this.Gu(c.doc,h.doc)),this.Ju(i);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,r.length!==0||l?{snapshot:new Is(this.query,e.Qu,s,r,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new kh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Oe(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const n=[];return e.forEach(i=>{this.Ku.has(i)||n.push(new Ug(i))}),this.Ku.forEach(i=>{e.has(i)||n.push(new $g(i))}),n}tc(e){this.Uu=e.Hi,this.Ku=Oe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Is.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class tw{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class nw{constructor(e){this.key=e,this.nc=!1}}class iw{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ns(a=>tg(a),pa),this.rc=new Map,this.oc=new Set,this.uc=new Dt(we.comparator),this.cc=new Map,this.ac=new $c,this.hc={},this.lc=new Map,this.fc=ks.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function sw(t,e){const n=mw(t);let i,s;const r=n.ic.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.ec();else{const o=await A2(n.localStore,ei(e));n.isPrimaryClient&&Cg(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await rw(n,e,i,a==="current",o.resumeToken)}return s}async function rw(t,e,n,i,s){t._c=(d,f,p)=>async function(_,v,y,b){let I=v.view.Wu(y);I.$i&&(I=await yh(_.localStore,v.query,!1).then(({documents:$})=>v.view.Wu($,I)));const M=b&&b.targetChanges.get(v.targetId),D=v.view.applyChanges(I,_.isPrimaryClient,M);return Th(_,v.targetId,D.Xu),D.snapshot}(t,d,f,p);const r=await yh(t.localStore,e,!0),o=new ew(e,r.Hi),a=o.Wu(r.documents),l=Ur.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Th(t,n,c.Xu);const h=new tw(e,n,o);return t.ic.set(e,h),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}async function ow(t,e){const n=Ae(t),i=n.ic.get(e),s=n.rc.get(i.targetId);if(s.length>1)return n.rc.set(i.targetId,s.filter(r=>!pa(r,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ul(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Ag(n.remoteStore,i.targetId),Fl(n,i.targetId)}).catch(Br)):(Fl(n,i.targetId),await Ul(n.localStore,i.targetId,!0))}async function aw(t,e,n){const i=pw(t);try{const s=await function(r,o){const a=Ae(r),l=At.now(),c=o.reduce((f,p)=>f.add(p.key),Oe());let h,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ti(),_=Oe();return a.Gi.getEntries(f,c).next(v=>{p=v,p.forEach((y,b)=>{b.isValidDocument()||(_=_.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(v=>{h=v;const y=[];for(const b of o){const I=Mb(b,h.get(b.key).overlayedDocument);I!=null&&y.push(new Ni(b.key,I,Zp(I.value.mapValue),kn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,y,o)}).next(v=>{d=v;const y=v.applyToLocalDocumentSet(h,_);return a.documentOverlayCache.saveOverlays(f,v.batchId,y)})}).then(()=>({batchId:d.batchId,changes:fg(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,a){let l=r.hc[r.currentUser.toKey()];l||(l=new Dt(Je)),l=l.insert(o,a),r.hc[r.currentUser.toKey()]=l}(i,s.batchId,n),await Vr(i,s.changes),await wa(i.remoteStore)}catch(s){const r=Gc(s,"Failed to persist write");n.reject(r)}}async function Fg(t,e){const n=Ae(t);try{const i=await T2(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.cc.get(r);o&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.nc=!0:s.modifiedDocuments.size>0?it(o.nc):s.removedDocuments.size>0&&(it(o.nc),o.nc=!1))}),await Vr(n,i,e)}catch(i){await Br(i)}}function Ih(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ic.forEach((r,o)=>{const a=o.view.Pu(e);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=Ae(r);a.onlineState=o;let l=!1;a.queries.forEach((c,h)=>{for(const d of h.listeners)d.Pu(o)&&(l=!0)}),l&&Kc(a)}(i.eventManager,e),s.length&&i.sc.zo(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function lw(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.cc.get(e),r=s&&s.key;if(r){let o=new Dt(we.comparator);o=o.insert(r,Ht.newNoDocument(r,De.min()));const a=Oe().add(r),l=new va(De.min(),new Map,new Pt(Je),o,a);await Fg(i,l),i.uc=i.uc.remove(r),i.cc.delete(e),zc(i)}else await Ul(i.localStore,e,!1).then(()=>Fl(i,e,n)).catch(Br)}async function cw(t,e){const n=Ae(t),i=e.batch.batchId;try{const s=await I2(n.localStore,e);jg(n,i,null),Vg(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Vr(n,s)}catch(s){await Br(s)}}async function uw(t,e,n){const i=Ae(t);try{const s=await function(r,o){const a=Ae(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(h=>(it(h!==null),c=h.keys(),a.mutationQueue.removeMutationBatch(l,h))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);jg(i,e,n),Vg(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Vr(i,s)}catch(s){await Br(s)}}function Vg(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function jg(t,e,n){const i=Ae(t);let s=i.hc[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.hc[i.currentUser.toKey()]=s}}function Fl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(i=>{t.ac.containsKey(i)||qg(t,i)})}function qg(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Ag(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),zc(t))}function Th(t,e,n){for(const i of n)i instanceof $g?(t.ac.addReference(i.key,e),hw(t,i)):i instanceof Ug?(ye("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||qg(t,i.key)):Ce()}function hw(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||(ye("SyncEngine","New document in limbo: "+n),t.oc.add(i),zc(t))}function zc(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new we(at.fromString(e)),i=t.fc.next();t.cc.set(i,new nw(n)),t.uc=t.uc.insert(n,i),Cg(t.remoteStore,new Fi(ei(Mc(n.path)),i,2,Ac.at))}}async function Vr(t,e,n){const i=Ae(t),s=[],r=[],o=[];i.ic.isEmpty()||(i.ic.forEach((a,l)=>{o.push(i._c(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const h=Fc.Ci(l.targetId,c);r.push(h)}}))}),await Promise.all(o),i.sc.zo(s),await async function(a,l){const c=Ae(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ne.forEach(l,d=>ne.forEach(d.Si,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>ne.forEach(d.Di,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Lr(h))throw h;ye("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const f=c.Ui.get(d),p=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(p);c.Ui=c.Ui.insert(d,_)}}}(i.localStore,r))}async function dw(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const i=await kg(n.localStore,e);n.currentUser=e,function(s,r){s.lc.forEach(o=>{o.forEach(a=>{a.reject(new Ee(te.CANCELLED,r))})}),s.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vr(n,i.ji)}}function fw(t,e){const n=Ae(t),i=n.cc.get(e);if(i&&i.nc)return Oe().add(i.key);{let s=Oe();const r=n.rc.get(e);if(!r)return s;for(const o of r){const a=n.ic.get(o);s=s.unionWith(a.view.ju)}return s}}function mw(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lw.bind(null,e),e.sc.zo=x2.bind(null,e.eventManager),e.sc.wc=Z2.bind(null,e.eventManager),e}function pw(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uw.bind(null,e),e}class gw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=ya(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return k2(this.persistence,new w2,e.initialUser,this.It)}yc(e){return new y2(Uc.Bs,this.It)}gc(e){return new D2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _w{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ih(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dw.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new J2}createDatastore(e){const n=ya(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new O2(s));var s;return function(r,o,a,l){return new $2(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,s=e.asyncQueue,r=a=>Ih(this.syncEngine,a,0),o=wh.C()?new wh:new N2,new F2(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(e,n){return function(i,s,r,o,a,l,c){const h=new iw(i,s,r,o,a,l);return c&&(h.dc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ae(e);ye("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await Fr(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e,n){if(!n)throw new Ee(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vw(t,e,n,i){if(e===!0&&i===!0)throw new Ee(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sh(t){if(!we.isDocumentKey(t))throw new Ee(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ch(t){if(we.isDocumentKey(t))throw new Ee(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(t);throw new Ee(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map;class Ph{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ph({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ee(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ph(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new zy;switch(n.type){case"gapi":const i=n.client;return new Xy(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ee(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ah.get(e);n&&(ye("ComponentProvider","Removing Datastore"),Ah.delete(e),n.terminate())}(this),Promise.resolve()}}function yw(t,e,n,i={}){var s;const r=(t=Rn(t,Ea))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==e&&Pl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=Qt.MOCK_USER;else{o=P0(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Ee(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Qt(l)}t._authCredentials=new Wy(new Qp(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class jr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class yi extends jr{constructor(e,n,i){super(e,n,Mc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new we(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function xt(t,e,...n){if(t=en(t),Hg("collection","path",e),t instanceof Ea){const i=at.fromString(e,...n);return Ch(i),new yi(t,null,i)}{if(!(t instanceof gn||t instanceof yi))throw new Ee(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return Ch(i),new yi(t.firestore,null,i)}}function Ai(t,e,...n){if(t=en(t),arguments.length===1&&(e=Yp.R()),Hg("doc","path",e),t instanceof Ea){const i=at.fromString(e,...n);return Sh(i),new gn(t,null,new we(i))}{if(!(t instanceof gn||t instanceof yi))throw new Ee(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(at.fromString(e,...n));return Sh(i),new gn(t.firestore,t instanceof yi?t.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=Yp.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{ye("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(ye("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Gc(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ww(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await kg(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Ew(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kw(t);ye("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>Eh(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Eh(e.remoteStore,r)),t.onlineComponents=e}async function kw(t){return t.offlineComponents||(ye("FirestoreClient","Using default OfflineComponentProvider"),await ww(t,new gw)),t.offlineComponents}async function Kg(t){return t.onlineComponents||(ye("FirestoreClient","Using default OnlineComponentProvider"),await Ew(t,new _w)),t.onlineComponents}function Iw(t){return Kg(t).then(e=>e.syncEngine)}async function Vl(t){const e=await Kg(t),n=e.eventManager;return n.onListen=sw.bind(null,e.syncEngine),n.onUnlisten=ow.bind(null,e.syncEngine),n}function Tw(t,e,n={}){const i=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const c=new Gg({next:d=>{r.enqueueAndForget(()=>Bg(s,h)),d.fromCache&&a.source==="server"?l.reject(new Ee(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new Lg(o,c,{includeMetadataChanges:!0,ku:!0});return Og(s,h)}(await Vl(t),t.asyncQueue,e,n,i)),i.promise}class Sw{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Tg(this,"async_queue_retry"),this.Wc=()=>{const n=el();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=el();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=el();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new vi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(e){if(!Lr(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.No.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{this.Kc=i,this.Gc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw Zn("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Gc=!1,i))));return this.Bc=n,n}enqueueAfterDelay(e,n,i){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const s=Hc.createAndSchedule(this,e,n,i,r=>this.Yc(r));return this.qc.push(s),s}zc(){this.Kc&&Ce()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function Dh(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Qi extends Ea{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Sw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zg(this),this._firestoreClient.terminate()}}function Cw(t,e){const n=typeof t=="object"?t:Hm(),i=typeof t=="string"?t:e||"(default)",s=rc(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=S0("firestore");r&&yw(s,...r)}return s}function Qc(t){return t._firestoreClient||zg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zg(t){var e;const n=t._freezeSettings(),i=function(s,r,o,a){return new ab(s,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new bw(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(tn.fromBase64String(e))}catch(n){throw new Ee(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=/^__.*__$/;class Pw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new $r(e,this.data,n,this.fieldTransforms)}}class Wg{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Jc{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.It=i,this.ignoreUndefinedProperties=s,r===void 0&&this.na(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Jc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ia({path:i,oa:!1});return s.ua(e),s}ca(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ia({path:i,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Fo(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Qg(this.sa)&&Aw.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Dw{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=i||ya(e)}da(e,n,i,s=!1){return new Jc({sa:e,methodName:n,fa:i,path:Yt.emptyPath(),oa:!1,la:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Yg(t){const e=t._freezeSettings(),n=ya(t._databaseId);return new Dw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nw(t,e,n,i,s,r={}){const o=t.da(r.merge||r.mergeFields?2:0,e,n,s);xc("Data must be an object, but it was:",o,i);const a=Xg(i,o);let l,c;if(r.merge)l=new En(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const f=jl(e,d,n);if(!o.contains(f))throw new Ee(te.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xg(h,f)||h.push(f)}l=new En(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Pw(new hn(a),l,c)}class Ia extends Yc{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ia}}function Mw(t,e,n,i){const s=t.da(1,e,n);xc("Data must be an object, but it was:",s,i);const r=[],o=hn.empty();Zi(i,(l,c)=>{const h=Zc(e,l,n);c=en(c);const d=s.ca(h);if(c instanceof Ia)r.push(h);else{const f=Ta(c,d);f!=null&&(r.push(h),o.set(h,f))}});const a=new En(r);return new Wg(o,a,s.fieldTransforms)}function Rw(t,e,n,i,s,r){const o=t.da(1,e,n),a=[jl(e,i,n)],l=[s];if(r.length%2!=0)throw new Ee(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)a.push(jl(e,r[f])),l.push(r[f+1]);const c=[],h=hn.empty();for(let f=a.length-1;f>=0;--f)if(!xg(c,a[f])){const p=a[f];let _=l[f];_=en(_);const v=o.ca(p);if(_ instanceof Ia)c.push(p);else{const y=Ta(_,v);y!=null&&(c.push(p),h.set(p,y))}}const d=new En(c);return new Wg(h,d,o.fieldTransforms)}function Ta(t,e){if(Jg(t=en(t)))return xc("Unsupported field value:",e,t),Xg(t,e);if(t instanceof Yc)return function(n,i){if(!Qg(i.sa))throw i.ha(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,i){const s=[];let r=0;for(const o of n){let a=Ta(o,i.aa(r));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),r++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=en(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Sb(i.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=At.fromDate(n);return{timestampValue:$o(i.It,s)}}if(n instanceof At){const s=new At(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$o(i.It,s)}}if(n instanceof Xc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ts)return{bytesValue:vg(i.It,n._byteString)};if(n instanceof gn){const s=i.databaseId,r=n.firestore._databaseId;if(!r.isEqual(s))throw i.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bc(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ha(`Unsupported field value: ${Wc(n)}`)}(t,e)}function Xg(t,e){const n={};return Xp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,(i,s)=>{const r=Ta(s,e.ra(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Jg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Xc||t instanceof Ts||t instanceof gn||t instanceof Yc)}function xc(t,e,n){if(!Jg(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=Wc(n);throw i==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function jl(t,e,n){if((e=en(e))instanceof ka)return e._internalPath;if(typeof e=="string")return Zc(t,e);throw Fo("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ow=new RegExp("[~\\*/\\[\\]]");function Zc(t,e,n){if(e.search(Ow)>=0)throw Fo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ka(...e.split("."))._internalPath}catch{throw Fo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fo(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new Ee(te.INVALID_ARGUMENT,a+t+l)}function xg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bw extends Zg{data(){return super.data()}}function e_(t,e){return typeof e=="string"?Zc(t,e):e instanceof ka?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){const i={};return Zi(e.fields,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new Xc(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=xp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cr(e));default:return null}}convertTimestamp(e){const n=Si(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=at.fromString(e);it(Eg(i));const s=new ur(i.get(1),i.get(3)),r=new we(i.popFirst(5));return s.isEqual(n)||Zn(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n_ extends Zg{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(e_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ho extends n_{data(e={}){return super.data(e)}}class i_{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new zs(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ho(this._firestore,this._userDataWriter,i.key,i,new zs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new ho(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zs(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:r++}))}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new ho(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zs(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:Uw(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Uw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class eu extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function tu(t){t=Rn(t,jr);const e=Rn(t.firestore,Qi),n=Qc(e),i=new eu(e);return t_(t._query),Tw(n,t._query).then(s=>new i_(e,i,t,s))}function nu(t,e,n,...i){t=Rn(t,gn);const s=Rn(t.firestore,Qi),r=Yg(s);let o;return o=typeof(e=en(e))=="string"||e instanceof ka?Rw(r,"updateDoc",t._key,e,n,i):Mw(r,"updateDoc",t._key,e),iu(s,[o.toMutation(t._key,kn.exists(!0))])}function Sa(t){return iu(Rn(t.firestore,Qi),[new Oc(t._key,kn.none())])}function bi(t,e){const n=Rn(t.firestore,Qi),i=Ai(t),s=$w(t.converter,e);return iu(n,[Nw(Yg(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,kn.exists(!1))]).then(()=>i)}function Ca(t,...e){var n,i,s;t=en(t);let r={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Dh(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(Dh(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,h;if(t instanceof gn)c=Rn(t.firestore,Qi),h=Mc(t._key.path),l={next:d=>{e[o]&&e[o](Fw(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Rn(t,jr);c=Rn(d.firestore,Qi),h=d._query;const f=new eu(c);l={next:p=>{e[o]&&e[o](new i_(c,f,d,p))},error:e[o+1],complete:e[o+2]},t_(t._query)}return function(d,f,p,_){const v=new Gg(_),y=new Lg(f,v,p);return d.asyncQueue.enqueueAndForget(async()=>Og(await Vl(d),y)),()=>{v.bc(),d.asyncQueue.enqueueAndForget(async()=>Bg(await Vl(d),y))}}(Qc(c),h,a,l)}function iu(t,e){return function(n,i){const s=new vi;return n.asyncQueue.enqueueAndForget(async()=>aw(await Iw(n),i,s)),s.promise}(Qc(t),e)}function Fw(t,e,n){const i=n.docs.get(e._key),s=new eu(t);return new n_(t,s,e._key,i,new zs(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ds=n})(Tr),vs(new Gi("firestore",(n,{instanceIdentifier:i,options:s})=>{const r=n.getProvider("app").getImmediate(),o=new Qi(new Qy(n.getProvider("auth-internal")),new xy(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ee(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ur(a.options.projectId,l)}(r,i),r);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),_i(eh,"3.7.1",t),_i(eh,"3.7.1","esm2017")})();function su(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function s_(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vw=s_,r_=new kr("auth","Firebase",s_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new ic("@firebase/auth");function fo(t,...e){Nh.logLevel<=ze.ERROR&&Nh.error(`Auth (${Tr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw ru(t,...e)}function On(t,...e){return ru(t,...e)}function jw(t,e,n){const i=Object.assign(Object.assign({},Vw()),{[e]:n});return new kr("auth","Firebase",i).create(e,{appName:t.name})}function ru(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return r_.create(t,...e)}function ke(t,e,...n){if(!t)throw ru(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fo(e),new Error(e)}function ni(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map;function Qn(t){ni(t instanceof Function,"Expected a class definition");let e=Mh.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mh.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e){const n=rc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(ko(r,e!=null?e:{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function Hw(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gw(){return Rh()==="http:"||Rh()==="https:"}function Rh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gw()||_0()||"connection"in navigator)?navigator.onLine:!0}function zw(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=g0()||v0()}get(){return Kw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new qr(3e4,6e4);function Hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gr(t,e,n,i,s={}){return a_(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=Ir(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),o_.fetch()(l_(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function a_(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ww),e);try{const s=new Yw(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw ro(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ro(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ro(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ro(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jw(t,h,c);In(t,h)}}catch(s){if(s instanceof ii)throw s;In(t,"network-request-failed")}}async function Kr(t,e,n,i,s={}){const r=await Gr(t,e,n,i,s);return"mfaPendingCredential"in r&&In(t,"multi-factor-auth-required",{_serverResponse:r}),r}function l_(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?ou(t.config,s):`${t.config.apiScheme}://${s}`}class Yw{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(On(this.auth,"network-request-failed")),Qw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ro(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=On(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function Jw(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xw(t,e=!1){const n=en(t),i=await n.getIdToken(e),s=au(i);ke(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:er(tl(s.auth_time)),issuedAtTime:er(tl(s.iat)),expirationTime:er(tl(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function tl(t){return Number(t)*1e3}function au(t){var e;const[n,i,s]=t.split(".");if(n===void 0||i===void 0||s===void 0)return fo("JWT malformed, contained fewer than 3 sections"),null;try{const r=$m(i);return r?JSON.parse(r):(fo("Failed to decode base64 JWT payload"),null)}catch(r){return fo("Caught error parsing JWT payload as JSON",(e=r)===null||e===void 0?void 0:e.toString()),null}}function Zw(t){const e=au(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&eE(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function eE({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){var e;const n=t.auth,i=await t.getIdToken(),s=await pr(t,Jw(n,{idToken:i}));ke(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?sE(r.providerUserInfo):[],a=iE(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new c_(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function nE(t){const e=en(t);await Vo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iE(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function sE(t){return t.map(e=>{var{providerId:n}=e,i=su(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(t,e){const n=await a_(t,{},async()=>{const i=Ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=l_(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",o_.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await rE(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new gr;return i&&(ke(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(ke(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(ke(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=su(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new c_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await pr(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xw(this,e)}reload(){return nE(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Vo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pr(this,Xw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,h;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,I=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:M,emailVerified:D,isAnonymous:$,providerData:G,stsTokenManager:N}=n;ke(M&&N,e,"internal-error");const F=gr.fromJSON(this.name,N);ke(typeof M=="string",e,"internal-error"),ri(d,e.name),ri(f,e.name),ke(typeof D=="boolean",e,"internal-error"),ke(typeof $=="boolean",e,"internal-error"),ri(p,e.name),ri(_,e.name),ri(v,e.name),ri(y,e.name),ri(b,e.name),ri(I,e.name);const H=new Vi({uid:M,auth:e,email:f,emailVerified:D,displayName:d,isAnonymous:$,photoURL:_,phoneNumber:p,tenantId:v,stsTokenManager:F,createdAt:b,lastLoginAt:I});return G&&Array.isArray(G)&&(H.providerData=G.map(A=>Object.assign({},A))),y&&(H._redirectEventId=y),H}static async _fromIdTokenResponse(e,n,i=!1){const s=new gr;s.updateFromServerResponse(n);const r=new Vi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Vo(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u_.type="NONE";const Oh=u_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,e,n){return`firebase:${t}:${e}:${n}`}class ms{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=mo(this.userKey,s.apiKey,r),this.fullPersistenceKey=mo("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ms(Qn(Oh),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Qn(Oh);const o=mo(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=Vi._fromJSON(e,h);c!==r&&(a=d),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new ms(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new ms(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p_(e))return"Blackberry";if(g_(e))return"Webos";if(lu(e))return"Safari";if((e.includes("chrome/")||d_(e))&&!e.includes("edge/"))return"Chrome";if(m_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function h_(t=Zt()){return/firefox\//i.test(t)}function lu(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d_(t=Zt()){return/crios\//i.test(t)}function f_(t=Zt()){return/iemobile/i.test(t)}function m_(t=Zt()){return/android/i.test(t)}function p_(t=Zt()){return/blackberry/i.test(t)}function g_(t=Zt()){return/webos/i.test(t)}function Aa(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oE(t=Zt()){var e;return Aa(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aE(){return y0()&&document.documentMode===10}function __(t=Zt()){return Aa(t)||m_(t)||g_(t)||p_(t)||/windows phone/i.test(t)||f_(t)}function lE(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e=[]){let n;switch(t){case"Browser":n=Bh(Zt());break;case"Worker":n=`${Bh(Zt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lh(this),this.idTokenSubscription=new Lh(this),this.beforeStateQueue=new cE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await ms.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Vo(e)}catch(i){if(((n=i)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?en(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await ms.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function zr(t){return en(t)}class Lh{constructor(e){this.auth=e,this.observer=null,this.addObserver=O0(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hE(t,e,n){const i=zr(t);ke(i._canInitEmulator,i,"emulator-config-failed"),ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=y_(e),{host:o,port:a}=dE(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||fE()}function y_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dE(t){const e=y_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:$h(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:$h(o)}}}function $h(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fE(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function mE(t,e){return Gr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(t,e){return Kr(t,"POST","/v1/accounts:signInWithPassword",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(t,e){return Kr(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}async function _E(t,e){return Kr(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends cu{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _r(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new _r(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return pE(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gE(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return mE(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _E(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e){return Kr(t,"POST","/v1/accounts:signInWithIdp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="http://localhost";class Yi extends cu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=su(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Yi(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ps(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){const e={requestUri:vE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ir(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bE(t){const e=js(qs(t)).link,n=e?js(qs(e)).deep_link_id:null,i=js(qs(t)).deep_link_id;return(i?js(qs(i)).link:null)||i||n||e||t}class uu{constructor(e){var n,i,s,r,o,a;const l=js(qs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,d=yE((s=l.mode)!==null&&s!==void 0?s:null);ke(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=bE(e);try{return new uu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.providerId=Rs.PROVIDER_ID}static credential(e,n){return _r._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=uu.parseLink(n);return ke(i,"argument-error"),_r._fromEmailAndCode(e,i.code,i.tenantId)}}Rs.PROVIDER_ID="password";Rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends b_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Wr{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ui.credential(n,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Wr{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Wr{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return di.credential(n,i)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(t,e){return Kr(t,"POST","/v1/accounts:signUp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Vi._fromIdTokenResponse(e,i,s),o=Uh(i);return new Xi({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Uh(i);return new Xi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Uh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends ii{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,jo.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new jo(e,n,i,s)}}function w_(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?jo._fromErrorAndOperation(t,r,e,i):r})}async function EE(t,e,n=!1){const i=await pr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(t,e,n=!1){var i;const{auth:s}=t,r="reauthenticate";try{const o=await pr(t,w_(s,r,e,t),n);ke(o.idToken,s,"internal-error");const a=au(o.idToken);ke(a,s,"internal-error");const{sub:l}=a;return ke(t.uid===l,s,"user-mismatch"),Xi._forOperation(t,r,o)}catch(o){throw((i=o)===null||i===void 0?void 0:i.code)==="auth/user-not-found"&&In(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E_(t,e,n=!1){const i="signIn",s=await w_(t,i,e),r=await Xi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function IE(t,e){return E_(zr(t),e)}async function TE(t,e,n){const i=zr(t),s=await wE(i,{returnSecureToken:!0,email:e,password:n}),r=await Xi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(r.user),r}function SE(t,e,n){return IE(en(t),Rs.credential(e,n))}function CE(t,e,n,i){return en(t).onIdTokenChanged(e,n,i)}function AE(t,e,n){return en(t).beforeAuthStateChanged(e,n)}const qo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qo,"1"),this.storage.removeItem(qo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){const t=Zt();return lu(t)||Aa(t)}const DE=1e3,NE=10;class I_ extends k_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=PE()&&lE(),this.fallbackToPolling=__(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);aE()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,NE):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I_.type="LOCAL";const ME=I_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends k_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T_.type="SESSION";const S_=T_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Pa(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await RE(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=hu("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function BE(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function LE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $E(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UE(){return C_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="firebaseLocalStorageDb",FE=1,Ho="firebaseLocalStorage",P_="fbase_key";class Qr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Da(t,e){return t.transaction([Ho],e?"readwrite":"readonly").objectStore(Ho)}function VE(){const t=indexedDB.deleteDatabase(A_);return new Qr(t).toPromise()}function Hl(){const t=indexedDB.open(A_,FE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ho,{keyPath:P_})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ho)?e(i):(i.close(),await VE(),e(await Hl()))})})}async function Fh(t,e,n){const i=Da(t,!0).put({[P_]:e,value:n});return new Qr(i).toPromise()}async function jE(t,e){const n=Da(t,!1).get(e),i=await new Qr(n).toPromise();return i===void 0?null:i.value}function Vh(t,e){const n=Da(t,!0).delete(e);return new Qr(n).toPromise()}const qE=800,HE=3;class D_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>HE)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pa._getInstance(UE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LE(),!this.activeServiceWorker)return;this.sender=new OE(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||((e=i[0])===null||e===void 0?void 0:e.fulfilled)&&((n=i[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$E()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hl();return await Fh(e,qo,"1"),await Vh(e,qo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fh(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>jE(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Da(s,!1).getAll();return new Qr(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D_.type="LOCAL";const GE=D_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function zE(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=On("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",KE().appendChild(i)})}function WE(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new qr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){return e?Qn(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends cu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YE(t){return E_(t.auth,new du(t),t.bypassAuthState)}function XE(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),kE(n,new du(t),t.bypassAuthState)}async function JE(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),EE(n,new du(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YE;case"linkViaPopup":case"linkViaRedirect":return JE;case"reauthViaPopup":case"reauthViaRedirect":return XE;default:In(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new qr(2e3,1e4);class cs extends N_{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=hu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,xE.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="pendingRedirect",po=new Map;class ek extends N_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=po.get(this.auth._key());if(!e){try{const i=await tk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}po.set(this.auth._key(),e)}return this.bypassAuthState||po.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tk(t,e){const n=sk(e),i=ik(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function nk(t,e){po.set(t._key(),e)}function ik(t){return Qn(t._redirectPersistence)}function sk(t){return mo(ZE,t.config.apiKey,t.name)}async function rk(t,e,n=!1){const i=zr(t),s=QE(i,e),o=await new ek(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=10*60*1e3;class ak{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!M_(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(On(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ok&&this.cachedEventUids.clear(),this.cachedEventUids.has(jh(e))}saveEventToCache(e){this.cachedEventUids.add(jh(e)),this.lastProcessedEventTime=Date.now()}}function jh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hk=/^https?/;async function dk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ck(t);for(const n of e)try{if(fk(n))return}catch{}In(t,"unauthorized-domain")}function fk(t){const e=ql(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!hk.test(n))return!1;if(uk.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new qr(3e4,6e4);function qh(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pk(t){return new Promise((e,n)=>{var i,s,r;function o(){qh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qh(),n(On(t,"network-request-failed"))},timeout:mk.get()})}if(!((s=(i=Bn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Bn().gapi)===null||r===void 0)&&r.load)o();else{const a=WE("iframefcb");return Bn()[a]=()=>{gapi.load?o():n(On(t,"network-request-failed"))},zE(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw go=null,e})}let go=null;function gk(t){return go=go||pk(t),go}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new qr(5e3,15e3),vk="__/auth/iframe",yk="emulator/auth/iframe",bk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ek(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ou(e,yk):`https://${t.config.authDomain}/${vk}`,i={apiKey:e.apiKey,appName:t.name,v:Tr},s=wk.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Ir(i).slice(1)}`}async function kk(t){const e=await gk(t),n=Bn().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:Ek(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bk,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=On(t,"network-request-failed"),a=Bn().setTimeout(()=>{r(o)},_k.get());function l(){Bn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tk=500,Sk=600,Ck="_blank",Ak="http://localhost";class Hh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pk(t,e,n,i=Tk,s=Sk){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ik),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Zt().toLowerCase();n&&(a=d_(c)?Ck:n),h_(c)&&(e=e||Ak,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(oE(c)&&a!=="_self")return Dk(e||"",a),new Hh(null);const d=window.open(e||"",a,h);ke(d,t,"popup-blocked");try{d.focus()}catch{}return new Hh(d)}function Dk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="__/auth/handler",Mk="emulator/auth/handler";function Gh(t,e,n,i,s,r){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Tr,eventId:s};if(e instanceof b_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",R0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(r||{}))o[l]=c}if(e instanceof Wr){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${Rk(t)}?${Ir(a).slice(1)}`}function Rk({config:t}){return t.emulator?ou(t,Mk):`https://${t.authDomain}/${Nk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="webStorageSupport";class Ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S_,this._completeRedirectFn=rk,this._overrideRedirectResult=nk}async _openPopup(e,n,i,s){var r;ni((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=Gh(e,n,i,ql(),s);return Pk(e,o,hu())}async _openRedirect(e,n,i,s){return await this._originValidation(e),BE(Gh(e,n,i,ql(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ni(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await kk(e),i=new ak(e);return n.register("authEvent",s=>(ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nl,{type:nl},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[nl];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return __()||lu()||Aa()}}const Bk=Ok;var Kh="@firebase/auth",zh="0.20.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{var s;e(((s=i)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Uk(t){vs(new Gi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:r,authDomain:o}=i.options;return((a,l)=>{ke(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),ke(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v_(t)},h=new uE(a,l,c);return Hw(h,n),h})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),vs(new Gi("auth-internal",e=>{const n=zr(e.getProvider("auth").getImmediate());return(i=>new Lk(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Kh,zh,$k(t)),_i(Kh,zh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=5*60,Vk=Fm("authIdTokenMaxAge")||Fk;let Wh=null;const jk=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Vk)return;const s=n==null?void 0:n.token;Wh!==s&&(Wh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qk(t=Hm()){const e=rc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qw(t,{popupRedirectResolver:Bk,persistence:[GE,ME,S_]}),i=Fm("authTokenSyncURL");if(i){const r=jk(i);AE(n,r,()=>r(n.currentUser)),CE(n,o=>r(o))}const s=Um("auth");return s&&hE(n,`http://${s}`),n}Uk("Browser");let Go=[],Ko=[],wi=[];const Hk={apiKey:"AIzaSyDGi3ndUC1b4SFNstliSSVryu7_ymXEkZc",authDomain:"match-home-7d1f9.firebaseapp.com",databaseURL:"https://match-home-7d1f9-default-rtdb.firebaseio.com",projectId:"match-home-7d1f9",storageBucket:"match-home-7d1f9.appspot.com",messagingSenderId:"747751099607",appId:"1:747751099607:web:29d1e5beda87c847dfb492"},R_=qm(Hk),ut=Cw(R_),O_=qk(R_),Gk=xt(ut,"binnacles"),Kk=xt(ut,"contacts"),zk=xt(ut,"properties");xt(ut,"todos");tu(Gk).then(t=>Ko=t.docs.map(e=>({...e.data(),id:e.id})));tu(Kk).then(t=>Go=t.docs.map(e=>({...e.data(),id:e.id})));tu(zk).then(t=>wi=t.docs.map(e=>({...e.data(),id:e.id})));function Qh(t,e,n){const i=t.slice();return i[1]=e[n],i}function Yh(t,e,n){const i=t.slice();return i[1]=e[n],i}function Xh(t){let e,n,i=St(t[1].endTask)+"",s,r,o=t[1].task+"",a,l,c=t[1].notes&&Jh(t);return{c(){e=m("ul"),n=m("li"),s=C(i),r=C(` - -\r
                    `),a=C(o),l=C(` - -\r
                    `),c&&c.c(),Ei(n,"complete",t[1].isComplete)},m(h,d){k(h,e,d),u(e,n),u(n,s),u(n,r),u(n,a),u(n,l),c&&c.m(n,null)},p(h,d){d&1&&i!==(i=St(h[1].endTask)+"")&&ie(s,i),d&1&&o!==(o=h[1].task+"")&&ie(a,o),h[1].notes?c?c.p(h,d):(c=Jh(h),c.c(),c.m(n,null)):c&&(c.d(1),c=null),d&1&&Ei(n,"complete",h[1].isComplete)},d(h){h&&w(e),c&&c.d()}}}function Jh(t){let e=t[1].notes+"",n;return{c(){n=C(e)},m(i,s){k(i,n,s)},p(i,s){s&1&&e!==(e=i[1].notes+"")&&ie(n,e)},d(i){i&&w(n)}}}function xh(t){let e,n=!t[1].timeTask&&Xh(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[1].timeTask?n&&(n.d(1),n=null):n?n.p(i,s):(n=Xh(i),n.c(),n.m(e.parentNode,e))},d(i){n&&n.d(i),i&&w(e)}}}function Zh(t){let e,n,i,s=Mu(t[1].endTask)+"",r,o,a=Nu(t[1].endTask)+"",l,c,h=St(t[1].endTask)+"",d,f,p=t[1].task+"",_,v,y=t[1].notes&&ed(t);return{c(){e=m("ul"),n=m("li"),i=m("spam"),r=C(s),o=E(),l=C(a),c=C(` - -\r
                      `),d=C(h),f=E(),_=C(p),v=C(` - -\r
                      `),y&&y.c(),g(i,"type","number"),Ei(n,"complete",t[1].isComplete)},m(b,I){k(b,e,I),u(e,n),u(n,i),u(i,r),u(i,o),u(i,l),u(i,c),u(i,d),u(i,f),u(i,_),u(i,v),y&&y.m(i,null)},p(b,I){I&1&&s!==(s=Mu(b[1].endTask)+"")&&ie(r,s),I&1&&a!==(a=Nu(b[1].endTask)+"")&&ie(l,a),I&1&&h!==(h=St(b[1].endTask)+"")&&ie(d,h),I&1&&p!==(p=b[1].task+"")&&ie(_,p),b[1].notes?y?y.p(b,I):(y=ed(b),y.c(),y.m(i,null)):y&&(y.d(1),y=null),I&1&&Ei(n,"complete",b[1].isComplete)},d(b){b&&w(e),y&&y.d()}}}function ed(t){let e=t[1].notes+"",n;return{c(){n=C(e)},m(i,s){k(i,n,s)},p(i,s){s&1&&e!==(e=i[1].notes+"")&&ie(n,e)},d(i){i&&w(n)}}}function td(t){let e,n=t[1].timeTask&&Zh(t);return{c(){n&&n.c(),e=E()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[1].timeTask?n?n.p(i,s):(n=Zh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(e)}}}function Wk(t){let e,n,i,s,r,o,a,l,c,h,d=t[0],f=[];for(let v=0;v<d.length;v+=1)f[v]=xh(Yh(t,d,v));let p=t[0],_=[];for(let v=0;v<p.length;v+=1)_[v]=td(Qh(t,p,v));return{c(){e=m("div"),n=m("div"),i=m("div"),s=m("h1"),s.textContent="Agenda",r=E(),o=m("h3"),o.textContent="Tareas",a=E();for(let v=0;v<f.length;v+=1)f[v].c();l=E(),c=m("h3"),c.textContent="Citas",h=E();for(let v=0;v<_.length;v+=1)_[v].c();g(s,"class","title svelte-13rvwi6"),g(o,"class","subtitle svelte-13rvwi6"),g(c,"class","subtitle svelte-13rvwi6"),g(i,"class","schedule"),g(n,"class","container"),g(e,"class","show-home")},m(v,y){k(v,e,y),u(e,n),u(n,i),u(i,s),u(i,r),u(i,o),u(i,a);for(let b=0;b<f.length;b+=1)f[b].m(i,null);u(i,l),u(i,c),u(i,h);for(let b=0;b<_.length;b+=1)_[b].m(i,null)},p(v,[y]){if(y&1){d=v[0];let b;for(b=0;b<d.length;b+=1){const I=Yh(v,d,b);f[b]?f[b].p(I,y):(f[b]=xh(I),f[b].c(),f[b].m(i,l))}for(;b<f.length;b+=1)f[b].d(1);f.length=d.length}if(y&1){p=v[0];let b;for(b=0;b<p.length;b+=1){const I=Qh(v,p,b);_[b]?_[b].p(I,y):(_[b]=td(I),_[b].c(),_[b].m(i,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=p.length}},i:he,o:he,d(v){v&&w(e),Fe(f,v),Fe(_,v)}}}function Qk(t,e,n){let i;return Se(t,Kn,s=>n(0,i=s)),[i]}class Yk extends Ze{constructor(e){super(),xe(this,e,Qk,Wk,We,{})}}function nd(t,e,n){const i=t.slice();return i[2]=e[n],i[4]=n,i}function Xk(t){let e,n=St(t[2].date)+"",i,s,r=t[2].action+"",o,a,l=t[2].comment+"",c,h,d=t[2].to+"",f;return{c(){e=m("div"),i=C(n),s=E(),o=C(r),a=E(),c=C(l),h=C(`\r
                            a: \r
                            `),f=C(d),g(e,"class","date-binnacle")},m(p,_){k(p,e,_),u(e,i),u(e,s),u(e,o),u(e,a),u(e,c),u(e,h),u(e,f)},p(p,_){_&1&&n!==(n=St(p[2].date)+"")&&ie(i,n),_&1&&r!==(r=p[2].action+"")&&ie(o,r),_&1&&l!==(l=p[2].comment+"")&&ie(c,l),_&1&&d!==(d=p[2].to+"")&&ie(f,d)},d(p){p&&w(e)}}}function id(t){let e,n,i=t[4]<20&&Xk(t);return{c(){e=m("div"),i&&i.c(),n=E(),g(e,"class","int-binnacle")},m(s,r){k(s,e,r),i&&i.m(e,null),u(e,n)},p(s,r){s[4]<20&&i.p(s,r)},d(s){s&&w(e),i&&i.d()}}}function Jk(t){let e,n,i,s,r,o,a,l=t[0],c=[];for(let h=0;h<l.length;h+=1)c[h]=id(nd(t,l,h));return{c(){e=C(`a\r
`),n=m("main"),i=m("div"),s=m("div"),r=m("div"),o=m("h1"),o.textContent="Bit\xE1cora",a=E();for(let h=0;h<c.length;h+=1)c[h].c();g(o,"class","title svelte-7lgm1k"),g(r,"class","binnacleHome"),g(s,"class","schedule"),g(i,"class","container")},m(h,d){k(h,e,d),k(h,n,d),u(n,i),u(i,s),u(s,r),u(r,o),u(r,a);for(let f=0;f<c.length;f+=1)c[f].m(r,null)},p(h,[d]){if(d&1){l=h[0];let f;for(f=0;f<l.length;f+=1){const p=nd(h,l,f);c[f]?c[f].p(p,d):(c[f]=id(p),c[f].c(),c[f].m(r,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=l.length}},i:he,o:he,d(h){h&&w(e),h&&w(n),Fe(c,h)}}}function xk(t){t.sort((e,n)=>new Date(e.date)<new Date(n.date)?1:new Date(e.date)>new Date(n.date)?-1:0)}function Zk(t,e,n){let i=[];const s=Ca(xt(ut,"binnacles"),r=>{n(0,i=r.docs.map(o=>({...o.data(),id:o.id}))),xk(i)},r=>{console.log(r)});return yr(s),[i]}class eI extends Ze{constructor(e){super(),xe(this,e,Zk,Jk,We,{})}}const B_="/to-deploy-mh/assets/add-user.1bd66bde.png",L_="/to-deploy-mh/assets/house.99302696.png",$_="/to-deploy-mh/assets/schedule.20f01954.png",tI="/to-deploy-mh/assets/team.31fda88c.png",nI=kt(!1);function iI(t){let e;return{c(){e=C("Inicia sesi\xF3n")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function sI(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q;return A=new un({props:{to:"/login",$$slots:{default:[iI]},$$scope:{ctx:t}}}),{c(){e=m("div"),n=m("br"),i=m("br"),s=m("br"),r=E(),o=m("div"),a=m("h1"),a.textContent="Registra tu cuenta",l=E(),c=m("div"),h=m("input"),d=E(),f=m("div"),p=m("input"),_=E(),v=m("br"),y=E(),b=m("div"),I=m("button"),I.textContent="Registrarse",M=E(),D=m("p"),D.textContent="O tambi\xE9n",$=E(),G=m("br"),N=E(),F=m("p"),H=C("\xBFYa tienes cuenta? "),ge(A.$$.fragment),g(a,"class","text-center text-login svelte-ftg4em"),g(h,"name","email"),g(h,"type","email"),g(h,"class","input-form svelte-ftg4em"),g(h,"placeholder","Correo"),h.required=!0,g(c,"class","center svelte-ftg4em"),g(p,"name","password"),g(p,"type","password"),g(p,"class","input-form svelte-ftg4em"),g(p,"placeholder","Contrase\xF1a"),g(f,"class","center svelte-ftg4em"),g(I,"class","button-signup fondo-color-signup svelte-ftg4em"),g(b,"class","center svelte-ftg4em"),g(D,"class","text-center svelte-ftg4em"),g(F,"class","text-center svelte-ftg4em"),g(o,"class","form-signin svelte-ftg4em")},m(U,se){k(U,e,se),u(e,n),u(e,i),u(e,s),u(e,r),u(e,o),u(o,a),u(o,l),u(o,c),u(c,h),u(o,d),u(o,f),u(f,p),u(o,_),u(o,v),u(o,y),u(o,b),u(b,I),u(o,M),u(o,D),u(o,$),u(o,G),u(o,N),u(o,F),u(F,H),fe(A,F,null),W=!0,O||(Q=[q(h,"input",t[2]),q(p,"input",t[3]),q(I,"click",t[1])],O=!0)},p(U,[se]){const B={};se&64&&(B.$$scope={dirty:se,ctx:U}),A.$set(B)},i(U){W||(K(A.$$.fragment,U),W=!0)},o(U){J(A.$$.fragment,U),W=!1},d(U){U&&w(e),me(A),O=!1,et(Q)}}}function rI(t){const e=Ji();let n={email:"",password:""};const i=a=>{n={...n,[a.target.name]:a.target.value}};return[i,async()=>{try{await TE(O_,n.email,n.password),e("/")}catch(a){console.log(a)}},a=>i(a),a=>i(a)]}class oI extends Ze{constructor(e){super(),xe(this,e,rI,sI,We,{})}}function U_(t){const e=t-1;return e*e*e+1}function Ss(t){return t===0||t===1?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-t*20)+1}function zo(t,{delay:e=0,duration:n=400,easing:i=tm}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Wo(t,{delay:e=0,duration:n=400,easing:i=U_,x:s=0,y:r=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,c=a.transform==="none"?"":a.transform,h=l*(1-o);return{delay:e,duration:n,easing:i,css:(d,f)=>`
			transform: ${c} translate(${(1-d)*s}px, ${(1-d)*r}px);
			opacity: ${l-h*f}`}}function Cs(t,{delay:e=0,duration:n=400,easing:i=U_,start:s=0,opacity:r=0}={}){const o=getComputedStyle(t),a=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-s,h=a*(1-r);return{delay:e,duration:n,easing:i,css:(d,f)=>`
			transform: ${l} scale(${1-c*f});
			opacity: ${a-h*f}
		`}}function aI(t){t.sort((e,n)=>new Date(e.endTask)<new Date(n.endTask)?1:new Date(e.endTask)>new Date(n.endTask)?-1:0)}const Na="/to-deploy-mh/assets/edit.070633c4.svg",F_="/to-deploy-mh/assets/calendar_check.3c15b67b.svg";function sd(t,e,n){const i=t.slice();return i[22]=e[n],i}function rd(t,e,n){const i=t.slice();return i[22]=e[n],i}function lI(t){let e;return{c(){e=C("Editar")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function cI(t){let e;return{c(){e=C("Guardar")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function od(t){let e,n,i;return{c(){e=m("button"),e.textContent="Borrar"},m(s,r){k(s,e,r),n||(i=q(e,"click",t[6]),n=!0)},p:he,d(s){s&&w(e),n=!1,i()}}}function ad(t){let e,n,i,s,r,o,a,l,c,h,d,f=t[3],p=[];for(let I=0;I<f.length;I+=1)p[I]=hd(rd(t,f,I));let _=null;f.length||(_=ld());let v=t[3],y=[];for(let I=0;I<v.length;I+=1)y[I]=pd(sd(t,v,I));let b=null;return v.length||(b=dd()),{c(){e=m("h3"),e.textContent="Tareas",n=E(),i=m("ol");for(let I=0;I<p.length;I+=1)p[I].c();_&&_.c(),s=E(),r=m("p"),r.textContent=`${gd}`,o=E(),a=m("h3"),a.textContent="Agenda",l=E(),c=m("ol");for(let I=0;I<y.length;I+=1)y[I].c();b&&b.c(),h=E(),d=m("p"),d.textContent=`${gd}`,g(r,"class","error"),g(d,"class","error")},m(I,M){k(I,e,M),k(I,n,M),k(I,i,M);for(let D=0;D<p.length;D+=1)p[D].m(i,null);_&&_.m(i,null),u(i,s),u(i,r),k(I,o,M),k(I,a,M),k(I,l,M),k(I,c,M);for(let D=0;D<y.length;D+=1)y[D].m(c,null);b&&b.m(c,null),u(c,h),u(c,d)},p(I,M){if(M&40){f=I[3];let D;for(D=0;D<f.length;D+=1){const $=rd(I,f,D);p[D]?p[D].p($,M):(p[D]=hd($),p[D].c(),p[D].m(i,s))}for(;D<p.length;D+=1)p[D].d(1);p.length=f.length,!f.length&&_?_.p(I,M):f.length?_&&(_.d(1),_=null):(_=ld(),_.c(),_.m(i,s))}if(M&40){v=I[3];let D;for(D=0;D<v.length;D+=1){const $=sd(I,v,D);y[D]?y[D].p($,M):(y[D]=pd($),y[D].c(),y[D].m(c,h))}for(;D<y.length;D+=1)y[D].d(1);y.length=v.length,!v.length&&b?b.p(I,M):v.length?b&&(b.d(1),b=null):(b=dd(),b.c(),b.m(c,h))}},d(I){I&&w(e),I&&w(n),I&&w(i),Fe(p,I),_&&_.d(),I&&w(o),I&&w(a),I&&w(l),I&&w(c),Fe(y,I),b&&b.d()}}}function ld(t){let e;return{c(){e=m("p"),e.textContent="No Hay Tareas Pendientes"},m(n,i){k(n,e,i)},p:he,d(n){n&&w(e)}}}function cd(t){let e,n,i,s,r,o,a,l,c,h,d=St(t[22].endTask)+"",f,p,_=t[22].task+"",v,y,b,I;function M(){return t[13](t[22])}function D(){return t[14](t[22])}let $=t[22].notes&&ud(t);return{c(){e=m("div"),n=m("li"),i=m("span"),s=m("img"),o=E(),a=m("img"),c=E(),h=m("spam"),f=C(d),p=C(` -*-\r
                                 `),v=C(_),y=C(` -*-\r
                                 `),$&&$.c(),rt(s.src,r=Na)||g(s,"src",r),g(s,"alt","edit"),g(s,"class","iconIMH svelte-156umuq"),rt(a.src,l=F_)||g(a,"src",l),g(a,"alt","complete"),g(a,"class","iconIMH svelte-156umuq"),g(n,"class","schedule svelte-156umuq"),Ei(n,"complete",t[22].isComplete)},m(G,N){k(G,e,N),u(e,n),u(n,i),u(i,s),u(i,o),u(i,a),u(n,c),u(n,h),u(h,f),u(h,p),u(h,v),u(h,y),$&&$.m(h,null),b||(I=[q(s,"click",M),q(a,"click",D)],b=!0)},p(G,N){t=G,N&8&&d!==(d=St(t[22].endTask)+"")&&ie(f,d),N&8&&_!==(_=t[22].task+"")&&ie(v,_),t[22].notes?$?$.p(t,N):($=ud(t),$.c(),$.m(h,null)):$&&($.d(1),$=null),N&8&&Ei(n,"complete",t[22].isComplete)},d(G){G&&w(e),$&&$.d(),b=!1,et(I)}}}function ud(t){let e=t[22].notes+"",n;return{c(){n=C(e)},m(i,s){k(i,n,s)},p(i,s){s&8&&e!==(e=i[22].notes+"")&&ie(n,e)},d(i){i&&w(n)}}}function hd(t){let e,n=!t[22].timeTask&&cd(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[22].timeTask?n&&(n.d(1),n=null):n?n.p(i,s):(n=cd(i),n.c(),n.m(e.parentNode,e))},d(i){n&&n.d(i),i&&w(e)}}}function dd(t){let e;return{c(){e=m("p"),e.textContent="No Hay Tareas Pendientes"},m(n,i){k(n,e,i)},p:he,d(n){n&&w(e)}}}function fd(t){let e,n,i,s,r,o,a,l,c,h,d=t[22].timeTask+"",f,p,_=St(t[22].endTask)+"",v,y,b=t[22].task+"",I,M,D,$;function G(){return t[15](t[22])}function N(){return t[16](t[22])}let F=t[22].notes&&md(t);return{c(){e=m("div"),n=m("li"),i=m("span"),s=m("img"),o=E(),a=m("img"),c=E(),h=m("spam"),f=C(d),p=C(` -*-\r
                                 `),v=C(_),y=C(` -*-\r
                                 `),I=C(b),M=C(` -*-\r
                                 `),F&&F.c(),rt(s.src,r=Na)||g(s,"src",r),g(s,"alt","edit"),g(s,"class","iconIMH svelte-156umuq"),rt(a.src,l=F_)||g(a,"src",l),g(a,"alt","complete"),g(a,"class","iconIMH svelte-156umuq"),g(n,"class","schedule svelte-156umuq"),Ei(n,"complete",t[22].isComplete)},m(H,A){k(H,e,A),u(e,n),u(n,i),u(i,s),u(i,o),u(i,a),u(n,c),u(n,h),u(h,f),u(h,p),u(h,v),u(h,y),u(h,I),u(h,M),F&&F.m(h,null),D||($=[q(s,"click",G),q(a,"click",N),q(e,"dblclick",t[17])],D=!0)},p(H,A){t=H,A&8&&d!==(d=t[22].timeTask+"")&&ie(f,d),A&8&&_!==(_=St(t[22].endTask)+"")&&ie(v,_),A&8&&b!==(b=t[22].task+"")&&ie(I,b),t[22].notes?F?F.p(t,A):(F=md(t),F.c(),F.m(h,null)):F&&(F.d(1),F=null),A&8&&Ei(n,"complete",t[22].isComplete)},d(H){H&&w(e),F&&F.d(),D=!1,et($)}}}function md(t){let e=t[22].notes+"",n;return{c(){n=C(e)},m(i,s){k(i,n,s)},p(i,s){s&8&&e!==(e=i[22].notes+"")&&ie(n,e)},d(i){i&&w(n)}}}function pd(t){let e,n=t[22].timeTask&&fd(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[22].timeTask?n?n.p(i,s):(n=fd(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(e)}}}function uI(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le;function x(T,z){return T[0]?lI:cI}let ue=x(t),re=ue(t),V=t[0]&&od(t),P=t[2]==="start"&&ad(t);return{c(){e=m("div"),n=m("h1"),n.textContent="Agenda",i=E(),s=m("img"),o=E(),a=m("div"),l=m("div"),h=E(),d=m("div"),f=m("div"),p=m("input"),_=E(),v=m("div"),y=m("input"),b=E(),I=m("input"),M=E(),D=m("div"),$=m("textarea"),G=E(),N=m("div"),F=m("button"),re.c(),H=E(),A=m("button"),A.textContent="Cancelar",W=E(),V&&V.c(),Q=E(),U=m("div"),P&&P.c(),rt(s.src,r=$_)||g(s,"src",r),g(s,"alt","schedule"),g(s,"class","imgTitle svelte-156umuq"),g(l,"class","background"),g(p,"type","text"),g(p,"class","inputTask"),g(p,"cols","56"),g(p,"rows","1"),g(p,"placeholder","Agrega una Tarea o Cita"),g(y,"type","time"),g(y,"class","inputDate"),g(I,"type","date"),g(I,"class","inputDate"),g(v,"class","contDate"),g($,"name","notes"),g($,"id",""),g($,"cols","56"),g($,"rows","5"),g($,"placeholder","descripci\xF3n"),g(d,"class","pop-up"),g(a,"class","container"),g(U,"class","container"),g(e,"class","container")},m(T,z){k(T,e,z),u(e,n),u(e,i),u(e,s),u(e,o),u(e,a),u(a,l),u(a,h),u(a,d),u(d,f),u(f,p),ve(p,t[1].task),u(d,_),u(d,v),u(v,y),ve(y,t[1].timeTask),u(v,b),u(v,I),ve(I,t[1].endTask),u(d,M),u(d,D),u(D,$),ve($,t[1].notes),u(d,G),u(d,N),u(N,F),re.m(F,null),u(N,H),u(N,A),u(N,W),V&&V.m(N,null),u(e,Q),u(e,U),P&&P.m(U,null),se=!0,B||(le=[q(l,"keydown",t[8]),q(p,"input",t[9]),q(p,"input",t[7]),q(y,"input",t[10]),q(I,"input",t[11]),q($,"input",t[12]),q(F,"click",t[4]),q(A,"click",t[8])],B=!0)},p(T,[z]){z&2&&p.value!==T[1].task&&ve(p,T[1].task),z&2&&ve(y,T[1].timeTask),z&2&&ve(I,T[1].endTask),z&2&&ve($,T[1].notes),ue!==(ue=x(T))&&(re.d(1),re=ue(T),re&&(re.c(),re.m(F,null))),T[0]?V?V.p(T,z):(V=od(T),V.c(),V.m(N,null)):V&&(V.d(1),V=null),T[2]==="start"?P?P.p(T,z):(P=ad(T),P.c(),P.m(U,null)):P&&(P.d(1),P=null)},i(T){se||(tt(()=>{c||(c=dn(l,zo,{},!0)),c.run(1)}),tt(()=>{O||(O=dn(d,Wo,{},!0)),O.run(1)}),se=!0)},o(T){c||(c=dn(l,zo,{},!1)),c.run(0),O||(O=dn(d,Wo,{},!1)),O.run(0),se=!1},d(T){T&&w(e),T&&c&&c.end(),re.d(),V&&V.d(),T&&O&&O.end(),P&&P.d(),B=!1,et(le)}}}let gd="";function hI(t,e,n){let i,s,r;Se(t,li,H=>n(19,i=H)),Se(t,Le,H=>n(2,s=H)),Se(t,Kn,H=>n(3,r=H));const o=Ji();let a=!1,l="addItem";be(Le,s="start",s);let c={task:"",isComplete:"",createdAt:"",endTask:"",timeTask:"",notes:"",user:"",id:""};const h=Ca(xt(ut,"todos"),H=>{be(Kn,r=H.docs.map(A=>({...A.data(),id:A.id})),r),aI(r)},H=>{console.log(H)});yr(h);async function d(){be(li,i=c,i);let H=new Date(i.endTask).getTime();be(li,i={...i,endTask:H},i),l==="deleItem"?confirm("Quieres borrarlo definitivmente?")===!0&&await Sa(Ai(ut,"todos",i.id)):l==="editItem"||await bi(xt(ut,"todos"),i),n(0,a=!1),be(li,i={},i),n(1,c={}),be(Le,s="start",s)}async function f(H){n(1,c=H),console.log(H),l="editItem",n(0,a=!0)}async function p(){n(0,a=!0),l="deleItem",d()}function _(){c.task.length>0&&be(Le,s="typing",s)}function v(){be(li,i=[],i),o("/contactos")}function y(){c.task=this.value,n(1,c)}function b(){c.timeTask=this.value,n(1,c)}function I(){c.endTask=this.value,n(1,c)}function M(){c.notes=this.value,n(1,c)}return[a,c,s,r,d,f,p,_,v,y,b,I,M,H=>f(H),H=>void 0,H=>f(H),H=>void 0,()=>f]}class dI extends Ze{constructor(e){super(),xe(this,e,hI,uI,We,{})}}function fI(t){let e;return{c(){e=m("h1"),e.textContent="Estas en Sinergias"},m(n,i){k(n,e,i)},p:he,i:he,o:he,d(n){n&&w(e)}}}class mI extends Ze{constructor(e){super(),xe(this,e,null,fI,We,{})}}function pI(t){let e,n,i,s,r,o;return{c(){e=m("div"),n=m("div"),i=m("img"),r=E(),o=m("h1"),o.textContent="Contactos",rt(i.src,s=B_)||g(i,"src",s),g(i,"alt","Buzon"),g(i,"class","profile-img svelte-obs5po"),g(o,"class","name svelte-obs5po"),g(n,"class","optionCard svelte-obs5po"),g(e,"class","container")},m(a,l){k(a,e,l),u(e,n),u(n,i),u(n,r),u(n,o)},p:he,d(a){a&&w(e)}}}function gI(t){let e,n,i,s,r,o;return{c(){e=m("div"),n=m("div"),i=m("img"),r=E(),o=m("h1"),o.textContent="Propiedades",rt(i.src,s=L_)||g(i,"src",s),g(i,"alt","propiedad"),g(i,"class","profile-img svelte-obs5po"),g(o,"class","name svelte-obs5po"),g(n,"class","optionCard svelte-obs5po"),g(e,"class","container")},m(a,l){k(a,e,l),u(e,n),u(n,i),u(n,r),u(n,o)},p:he,d(a){a&&w(e)}}}function _I(t){let e,n,i,s,r,o;return{c(){e=m("div"),n=m("div"),i=m("img"),r=E(),o=m("h1"),o.textContent="Agenda",rt(i.src,s=$_)||g(i,"src",s),g(i,"alt","agenda"),g(i,"class","profile-img svelte-obs5po"),g(o,"class","name svelte-obs5po"),g(n,"class","optionCard svelte-obs5po"),g(e,"class","container")},m(a,l){k(a,e,l),u(e,n),u(n,i),u(n,r),u(n,o)},p:he,d(a){a&&w(e)}}}function vI(t){let e,n,i,s,r,o;return{c(){e=m("div"),n=m("div"),i=m("img"),r=E(),o=m("h1"),o.textContent="Sinergias",rt(i.src,s=tI)||g(i,"src",s),g(i,"alt","sinergias"),g(i,"class","profile-img svelte-obs5po"),g(o,"class","name svelte-obs5po"),g(n,"class","optionCard svelte-obs5po"),g(e,"class","container")},m(a,l){k(a,e,l),u(e,n),u(n,i),u(n,r),u(n,o)},p:he,d(a){a&&w(e)}}}function yI(t){let e,n,i,s,r,o,a,l;return e=new un({props:{to:"/contactos",title:"contactos",$$slots:{default:[pI]},$$scope:{ctx:t}}}),i=new un({props:{to:"/propiedades",title:"propiedades",$$slots:{default:[gI]},$$scope:{ctx:t}}}),r=new un({props:{to:"/agenda",title:"agenda",class:"s",$$slots:{default:[_I]},$$scope:{ctx:t}}}),a=new un({props:{to:"/sinergias",title:"sinergias",$$slots:{default:[vI]},$$scope:{ctx:t}}}),{c(){ge(e.$$.fragment),n=E(),ge(i.$$.fragment),s=E(),ge(r.$$.fragment),o=E(),ge(a.$$.fragment)},m(c,h){fe(e,c,h),k(c,n,h),fe(i,c,h),k(c,s,h),fe(r,c,h),k(c,o,h),fe(a,c,h),l=!0},p(c,h){const d={};h&1&&(d.$$scope={dirty:h,ctx:c}),e.$set(d);const f={};h&1&&(f.$$scope={dirty:h,ctx:c}),i.$set(f);const p={};h&1&&(p.$$scope={dirty:h,ctx:c}),r.$set(p);const _={};h&1&&(_.$$scope={dirty:h,ctx:c}),a.$set(_)},i(c){l||(K(e.$$.fragment,c),K(i.$$.fragment,c),K(r.$$.fragment,c),K(a.$$.fragment,c),l=!0)},o(c){J(e.$$.fragment,c),J(i.$$.fragment,c),J(r.$$.fragment,c),J(a.$$.fragment,c),l=!1},d(c){me(e,c),c&&w(n),me(i,c),c&&w(s),me(r,c),c&&w(o),me(a,c)}}}function bI(t){let e,n,i,s,r,o,a,l,c;return i=new tc({props:{$$slots:{default:[yI]},$$scope:{ctx:t}}}),o=new Yk({props:{"(orderTodos)":!0}}),l=new eI({}),{c(){e=m("body"),n=m("div"),ge(i.$$.fragment),s=E(),r=m("div"),ge(o.$$.fragment),a=E(),ge(l.$$.fragment),g(n,"class","wrapper-grid svelte-obs5po"),g(r,"class",""),g(e,"class","svelte-obs5po")},m(h,d){k(h,e,d),u(e,n),fe(i,n,null),u(e,s),u(e,r),fe(o,r,null),u(r,a),fe(l,r,null),c=!0},p(h,[d]){const f={};d&1&&(f.$$scope={dirty:d,ctx:h}),i.$set(f)},i(h){c||(K(i.$$.fragment,h),K(o.$$.fragment,h),K(l.$$.fragment,h),c=!0)},o(h){J(i.$$.fragment,h),J(o.$$.fragment,h),J(l.$$.fragment,h),c=!1},d(h){h&&w(e),me(i),me(o),me(l)}}}class wI extends Ze{constructor(e){super(),xe(this,e,null,bI,We,{})}}function EI(t){let e,n,i,s,r,o,a,l,c,h,d=St(t[2])+"",f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U;return{c(){e=m("div"),n=m("div"),i=m("div"),s=m("h5"),r=C(t[0]),o=E(),a=C(t[1]),l=E(),c=m("h5"),h=C("Alta "),f=C(d),p=E(),_=m("div"),v=m("p"),y=C(t[3]),b=E(),I=m("p"),M=C("tel: "),D=C(t[4]),$=C(" email: "),G=C(t[5]),N=E(),F=m("p"),H=C("Presupuesto "),A=C(t[6]),W=E(),O=m("p"),Q=C("Rango "),U=C(t[7]),g(i,"class","namePerson svelte-s0ws0m"),g(_,"class","nameDate svelte-s0ws0m"),g(n,"class","contactCard"),g(e,"class","container contact svelte-s0ws0m")},m(se,B){k(se,e,B),u(e,n),u(n,i),u(i,s),u(s,r),u(s,o),u(s,a),u(i,l),u(i,c),u(c,h),u(c,f),u(n,p),u(n,_),u(_,v),u(v,y),u(_,b),u(_,I),u(I,M),u(I,D),u(I,$),u(I,G),u(_,N),u(_,F),u(F,H),u(F,A),u(_,W),u(_,O),u(O,Q),u(O,U)},p(se,[B]){B&1&&ie(r,se[0]),B&2&&ie(a,se[1]),B&4&&d!==(d=St(se[2])+"")&&ie(f,d),B&8&&ie(y,se[3]),B&16&&ie(D,se[4]),B&32&&ie(G,se[5]),B&64&&ie(A,se[6]),B&128&&ie(U,se[7])},i:he,o:he,d(se){se&&w(e)}}}function kI(t,e,n){let{name:i,lastname:s,createdAt:r,contactStage:o,telephon:a,email:l,budget:c,rangeProp:h}=e;return t.$$set=d=>{"name"in d&&n(0,i=d.name),"lastname"in d&&n(1,s=d.lastname),"createdAt"in d&&n(2,r=d.createdAt),"contactStage"in d&&n(3,o=d.contactStage),"telephon"in d&&n(4,a=d.telephon),"email"in d&&n(5,l=d.email),"budget"in d&&n(6,c=d.budget),"rangeProp"in d&&n(7,h=d.rangeProp)},[i,s,r,o,a,l,c,h]}class II extends Ze{constructor(e){super(),xe(this,e,kI,EI,We,{name:0,lastname:1,createdAt:2,contactStage:3,telephon:4,email:5,budget:6,rangeProp:7})}}function TI(t){let e,n,i,s;return{c(){e=m("div"),n=m("input"),g(n,"class","searchInput svelte-1d4ha5n"),g(n,"type","text"),g(n,"id","search-field"),g(n,"placeholder","Enter Search Term"),g(n,"autocomplete","off"),g(e,"id","search-input-cont")},m(r,o){k(r,e,o),u(e,n),ve(n,t[0]),i||(s=[q(n,"input",t[2]),q(n,"input",t[1])],i=!0)},p(r,[o]){o&1&&n.value!==r[0]&&ve(n,r[0])},i:he,o:he,d(r){r&&w(e),i=!1,et(s)}}}function SI(t,e,n){let{searchTerm:i}=e;function s(o){iv.call(this,t,o)}function r(){i=this.value,n(0,i)}return t.$$set=o=>{"searchTerm"in o&&n(0,i=o.searchTerm)},[i,s,r]}class fu extends Ze{constructor(e){super(),xe(this,e,SI,TI,We,{searchTerm:0})}}async function CI(t,e){if(console.log("estas en la funcion"),t==="todoAdding"){const n=xt(ut,"todos");await bi(n,e)}else t==="todoUpdate"?await nu(Ai(ut,"todos",e.id),e):t==="todoDelete"&&await Sa(Ai(ut,"todos",e.id));e=""}function AI(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G;return{c(){e=m("div"),i=E(),s=m("div"),r=m("div"),o=m("input"),a=E(),l=m("input"),c=E(),h=m("input"),d=E(),f=m("div"),p=m("textarea"),_=E(),v=m("div"),y=m("button"),y.textContent="Guardar",b=E(),I=m("button"),I.textContent="Cancelar",g(e,"class","background svelte-18c6vp2"),g(o,"type","text"),g(o,"class","inputTask svelte-18c6vp2"),g(o,"placeholder","Agrega una Tarea o Cita"),g(l,"type","time"),g(l,"class","inputDate svelte-18c6vp2"),g(l,"placeholder","Hora"),g(h,"type","date"),g(h,"class","inputDate svelte-18c6vp2"),g(h,"placeholder","Fecha"),g(p,"name","notes"),g(p,"cols","40"),g(p,"rows","5"),g(p,"placeholder","descripci\xF3n"),g(y,"class","btnShedule svelte-18c6vp2"),g(I,"class","btnShedule svelte-18c6vp2"),g(s,"class","pop__up svelte-18c6vp2")},m(N,F){k(N,e,F),k(N,i,F),k(N,s,F),u(s,r),u(r,o),ve(o,t[0]),u(s,a),u(s,l),ve(l,t[1].timeTask),u(s,c),u(s,h),ve(h,t[1].endTask),u(s,d),u(s,f),u(f,p),ve(p,t[1].notes),u(s,_),u(s,v),u(v,y),u(v,b),u(v,I),D=!0,$||(G=[q(window,"keydown",t[4]),q(e,"click",t[2]),q(o,"input",t[5]),q(l,"input",t[6]),q(h,"input",t[7]),q(p,"input",t[8]),q(y,"click",t[3]),q(I,"click",t[2])],$=!0)},p(N,[F]){F&1&&o.value!==N[0]&&ve(o,N[0]),F&2&&ve(l,N[1].timeTask),F&2&&ve(h,N[1].endTask),F&2&&ve(p,N[1].notes)},i(N){D||(tt(()=>{n||(n=dn(e,zo,{},!0)),n.run(1)}),tt(()=>{M||(M=dn(s,Wo,{},!0)),M.run(1)}),D=!0)},o(N){n||(n=dn(e,zo,{},!1)),n.run(0),M||(M=dn(s,Wo,{},!1)),M.run(0),D=!1},d(N){N&&w(e),N&&n&&n.end(),N&&w(i),N&&w(s),N&&M&&M.end(),$=!1,et(G)}}}function PI(t,e,n){let i,s,r;Se(t,li,I=>n(10,i=I)),Se(t,Le,I=>n(11,s=I)),Se(t,nt,I=>n(12,r=I));const o=lm();let a=`${r.name} ${r.lastname}`,l=[],c=[],h;l={task:"",endTask:"",isComplete:"",createdAt:"",timeTask:"",notes:"",user:""};function d(){o("closeIt"),be(Le,s="contSelect",s),be(li,i="",i)}const f=async()=>{console.log("ests en addTodo"),be(Le,s="todoAdding",s),console.log(h),c=a,be(li,i={...l,task:c},i),CI(s,i),console.log(i)},p=I=>{I.key==="Enter"&&f()};function _(){a=this.value,n(0,a)}function v(){l.timeTask=this.value,n(1,l)}function y(){l.endTask=this.value,n(1,l)}function b(){l.notes=this.value,n(1,l)}return[a,l,d,f,p,_,v,y,b]}class DI extends Ze{constructor(e){super(),xe(this,e,PI,AI,We,{})}}function NI(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le,x,ue,re,V,P,T,z;return{c(){e=m("main"),n=m("section"),i=m("figure"),s=m("img"),o=E(),a=m("div"),l=C(t[1]),c=E(),h=m("figcaption"),d=C(t[2]),f=E(),p=m("section"),_=m("section"),v=m("div"),y=m("div"),b=C(t[3]),I=C(" Rec\xE1maras"),M=E(),D=m("div"),$=C(t[4]),G=C(" Ba\xF1os"),N=E(),F=m("div"),H=C(t[5]),A=C(" Estacionamientos"),W=E(),O=m("div"),Q=C(t[6]),U=C(" m2 de Contruccion"),se=E(),B=m("div"),le=C(t[7]),x=C(" m2 de Terreno"),ue=E(),re=m("br"),V=E(),P=m("div"),T=C("Precio $: "),z=C(t[8]),rt(s.src,r=t[0])||g(s,"src",r),g(s,"alt",t[1]),g(s,"class","bkcover svelte-1w1p4eb"),g(a,"class","language svelte-1w1p4eb"),g(h,"class","svelte-1w1p4eb"),g(i,"class","bkcont svelte-1w1p4eb"),g(n,"class","book-top-info svelte-1w1p4eb"),g(v,"class","buy-options-cont svelte-1w1p4eb"),g(_,"class","from-pariyatti available-at svelte-1w1p4eb"),g(p,"class","book-bottom-links svelte-1w1p4eb")},m(R,Y){k(R,e,Y),u(e,n),u(n,i),u(i,s),u(i,o),u(i,a),u(a,l),u(i,c),u(i,h),u(h,d),u(e,f),u(e,p),u(p,_),u(_,v),u(v,y),u(y,b),u(y,I),u(v,M),u(v,D),u(D,$),u(D,G),u(v,N),u(v,F),u(F,H),u(F,A),u(v,W),u(v,O),u(O,Q),u(O,U),u(v,se),u(v,B),u(B,le),u(B,x),u(v,ue),u(v,re),u(v,V),u(v,P),u(P,T),u(P,z)},p(R,[Y]){Y&1&&!rt(s.src,r=R[0])&&g(s,"src",r),Y&2&&g(s,"alt",R[1]),Y&2&&ie(l,R[1]),Y&4&&ie(d,R[2]),Y&8&&ie(b,R[3]),Y&16&&ie($,R[4]),Y&32&&ie(H,R[5]),Y&64&&ie(Q,R[6]),Y&128&&ie(le,R[7]),Y&256&&ie(z,R[8])},i:he,o:he,d(R){R&&w(e)}}}function MI(t,e,n){let{urlImage:i,claveEB:s,nameProperty:r,beds:o,bathroom:a,park:l,areaBuilding:c,areaTotal:h,price:d}=e;return t.$$set=f=>{"urlImage"in f&&n(0,i=f.urlImage),"claveEB"in f&&n(1,s=f.claveEB),"nameProperty"in f&&n(2,r=f.nameProperty),"beds"in f&&n(3,o=f.beds),"bathroom"in f&&n(4,a=f.bathroom),"park"in f&&n(5,l=f.park),"areaBuilding"in f&&n(6,c=f.areaBuilding),"areaTotal"in f&&n(7,h=f.areaTotal),"price"in f&&n(8,d=f.price)},[i,s,r,o,a,l,c,h,d]}class V_ extends Ze{constructor(e){super(),xe(this,e,MI,NI,We,{urlImage:0,claveEB:1,nameProperty:2,beds:3,bathroom:4,park:5,areaBuilding:6,areaTotal:7,price:8})}}let Ri;function j_(t){return t<=1e6?Ri="PRM":t<=25e5?Ri="SGN":t<=5e6?Ri="TRC":t<=8e6?Ri="CRT":t<=12e6?Ri="QNT":t>12e6&&(Ri="SXT"),Ri}let il,sl;function RI(t){console.log(t);let e=wi;return e=e.filter(n=>n.selectTP===t.selecTP),console.log("filtraste por tipo de propiedad",e),t.numBeds>0&&(e=e.filter(n=>n.beds>=t.numBeds)),t.numBaths>0&&(e=e.filter(n=>n.bathroom>=t.numBaths)),t.numParks>0&&(e=e.filter(n=>n.park>=t.numParks)),console.log("Por caracteristicas",e),!t.budget&&t.rangeProp!=""&&(t.budget?(console.log("filtraste por rango",t.budget),il=t.budget*.7,sl=t.budget*1.1,console.log(il,sl),e=e.filter(n=>n.price>=il&&n.price<=sl)):(console.log("filtraste por rango",t.rangeProp),e=e.filter(n=>j_(n.price)===t.rangeProp)),console.log("filtraste presupuesto",e)),t.locaProperty.length>0&&(e=e.filter(n=>t.locaProperty.some(i=>n.locaProperty.includes(i)))),console.log("Filtraste por Ubicacion",e),t.tagsProperty.length>0&&(e=e.filter(n=>t.tagsProperty.every(i=>n.tagsProperty.includes(i)))),console.log("Filtraste por localizacion",e),e.length===0||""+e.length,dl.set(e)}async function Gl(t,e){if(t==="binnAdding"){console.log(t,e);const n=xt(ut,"binnacles");await bi(n,e)}e=[]}const q_="/to-deploy-mh/assets/trash.2d1385a7.svg";function _d(t,e,n){const i=t.slice();return i[10]=e[n],i}function vd(t,e,n){const i=t.slice();return i[51]=e[n],i}function yd(t,e,n){const i=t.slice();return i[54]=e[n],i}function bd(t){let e,n,i,s,r,o=t[7].name+"",a,l,c=t[7].lastname+"",h,d,f,p,_=St(t[7].createdAt)+"",v,y,b,I,M=t[7].selecTP+"",D,$,G=t[7].numBeds+"",N,F,H=t[7].numBaths+"",A,W,O=t[7].numParks+"",Q,U,se,B,le,x,ue=t[7].budget+"",re,V,P,T=t[7].selecTP+"",z,R,Y,X,ce,Ie=t[7].telephon+"",Re,ft,j,ae=t[7].email+"",Qe,Nt,Be,dt,qe=t[7].tagsProperty.join(",  ")+"",Ge,L,de,Z,Ye=t[7].locaProperty.join(",  ")+"",Ft,zt,mt,pn,lt,pt,rn,gt,Un,on,_t=t[7].contactStage+"",Tn,Sn,an,Cn=t[7].comContact+"",An,Wt,Ve,nn,He,Ne,Pe,Fn,vt,Vn,Vt,Pn,yt,jn,bt,bn,st,Yr,si,Mi,Os,S,oe,Me,qn,ee,ct,ts,mu,pu,Xr,Ma,Bs,Ct,Ra,gu,ns=t[11],ln=[];for(let pe=0;pe<ns.length;pe+=1)ln[pe]=wd(yd(t,ns,pe));let Mt=t[0]&&Ed(t),Rt=t[5]&&kd(t),is=t[6],cn=[];for(let pe=0;pe<is.length;pe+=1)cn[pe]=Id(vd(t,is,pe));let Ot=t[4]&&Td(t);return{c(){e=m("div"),n=m("div"),i=m("h4"),i.textContent="Contacto",s=E(),r=m("h2"),a=C(o),l=E(),h=C(c),d=E(),f=m("p"),p=C("Fecha Alta: "),v=C(_),y=E(),b=m("p"),I=C("Busca  "),D=C(M),$=C(", de "),N=C(G),F=C(" rec\xE1maras,  "),A=C(H),W=C(" ba\xF1os y "),Q=C(O),U=C(" estacionamientos"),se=E(),B=m("p"),le=C("Presupuesto tope: "),x=m("strong"),re=C(ue),V=C(" : Tipo de propiedad buscada: "),P=m("strong"),z=C(T),R=E(),Y=m("p"),X=C("Tel\xE9fono: "),ce=m("strong"),Re=C(Ie),ft=C(" ---- Email: "),j=m("strong"),Qe=C(ae),Nt=E(),Be=m("p"),dt=C("Preferencias: "),Ge=C(qe),L=E(),de=m("p"),Z=C("Ubicaciones: "),Ft=C(Ye),zt=E(),mt=m("div"),pn=m("p"),pn.textContent="Propiedades enviadas:",lt=E(),pt=m("div");for(let pe=0;pe<ln.length;pe+=1)ln[pe].c();rn=E(),gt=m("div"),Un=E(),on=m("p"),Tn=C(_t),Sn=E(),an=m("p"),An=C(Cn),Wt=E(),Ve=m("div"),nn=m("button"),nn.textContent="Programar Evento",He=E(),Mt&&Mt.c(),Ne=E(),Pe=m("button"),Pe.textContent="Ver Propiedades de Interes",Fn=E(),vt=m("button"),vt.textContent="Buscar Propiedad",Vn=E(),Rt&&Rt.c(),Vt=E(),Pn=m("div"),yt=m("button"),yt.textContent="Cancelar",jn=E(),bt=m("div"),bn=m("div"),st=m("textarea"),Yr=E(),si=m("div"),Mi=m("button"),Mi.textContent="Enviar WhatsApp",Os=E(),S=m("button"),S.textContent="Guardar Info",oe=E(),Me=m("div"),qn=m("img"),ct=E(),ts=m("img"),pu=E(),Xr=m("div");for(let pe=0;pe<cn.length;pe+=1)cn[pe].c();Ma=E(),Ot&&Ot.c(),Bs=mn(),g(pt,"class","mostImage svelte-4bhw6f"),g(mt,"class","propMost"),g(nn,"class","btn__common"),g(Pe,"class","btn__common"),g(vt,"class","btn__common"),g(Ve,"class","btn__actions svelte-4bhw6f"),g(yt,"class","btn__cancel"),g(st,"class","texArea"),g(st,"cols","65"),g(st,"rows","5"),g(st,"placeholder","Ingresa un comentario"),g(Mi,"class","btn__WhatsApp"),g(S,"class","btn__saveNote"),rt(qn.src,ee=Na)||g(qn,"src",ee),g(qn,"alt","delete"),rt(ts.src,mu=q_)||g(ts,"src",mu),g(ts,"alt","delete"),g(Me,"class","icon__Content"),g(e,"class","container")},m(pe,Ke){k(pe,e,Ke),u(e,n),u(n,i),u(n,s),u(n,r),u(r,a),u(r,l),u(r,h),u(n,d),u(n,f),u(f,p),u(f,v),u(n,y),u(n,b),u(b,I),u(b,D),u(b,$),u(b,N),u(b,F),u(b,A),u(b,W),u(b,Q),u(b,U),u(n,se),u(n,B),u(B,le),u(B,x),u(x,re),u(B,V),u(B,P),u(P,z),u(n,R),u(n,Y),u(Y,X),u(Y,ce),u(ce,Re),u(Y,ft),u(Y,j),u(j,Qe),u(n,Nt),u(n,Be),u(Be,dt),u(Be,Ge),u(n,L),u(n,de),u(de,Z),u(de,Ft),u(n,zt),u(n,mt),u(mt,pn),u(mt,lt),u(mt,pt);for(let je=0;je<ln.length;je+=1)ln[je].m(pt,null);u(e,rn),u(e,gt),u(e,Un),u(e,on),u(on,Tn),u(e,Sn),u(e,an),u(an,An),u(e,Wt),u(e,Ve),u(Ve,nn),u(Ve,He),Mt&&Mt.m(Ve,null),u(Ve,Ne),u(Ve,Pe),u(Ve,Fn),u(Ve,vt),u(Ve,Vn),Rt&&Rt.m(Ve,null),u(e,Vt),u(e,Pn),u(Pn,yt),u(e,jn),u(e,bt),u(bt,bn),u(bn,st),ve(st,t[2]),u(bn,Yr),u(bn,si),u(si,Mi),u(si,Os),u(si,S),u(bt,oe),u(bt,Me),u(Me,qn),u(Me,ct),u(Me,ts),u(e,pu),u(e,Xr);for(let je=0;je<cn.length;je+=1)cn[je].m(Xr,null);k(pe,Ma,Ke),Ot&&Ot.m(pe,Ke),k(pe,Bs,Ke),Ct=!0,Ra||(gu=[q(nn,"click",t[25]),q(Pe,"click",t[26]),q(vt,"click",t[14]),q(yt,"click",t[17]),q(st,"keypress",t[23]),q(st,"input",t[28]),q(Mi,"click",t[22]),q(S,"click",t[29]),q(qn,"click",t[18]),q(ts,"click",t[19])],Ra=!0)},p(pe,Ke){if((!Ct||Ke[0]&128)&&o!==(o=pe[7].name+"")&&ie(a,o),(!Ct||Ke[0]&128)&&c!==(c=pe[7].lastname+"")&&ie(h,c),(!Ct||Ke[0]&128)&&_!==(_=St(pe[7].createdAt)+"")&&ie(v,_),(!Ct||Ke[0]&128)&&M!==(M=pe[7].selecTP+"")&&ie(D,M),(!Ct||Ke[0]&128)&&G!==(G=pe[7].numBeds+"")&&ie(N,G),(!Ct||Ke[0]&128)&&H!==(H=pe[7].numBaths+"")&&ie(A,H),(!Ct||Ke[0]&128)&&O!==(O=pe[7].numParks+"")&&ie(Q,O),(!Ct||Ke[0]&128)&&ue!==(ue=pe[7].budget+"")&&ie(re,ue),(!Ct||Ke[0]&128)&&T!==(T=pe[7].selecTP+"")&&ie(z,T),(!Ct||Ke[0]&128)&&Ie!==(Ie=pe[7].telephon+"")&&ie(Re,Ie),(!Ct||Ke[0]&128)&&ae!==(ae=pe[7].email+"")&&ie(Qe,ae),(!Ct||Ke[0]&128)&&qe!==(qe=pe[7].tagsProperty.join(",  ")+"")&&ie(Ge,qe),(!Ct||Ke[0]&128)&&Ye!==(Ye=pe[7].locaProperty.join(",  ")+"")&&ie(Ft,Ye),Ke[0]&6144){ns=pe[11];let je;for(je=0;je<ns.length;je+=1){const Ls=yd(pe,ns,je);ln[je]?ln[je].p(Ls,Ke):(ln[je]=wd(Ls),ln[je].c(),ln[je].m(pt,null))}for(;je<ln.length;je+=1)ln[je].d(1);ln.length=ns.length}if((!Ct||Ke[0]&128)&&_t!==(_t=pe[7].contactStage+"")&&ie(Tn,_t),(!Ct||Ke[0]&128)&&Cn!==(Cn=pe[7].comContact+"")&&ie(An,Cn),pe[0]?Mt?(Mt.p(pe,Ke),Ke[0]&1&&K(Mt,1)):(Mt=Ed(pe),Mt.c(),K(Mt,1),Mt.m(Ve,Ne)):Mt&&(It(),J(Mt,1,1,()=>{Mt=null}),Tt()),pe[5]?Rt?(Rt.p(pe,Ke),Ke[0]&32&&K(Rt,1)):(Rt=kd(pe),Rt.c(),K(Rt,1),Rt.m(Ve,null)):Rt&&(It(),J(Rt,1,1,()=>{Rt=null}),Tt()),Ke[0]&4&&ve(st,pe[2]),Ke[0]&64){is=pe[6];let je;for(je=0;je<is.length;je+=1){const Ls=vd(pe,is,je);cn[je]?cn[je].p(Ls,Ke):(cn[je]=Id(Ls),cn[je].c(),cn[je].m(Xr,null))}for(;je<cn.length;je+=1)cn[je].d(1);cn.length=is.length}pe[4]?Ot?(Ot.p(pe,Ke),Ke[0]&16&&K(Ot,1)):(Ot=Td(pe),Ot.c(),K(Ot,1),Ot.m(Bs.parentNode,Bs)):Ot&&(It(),J(Ot,1,1,()=>{Ot=null}),Tt())},i(pe){Ct||(K(Mt),K(Rt),K(Ot),Ct=!0)},o(pe){J(Mt),J(Rt),J(Ot),Ct=!1},d(pe){pe&&w(e),Fe(ln,pe),Mt&&Mt.d(),Rt&&Rt.d(),Fe(cn,pe),pe&&w(Ma),Ot&&Ot.d(pe),pe&&w(Bs),Ra=!1,et(gu)}}}function wd(t){let e,n,i=t[54]+"",s,r,o,a,l;return{c(){e=m("div"),n=m("p"),s=C(i),r=E(),o=m("img"),l=E(),g(o,"class","imgPropContSelect"),g(o,"height","100"),rt(o.src,a=t[12](t[54]))||g(o,"src",a),g(o,"alt",t[54]),g(e,"class","prop__sent svelte-4bhw6f")},m(c,h){k(c,e,h),u(e,n),u(n,s),u(e,r),u(e,o),u(e,l)},p:he,d(c){c&&w(e)}}}function Ed(t){let e,n;const i=[t[7]];let s={};for(let r=0;r<i.length;r+=1)s=$t(s,i[r]);return e=new DI({props:s}),e.$on("closeIt",t[20]),{c(){ge(e.$$.fragment)},m(r,o){fe(e,r,o),n=!0},p(r,o){const a=o[0]&128?vn(i,[Jn(r[7])]):{};e.$set(a)},i(r){n||(K(e.$$.fragment,r),n=!0)},o(r){J(e.$$.fragment,r),n=!1},d(r){me(e,r)}}}function kd(t){let e,n,i;function s(o){t[27](o)}let r={};return t[1]!==void 0&&(r.searchTerm=t[1]),e=new fu({props:r}),Xn.push(()=>qi(e,"searchTerm",s)),e.$on("input",t[15]),{c(){ge(e.$$.fragment)},m(o,a){fe(e,o,a),i=!0},p(o,a){const l={};!n&&a[0]&2&&(n=!0,l.searchTerm=o[1],ji(()=>n=!1)),e.$set(l)},i(o){i||(K(e.$$.fragment,o),i=!0)},o(o){J(e.$$.fragment,o),i=!1},d(o){me(e,o)}}}function Id(t){let e,n=St(t[51].date)+"",i,s,r=t[51].action+"",o,a,l=t[51].comment+"",c;return{c(){e=m("h4"),i=C(n),s=E(),o=C(r),a=E(),c=C(l)},m(h,d){k(h,e,d),u(e,i),u(e,s),u(e,o),u(e,a),u(e,c)},p(h,d){d[0]&64&&n!==(n=St(h[51].date)+"")&&ie(i,n),d[0]&64&&r!==(r=h[51].action+"")&&ie(o,r),d[0]&64&&l!==(l=h[51].comment+"")&&ie(c,l)},d(h){h&&w(e)}}}function Td(t){let e,n,i,s=t[9].length+"",r,o,a,l,c=t[9],h=[];for(let p=0;p<c.length;p+=1)h[p]=Sd(_d(t,c,p));const d=p=>J(h[p],1,1,()=>{h[p]=null});let f=t[9].length===0&&Cd();return{c(){e=m("main"),n=m("h3"),i=C("Propiedades encontradas: "),r=C(s),o=E();for(let p=0;p<h.length;p+=1)h[p].c();a=E(),f&&f.c(),g(n,"class","svelte-4bhw6f"),g(e,"id","bookshelf"),g(e,"class","svelte-4bhw6f")},m(p,_){k(p,e,_),u(e,n),u(n,i),u(n,r),u(e,o);for(let v=0;v<h.length;v+=1)h[v].m(e,null);u(e,a),f&&f.m(e,null),l=!0},p(p,_){if((!l||_[0]&512)&&s!==(s=p[9].length+"")&&ie(r,s),_[0]&2097672){c=p[9];let v;for(v=0;v<c.length;v+=1){const y=_d(p,c,v);h[v]?(h[v].p(y,_),K(h[v],1)):(h[v]=Sd(y),h[v].c(),K(h[v],1),h[v].m(e,a))}for(It(),v=c.length;v<h.length;v+=1)d(v);Tt()}p[9].length===0?f||(f=Cd(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(p){if(!l){for(let _=0;_<c.length;_+=1)K(h[_]);l=!0}},o(p){h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)J(h[_]);l=!1},d(p){p&&w(e),Fe(h,p),f&&f.d()}}}function Sd(t){let e,n,i,s,r,o,a,l,c;const h=[t[10]];let d={};for(let f=0;f<h.length;f+=1)d=$t(d,h[f]);return r=new V_({props:d}),{c(){e=m("section"),n=m("input"),s=E(),ge(r.$$.fragment),g(n,"type","checkbox"),n.__value=i=t[10].urlProp,n.value=n.__value,g(n,"class","form-check"),t[31][0].push(n),g(e,"class","property svelte-4bhw6f")},m(f,p){k(f,e,p),u(e,n),n.checked=~t[3].indexOf(n.__value),u(e,s),fe(r,e,null),a=!0,l||(c=[q(n,"change",t[30]),q(e,"click",t[21])],l=!0)},p(f,p){t=f,(!a||p[0]&512&&i!==(i=t[10].urlProp))&&(n.__value=i,n.value=n.__value),p[0]&8&&(n.checked=~t[3].indexOf(n.__value));const _=p[0]&512?vn(h,[Jn(t[10])]):{};r.$set(_)},i(f){a||(K(r.$$.fragment,f),tt(()=>{o||(o=dn(e,Cs,{duration:500,easing:Ss},!0)),o.run(1)}),a=!0)},o(f){J(r.$$.fragment,f),o||(o=dn(e,Cs,{duration:500,easing:Ss},!1)),o.run(0),a=!1},d(f){f&&w(e),t[31][0].splice(t[31][0].indexOf(n),1),me(r),f&&o&&o.end(),l=!1,et(c)}}}function Cd(t){let e;return{c(){e=m("h3"),e.textContent='"No hay Propiedades para este contacto"',g(e,"class","svelte-4bhw6f")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function OI(t){let e,n,i=t[8]==="contSelect"&&bd(t);return{c(){e=m("main"),i&&i.c()},m(s,r){k(s,e,r),i&&i.m(e,null),n=!0},p(s,r){s[8]==="contSelect"?i?(i.p(s,r),r[0]&256&&K(i,1)):(i=bd(s),i.c(),K(i,1),i.m(e,null)):i&&(It(),J(i,1,1,()=>{i=null}),Tt())},i(s){n||(K(i),n=!0)},o(s){J(i),n=!1},d(s){s&&w(e),i&&i.d()}}}function BI(t,e,n){let i,s,r,o,a,l;Se(t,nt,Y=>n(7,i=Y)),Se(t,Le,Y=>n(8,s=Y)),Se(t,hs,Y=>n(38,r=Y)),Se(t,fi,Y=>n(39,o=Y)),Se(t,Xe,Y=>n(10,a=Y)),Se(t,dl,Y=>n(9,l=Y));const c=Ji();let h,d=!1,f,p,_=[],v=!1,y=!1,b=[],I=[];function M(Y){h=wi.filter(X=>X.claveEB===Y),console.log("imagen");try{return h[0].urlImage}catch{return"https://assets.easybroker.com/property_images/1031233/15455598/medium_EB-CY1233.png"}}function D(){n(0,d=!0)}function $(){n(5,y=!0)}const G=()=>(n(4,v=!0),be(dl,l=wi.filter(Y=>(Y.nameProperty+" "+Y.colonia+" "+Y.claveEB).toLowerCase().includes(f.toLowerCase())),l));function N(Y){RI(Y),n(4,v=!0)}const F=()=>{be(nt,i=[],i),be(Le,s="start",s)};function H(){be(Le,s="contEditing",s)}async function A(){confirm("Deseas eleiminar definitivamente al contacto?")&&(await Sa(Ai(ut,"contacts",i.id)),W(i),c("/"))}async function W(Y){let X=`Se le elimin\xF3a: ${Y.name} ${Y.lastname} del ${Y.telephon}`,ce={date:Date.now(),comment:X};console.log(s,ce);const Ie=xt(ut,"binnacles");await bi(Ie,ce)}function O(){n(0,d=!1)}function Q(){console.log(_)}function U(){p&&(n(3,_=p),be(hs,r="sendMsg",r));let Y=`https://api.whatsapp.com/send?phone=52${i.telephon}&text=${_}`;window.open(Y,"ventana1","width=350,height=350,scrollbars=NO"),le(_)}function se(){}function B(){be(Le,s="binnAdding",s),be(fi,o={date:Date.now(),comment:p,to:i.telephon,action:"Nota agregada: "},o),Gl(s,o)}function le(Y){be(Le,s="binnAdding",s);let X=wi.filter(ce=>ce.urlProp===Y[0]);be(Xe,a=X[0],a),r==="sendMsg"?be(fi,o={date:Date.now(),comment:Y,to:i.telephon,action:"Mensaje enviado: "},o):be(fi,o={date:Date.now(),comment:a.claveEB,to:i.telephon,action:"Propiedad enviada: "},o),Gl(s,o),be(hs,r="",r),be(Le,s="contSelect",s)}function x(Y){n(6,b=Ko.filter(ce=>ce.to===Y.telephon)),b.filter(ce=>ce.action==="Propiedad enviada: ").forEach(ce=>I.push(ce.comment)),console.log(I)}x(i);const ue=[[]],re=()=>D(),V=()=>N(i);function P(Y){f=Y,n(1,f)}function T(){p=this.value,n(2,p)}const z=()=>B();function R(){_=Bt(ue[0],this.__value,this.checked),n(3,_)}return[d,f,p,_,v,y,b,i,s,l,a,I,M,D,$,G,N,F,H,A,O,Q,U,se,B,re,V,P,T,z,R,ue]}class LI extends Ze{constructor(e){super(),xe(this,e,BI,OI,We,{},null,[-1,-1])}}const Qo=["Casa","Terreno","Departamento","Casa o Departamento","Local Comercial","Casa de Campo"],Ad=["Lona en Propiedad","Propiedades.com","NocNok","Mercado Libre","Vivanuncios","Lamudi","Inmuebles24","Referido","Otro"],Pd=["Comprador","Arrendador","Propietario","Agente Asociado","Agente Inmobiliario","Constructor","Inversionista","Otro"],Dd=["Contado","Credito Hipotecario","INFONAVIT","COFINAVIT","FOVISSSTE","ALIADOS","Conyugal"],Nd=["Venta","Renta"],Md=["Rango","PRM","SGN","TRC","CRT","QNT","SXT","SPT"],Yo=[0,1,2,3,4,5],wn=[0,1,2,3,4],Rd=["Due\xF1o","Familiar","Inmobiliaria","Conocido"];function $I(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le,x,ue,re,V,P,T,z,R,Y,X;return{c(){e=m("div"),n=m("div"),i=m("label"),s=C(`/Norte\\\r
			`),r=m("input"),o=E(),a=m("div"),l=m("label"),c=C(`/Noroeste\r
			`),h=m("input"),d=E(),f=m("label"),p=m("input"),_=C("NorEste\\"),v=E(),y=m("div"),b=m("label"),I=C(`/Oeste\r
			`),M=m("input"),D=E(),$=m("label"),G=C(`Centro Norte\r
			`),N=m("input"),F=E(),H=m("label"),A=m("input"),W=C("Este\\"),O=E(),Q=m("div"),U=m("label"),se=C(`Centro Sur\r
			`),B=m("input"),le=E(),x=m("div"),ue=m("label"),re=C(`/SurOeste\r
			`),V=m("input"),P=E(),T=m("label"),z=m("input"),R=C("SurEste\\"),r.__value="Norte",r.value=r.__value,g(r,"id","north"),g(r,"type","checkbox"),t[2][0].push(r),g(i,"for","north"),g(n,"class","filterLocationOne svelte-1lvjb5r"),h.__value="Noroeste",h.value=h.__value,g(h,"id","northwest"),g(h,"type","checkbox"),t[2][0].push(h),g(l,"for","northwest"),p.__value="Noreste",p.value=p.__value,g(p,"id","northeast"),g(p,"type","checkbox"),t[2][0].push(p),g(f,"for","northeast"),g(a,"class","filterLocationOne svelte-1lvjb5r"),M.__value="Oeste",M.value=M.__value,g(M,"id","west"),g(M,"type","checkbox"),t[2][0].push(M),g(b,"for","west"),N.__value="Centronorte",N.value=N.__value,g(N,"id","townNorth"),g(N,"type","checkbox"),t[2][0].push(N),g($,"for","townNorth"),A.__value="Este",A.value=A.__value,g(A,"id","east"),g(A,"type","checkbox"),t[2][0].push(A),g(H,"for","east"),g(y,"class","filterLocationOne svelte-1lvjb5r"),B.__value="CentroSur",B.value=B.__value,g(B,"id","townsouth"),g(B,"type","checkbox"),t[2][0].push(B),g(U,"for","townsouth"),g(Q,"class","filterLocationOne svelte-1lvjb5r"),V.__value="SurOeste",V.value=V.__value,g(V,"id","southwest"),g(V,"type","checkbox"),t[2][0].push(V),g(ue,"for","southwest"),z.__value="SurEste",z.value=z.__value,g(z,"id","southeast"),g(z,"type","checkbox"),t[2][0].push(z),g(T,"for","southeast"),g(x,"class","filterLocationOne svelte-1lvjb5r"),g(e,"class","containerUbication svelte-1lvjb5r")},m(ce,Ie){k(ce,e,Ie),u(e,n),u(n,i),u(i,s),u(i,r),r.checked=~t[0].indexOf(r.__value),u(e,o),u(e,a),u(a,l),u(l,c),u(l,h),h.checked=~t[0].indexOf(h.__value),u(a,d),u(a,f),u(f,p),p.checked=~t[0].indexOf(p.__value),u(f,_),u(e,v),u(e,y),u(y,b),u(b,I),u(b,M),M.checked=~t[0].indexOf(M.__value),u(y,D),u(y,$),u($,G),u($,N),N.checked=~t[0].indexOf(N.__value),u(y,F),u(y,H),u(H,A),A.checked=~t[0].indexOf(A.__value),u(H,W),u(e,O),u(e,Q),u(Q,U),u(U,se),u(U,B),B.checked=~t[0].indexOf(B.__value),u(e,le),u(e,x),u(x,ue),u(ue,re),u(ue,V),V.checked=~t[0].indexOf(V.__value),u(x,P),u(x,T),u(T,z),z.checked=~t[0].indexOf(z.__value),u(T,R),Y||(X=[q(r,"change",t[1]),q(h,"change",t[3]),q(p,"change",t[4]),q(M,"change",t[5]),q(N,"change",t[6]),q(A,"change",t[7]),q(B,"change",t[8]),q(V,"change",t[9]),q(z,"change",t[10])],Y=!0)},p(ce,[Ie]){Ie&1&&(r.checked=~ce[0].indexOf(r.__value)),Ie&1&&(h.checked=~ce[0].indexOf(h.__value)),Ie&1&&(p.checked=~ce[0].indexOf(p.__value)),Ie&1&&(M.checked=~ce[0].indexOf(M.__value)),Ie&1&&(N.checked=~ce[0].indexOf(N.__value)),Ie&1&&(A.checked=~ce[0].indexOf(A.__value)),Ie&1&&(B.checked=~ce[0].indexOf(B.__value)),Ie&1&&(V.checked=~ce[0].indexOf(V.__value)),Ie&1&&(z.checked=~ce[0].indexOf(z.__value))},i:he,o:he,d(ce){ce&&w(e),t[2][0].splice(t[2][0].indexOf(r),1),t[2][0].splice(t[2][0].indexOf(h),1),t[2][0].splice(t[2][0].indexOf(p),1),t[2][0].splice(t[2][0].indexOf(M),1),t[2][0].splice(t[2][0].indexOf(N),1),t[2][0].splice(t[2][0].indexOf(A),1),t[2][0].splice(t[2][0].indexOf(B),1),t[2][0].splice(t[2][0].indexOf(V),1),t[2][0].splice(t[2][0].indexOf(z),1),Y=!1,et(X)}}}function UI(t,e,n){let{ubication:i}=e;const s=[[]];function r(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function o(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function a(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function l(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function c(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function h(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function d(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function f(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function p(){i=Bt(s[0],this.__value,this.checked),n(0,i)}return t.$$set=_=>{"ubication"in _&&n(0,i=_.ubication)},[i,r,s,o,a,l,c,h,d,f,p]}class H_ extends Ze{constructor(e){super(),xe(this,e,UI,$I,We,{ubication:0})}}function FI(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le;return{c(){e=m("section"),n=m("div"),i=m("label"),s=C(`Fracc. Privado\r
		   `),r=m("input"),o=E(),a=m("label"),l=C(`Frente a Parque\r
         `),c=m("input"),h=E(),d=m("label"),f=C(`Una Planta\r
         `),p=m("input"),_=E(),v=m("div"),y=m("label"),b=C(`Recamara en P.B.\r
		`),I=m("input"),M=E(),D=m("label"),$=C(`Patio Amplio\r
   `),G=m("input"),N=E(),F=m("label"),H=C(`Lista para Habitarse\r
   `),A=m("input"),W=E(),O=m("div"),Q=m("label"),U=C(`Nueva\r
		`),se=m("input"),g(r,"type","checkbox"),r.__value="Fracc. Privado",r.value=r.__value,t[2][0].push(r),g(c,"type","checkbox"),c.__value="Frente a Parque",c.value=c.__value,t[2][0].push(c),g(p,"type","checkbox"),p.__value="Una Planta",p.value=p.__value,t[2][0].push(p),g(n,"class","svelte-1b9bvt0"),g(I,"type","checkbox"),I.__value="Recamara en PB",I.value=I.__value,t[2][0].push(I),g(G,"type","checkbox"),G.__value="Patio Amplio",G.value=G.__value,t[2][0].push(G),g(A,"type","checkbox"),A.__value="Lista Habitarse",A.value=A.__value,t[2][0].push(A),g(v,"class","svelte-1b9bvt0"),g(se,"type","checkbox"),se.__value="Nueva",se.value=se.__value,t[2][0].push(se),g(O,"class","svelte-1b9bvt0"),g(e,"class","svelte-1b9bvt0")},m(x,ue){k(x,e,ue),u(e,n),u(n,i),u(i,s),u(i,r),r.checked=~t[0].indexOf(r.__value),u(n,o),u(n,a),u(a,l),u(a,c),c.checked=~t[0].indexOf(c.__value),u(n,h),u(n,d),u(d,f),u(d,p),p.checked=~t[0].indexOf(p.__value),u(e,_),u(e,v),u(v,y),u(y,b),u(y,I),I.checked=~t[0].indexOf(I.__value),u(v,M),u(v,D),u(D,$),u(D,G),G.checked=~t[0].indexOf(G.__value),u(v,N),u(v,F),u(F,H),u(F,A),A.checked=~t[0].indexOf(A.__value),u(e,W),u(e,O),u(O,Q),u(Q,U),u(Q,se),se.checked=~t[0].indexOf(se.__value),B||(le=[q(r,"change",t[1]),q(c,"change",t[3]),q(p,"change",t[4]),q(I,"change",t[5]),q(G,"change",t[6]),q(A,"change",t[7]),q(se,"change",t[8])],B=!0)},p(x,[ue]){ue&1&&(r.checked=~x[0].indexOf(r.__value)),ue&1&&(c.checked=~x[0].indexOf(c.__value)),ue&1&&(p.checked=~x[0].indexOf(p.__value)),ue&1&&(I.checked=~x[0].indexOf(I.__value)),ue&1&&(G.checked=~x[0].indexOf(G.__value)),ue&1&&(A.checked=~x[0].indexOf(A.__value)),ue&1&&(se.checked=~x[0].indexOf(se.__value))},i:he,o:he,d(x){x&&w(e),t[2][0].splice(t[2][0].indexOf(r),1),t[2][0].splice(t[2][0].indexOf(c),1),t[2][0].splice(t[2][0].indexOf(p),1),t[2][0].splice(t[2][0].indexOf(I),1),t[2][0].splice(t[2][0].indexOf(G),1),t[2][0].splice(t[2][0].indexOf(A),1),t[2][0].splice(t[2][0].indexOf(se),1),B=!1,et(le)}}}function VI(t,e,n){let{tag:i}=e;const s=[[]];function r(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function o(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function a(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function l(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function c(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function h(){i=Bt(s[0],this.__value,this.checked),n(0,i)}function d(){i=Bt(s[0],this.__value,this.checked),n(0,i)}return t.$$set=f=>{"tag"in f&&n(0,i=f.tag)},[i,r,s,o,a,l,c,h,d]}class G_ extends Ze{constructor(e){super(),xe(this,e,VI,FI,We,{tag:0})}}function Od(t,e,n){const i=t.slice();return i[26]=e[n],i}function Bd(t,e,n){const i=t.slice();return i[29]=e[n],i}function Ld(t,e,n){const i=t.slice();return i[32]=e[n],i}function $d(t,e,n){const i=t.slice();return i[35]=e[n],i}function Ud(t,e,n){const i=t.slice();return i[38]=e[n],i}function Fd(t,e,n){const i=t.slice();return i[41]=e[n],i}function Vd(t,e,n){const i=t.slice();return i[44]=e[n],i}function jd(t,e,n){const i=t.slice();return i[47]=e[n],i}function qd(t,e,n){const i=t.slice();return i[50]=e[n],i}function Hd(t,e,n){const i=t.slice();return i[53]=e[n],i}function jI(t){let e,n=St(t[3].createdAt)+"",i,s,r;return{c(){e=m("h3"),i=C(n),g(e,"class","dataInput svelte-1myljlf")},m(o,a){k(o,e,a),u(e,i),s||(r=q(e,"dblclick",t[4]),s=!0)},p(o,a){a[0]&8&&n!==(n=St(o[3].createdAt)+"")&&ie(i,n)},d(o){o&&w(e),s=!1,r()}}}function qI(t){let e,n,i;return{c(){e=m("input"),g(e,"class","dataInput svelte-1myljlf"),g(e,"type","date")},m(s,r){k(s,e,r),ve(e,t[3].createdAt),n||(i=q(e,"input",t[6]),n=!0)},p(s,r){r[0]&9&&ve(e,s[3].createdAt)},d(s){s&&w(e),n=!1,i()}}}function Gd(t){let e,n,i;return{c(){e=m("input"),g(e,"class","dataInput svelte-1myljlf"),g(e,"type","email"),g(e,"placeholder","email")},m(s,r){k(s,e,r),ve(e,t[3].email),n||(i=q(e,"input",t[10]),n=!0)},p(s,r){r[0]&9&&e.value!==s[3].email&&ve(e,s[3].email)},d(s){s&&w(e),n=!1,i()}}}function Kd(t){let e,n=t[53]+"",i,s;return{c(){e=m("option"),i=C(n),g(e,"class","dataInput svelte-1myljlf"),g(e,"type","checkbox"),e.__value=s=t[53],e.value=e.__value},m(r,o){k(r,e,o),u(e,i)},p(r,o){o[0]&1&&n!==(n=r[53]+"")&&ie(i,n),o[0]&1&&s!==(s=r[53])&&(e.__value=s,e.value=e.__value)},d(r){r&&w(e)}}}function zd(t){let e,n,i;return{c(){e=m("input"),g(e,"class","dataInput svelte-1myljlf"),g(e,"type","number"),g(e,"placeholder","Presupuesto")},m(s,r){k(s,e,r),ve(e,t[3].budget),n||(i=q(e,"input",t[12]),n=!0)},p(s,r){r[0]&9&&mi(e.value)!==s[3].budget&&ve(e,s[3].budget)},d(s){s&&w(e),n=!1,i()}}}function Wd(t){let e,n=t[50]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[50],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function Qd(t){let e,n=t[47]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[47],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function Yd(t){let e,n=t[44]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[44],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function Xd(t){let e,n=t[41]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[41],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function Jd(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H=Dd,A=[];for(let T=0;T<H.length;T+=1)A[T]=xd(Ud(t,H,T));let W=Yo,O=[];for(let T=0;T<W.length;T+=1)O[T]=Zd($d(t,W,T));let Q=wn,U=[];for(let T=0;T<Q.length;T+=1)U[T]=ef(Ld(t,Q,T));let se=wn,B=[];for(let T=0;T<se.length;T+=1)B[T]=tf(Bd(t,se,T));let le=wn,x=[];for(let T=0;T<le.length;T+=1)x[T]=nf(Od(t,le,T));function ue(T){t[23](T)}let re={};t[3].locaProperty!==void 0&&(re.ubication=t[3].locaProperty),b=new H_({props:re}),Xn.push(()=>qi(b,"ubication",ue));function V(T){t[24](T)}let P={};return t[3].tagsProperty!==void 0&&(P.tag=t[3].tagsProperty),D=new G_({props:P}),Xn.push(()=>qi(D,"tag",V)),{c(){e=m("select"),n=m("option"),n.textContent="Modo de Pago";for(let T=0;T<A.length;T+=1)A[T].c();i=E(),s=m("select"),r=m("option"),r.textContent="# Rec\xE1maras";for(let T=0;T<O.length;T+=1)O[T].c();o=E(),a=m("select"),l=m("option"),l.textContent="# Ba\xF1os";for(let T=0;T<U.length;T+=1)U[T].c();c=E(),h=m("select"),d=m("option"),d.textContent="# Medios Ba\xF1os";for(let T=0;T<B.length;T+=1)B[T].c();f=E(),p=m("select"),_=m("option"),_.textContent="# Estacionamientos";for(let T=0;T<x.length;T+=1)x[T].c();v=E(),y=m("div"),ge(b.$$.fragment),M=E(),ge(D.$$.fragment),n.disabled=!0,n.selected=!0,n.__value="",n.value=n.__value,g(e,"class","othersInput svelte-1myljlf"),t[3].modePay===void 0&&tt(()=>t[18].call(e)),r.disabled=!0,r.selected=!0,r.__value="",r.value=r.__value,g(s,"class","othersInput svelte-1myljlf"),t[3].numBeds===void 0&&tt(()=>t[19].call(s)),l.disabled=!0,l.selected=!0,l.__value="",l.value=l.__value,g(a,"class","othersInput svelte-1myljlf"),t[3].numBaths===void 0&&tt(()=>t[20].call(a)),d.disabled=!0,d.selected=!0,d.__value="",d.value=d.__value,g(h,"class","othersInput svelte-1myljlf"),t[3].halfBathroom===void 0&&tt(()=>t[21].call(h)),_.disabled=!0,_.selected=!0,_.__value="",_.value=_.__value,g(p,"class","othersInput svelte-1myljlf"),t[3].numParks===void 0&&tt(()=>t[22].call(p)),g(y,"class","ubiTags svelte-1myljlf")},m(T,z){k(T,e,z),u(e,n);for(let R=0;R<A.length;R+=1)A[R].m(e,null);Ue(e,t[3].modePay),k(T,i,z),k(T,s,z),u(s,r);for(let R=0;R<O.length;R+=1)O[R].m(s,null);Ue(s,t[3].numBeds),k(T,o,z),k(T,a,z),u(a,l);for(let R=0;R<U.length;R+=1)U[R].m(a,null);Ue(a,t[3].numBaths),k(T,c,z),k(T,h,z),u(h,d);for(let R=0;R<B.length;R+=1)B[R].m(h,null);Ue(h,t[3].halfBathroom),k(T,f,z),k(T,p,z),u(p,_);for(let R=0;R<x.length;R+=1)x[R].m(p,null);Ue(p,t[3].numParks),k(T,v,z),k(T,y,z),fe(b,y,null),u(y,M),fe(D,y,null),G=!0,N||(F=[q(e,"change",t[18]),q(s,"change",t[19]),q(a,"change",t[20]),q(h,"change",t[21]),q(p,"change",t[22])],N=!0)},p(T,z){if(z&0){H=Dd;let X;for(X=0;X<H.length;X+=1){const ce=Ud(T,H,X);A[X]?A[X].p(ce,z):(A[X]=xd(ce),A[X].c(),A[X].m(e,null))}for(;X<A.length;X+=1)A[X].d(1);A.length=H.length}if(z[0]&9&&Ue(e,T[3].modePay),z&0){W=Yo;let X;for(X=0;X<W.length;X+=1){const ce=$d(T,W,X);O[X]?O[X].p(ce,z):(O[X]=Zd(ce),O[X].c(),O[X].m(s,null))}for(;X<O.length;X+=1)O[X].d(1);O.length=W.length}if(z[0]&9&&Ue(s,T[3].numBeds),z&0){Q=wn;let X;for(X=0;X<Q.length;X+=1){const ce=Ld(T,Q,X);U[X]?U[X].p(ce,z):(U[X]=ef(ce),U[X].c(),U[X].m(a,null))}for(;X<U.length;X+=1)U[X].d(1);U.length=Q.length}if(z[0]&9&&Ue(a,T[3].numBaths),z&0){se=wn;let X;for(X=0;X<se.length;X+=1){const ce=Bd(T,se,X);B[X]?B[X].p(ce,z):(B[X]=tf(ce),B[X].c(),B[X].m(h,null))}for(;X<B.length;X+=1)B[X].d(1);B.length=se.length}if(z[0]&9&&Ue(h,T[3].halfBathroom),z&0){le=wn;let X;for(X=0;X<le.length;X+=1){const ce=Od(T,le,X);x[X]?x[X].p(ce,z):(x[X]=nf(ce),x[X].c(),x[X].m(p,null))}for(;X<x.length;X+=1)x[X].d(1);x.length=le.length}z[0]&9&&Ue(p,T[3].numParks);const R={};!I&&z[0]&8&&(I=!0,R.ubication=T[3].locaProperty,ji(()=>I=!1)),b.$set(R);const Y={};!$&&z[0]&8&&($=!0,Y.tag=T[3].tagsProperty,ji(()=>$=!1)),D.$set(Y)},i(T){G||(K(b.$$.fragment,T),K(D.$$.fragment,T),G=!0)},o(T){J(b.$$.fragment,T),J(D.$$.fragment,T),G=!1},d(T){T&&w(e),Fe(A,T),T&&w(i),T&&w(s),Fe(O,T),T&&w(o),T&&w(a),Fe(U,T),T&&w(c),T&&w(h),Fe(B,T),T&&w(f),T&&w(p),Fe(x,T),T&&w(v),T&&w(y),me(b),me(D),N=!1,et(F)}}}function xd(t){let e,n=t[38]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[38],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function Zd(t){let e,n=t[35]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" Rec\xE1maras"),g(e,"type","checkbox"),e.__value=t[35],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function ef(t){let e,n=t[32]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" ba\xF1os"),g(e,"type","checkbox"),e.__value=t[32],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function tf(t){let e,n=t[29]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" Medios ba\xF1os"),g(e,"type","checkbox"),e.__value=t[29],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function nf(t){let e,n=t[26]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" Estacionamientos"),g(e,"type","checkbox"),e.__value=t[26],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function HI(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le,x,ue,re,V,P,T;function z(L,de){return L[1]?qI:jI}let R=z(t),Y=R(t),X=t[2]&&Gd(t),ce=t[0],Ie=[];for(let L=0;L<ce.length;L+=1)Ie[L]=Kd(Hd(t,ce,L));let Re=t[2]&&zd(t),ft=Pd,j=[];for(let L=0;L<ft.length;L+=1)j[L]=Wd(qd(t,ft,L));let ae=Ad,Qe=[];for(let L=0;L<ae.length;L+=1)Qe[L]=Qd(jd(t,ae,L));let Nt=Qo,Be=[];for(let L=0;L<Nt.length;L+=1)Be[L]=Yd(Vd(t,Nt,L));let dt=Md,qe=[];for(let L=0;L<dt.length;L+=1)qe[L]=Xd(Fd(t,dt,L));let Ge=t[2]&&Jd(t);return{c(){e=m("h1"),e.textContent="Alta Contactos",n=E(),i=m("div"),s=m("div"),Y.c(),r=E(),o=m("div"),a=m("input"),l=E(),c=m("input"),h=E(),d=m("div"),f=m("input"),p=E(),X&&X.c(),_=E(),v=m("div"),y=m("select"),b=m("option"),b.textContent="Propiedad de Contacto";for(let L=0;L<Ie.length;L+=1)Ie[L].c();I=E(),Re&&Re.c(),M=E(),D=m("div"),$=m("input"),G=E(),N=m("select"),F=m("option"),F.textContent="Tipo de Contacto";for(let L=0;L<j.length;L+=1)j[L].c();H=E(),A=m("select"),W=m("option"),W.textContent="Modo de Contacto";for(let L=0;L<Qe.length;L+=1)Qe[L].c();O=E(),Q=m("select"),U=m("option"),U.textContent="Tipo de Propiedad";for(let L=0;L<Be.length;L+=1)Be[L].c();se=E(),B=m("select"),le=m("option"),le.textContent="Rango de Busqueda";for(let L=0;L<qe.length;L+=1)qe[L].c();x=E(),Ge&&Ge.c(),ue=E(),re=m("button"),re.textContent="Alta Detalles",g(e,"class","sectionTitle"),g(a,"class","dataInput svelte-1myljlf"),g(a,"type","text"),g(a,"placeholder","Nombre"),a.required=!0,g(c,"class","dataInput svelte-1myljlf"),g(c,"type","text"),g(c,"placeholder","Apellido"),g(o,"class","contactInput"),g(f,"class","dataInput svelte-1myljlf"),g(f,"type","tel"),g(f,"placeholder","tel\xE9fono"),f.required=!0,g(d,"class","contactInput"),g(i,"class",""),b.disabled=!0,b.selected=!0,b.__value="",b.value=b.__value,g(y,"class","dataInput svelte-1myljlf"),g(y,"id","selTP"),g(y,"name","selTP"),t[3].propCont===void 0&&tt(()=>t[11].call(y)),g(v,"class","col"),g($,"class","textareaInput svelte-1myljlf"),g($,"type","textarea"),g($,"placeholder","Comentarios"),g(D,"class","col"),F.disabled=!0,F.selected=!0,F.__value="",F.value=F.__value,g(N,"class","othersInput svelte-1myljlf"),t[3].typeContact===void 0&&tt(()=>t[14].call(N)),W.disabled=!0,W.selected=!0,W.__value="",W.value=W.__value,g(A,"class","othersInput svelte-1myljlf"),t[3].selecMC===void 0&&tt(()=>t[15].call(A)),U.disabled=!0,U.selected=!0,U.__value="",U.value=U.__value,g(Q,"class","othersInput svelte-1myljlf"),g(Q,"id","selTP"),g(Q,"name","selTP"),t[3].selecTP===void 0&&tt(()=>t[16].call(Q)),le.disabled=!0,le.selected=!0,le.__value="",le.value=le.__value,g(B,"class","othersInput svelte-1myljlf"),g(B,"id","ranges"),g(B,"name","ranges"),t[3].rangeProp===void 0&&tt(()=>t[17].call(B)),g(re,"class","btn__save")},m(L,de){k(L,e,de),k(L,n,de),k(L,i,de),u(i,s),Y.m(s,null),u(i,r),u(i,o),u(o,a),ve(a,t[3].name),u(o,l),u(o,c),ve(c,t[3].lastname),u(i,h),u(i,d),u(d,f),ve(f,t[3].telephon),u(d,p),X&&X.m(d,null),k(L,_,de),k(L,v,de),u(v,y),u(y,b);for(let Z=0;Z<Ie.length;Z+=1)Ie[Z].m(y,null);Ue(y,t[3].propCont),u(v,I),Re&&Re.m(v,null),k(L,M,de),k(L,D,de),u(D,$),ve($,t[3].comContact),k(L,G,de),k(L,N,de),u(N,F);for(let Z=0;Z<j.length;Z+=1)j[Z].m(N,null);Ue(N,t[3].typeContact),k(L,H,de),k(L,A,de),u(A,W);for(let Z=0;Z<Qe.length;Z+=1)Qe[Z].m(A,null);Ue(A,t[3].selecMC),k(L,O,de),k(L,Q,de),u(Q,U);for(let Z=0;Z<Be.length;Z+=1)Be[Z].m(Q,null);Ue(Q,t[3].selecTP),k(L,se,de),k(L,B,de),u(B,le);for(let Z=0;Z<qe.length;Z+=1)qe[Z].m(B,null);Ue(B,t[3].rangeProp),k(L,x,de),Ge&&Ge.m(L,de),k(L,ue,de),k(L,re,de),V=!0,P||(T=[q(a,"input",t[7]),q(c,"input",t[8]),q(f,"input",t[9]),q(y,"change",t[11]),q($,"input",t[13]),q(N,"change",t[14]),q(A,"change",t[15]),q(Q,"change",t[16]),q(B,"change",t[17]),q(re,"click",t[5])],P=!0)},p(L,de){if(R===(R=z(L))&&Y?Y.p(L,de):(Y.d(1),Y=R(L),Y&&(Y.c(),Y.m(s,null))),de[0]&9&&a.value!==L[3].name&&ve(a,L[3].name),de[0]&9&&c.value!==L[3].lastname&&ve(c,L[3].lastname),de[0]&9&&ve(f,L[3].telephon),L[2]?X?X.p(L,de):(X=Gd(L),X.c(),X.m(d,null)):X&&(X.d(1),X=null),de[0]&1){ce=L[0];let Z;for(Z=0;Z<ce.length;Z+=1){const Ye=Hd(L,ce,Z);Ie[Z]?Ie[Z].p(Ye,de):(Ie[Z]=Kd(Ye),Ie[Z].c(),Ie[Z].m(y,null))}for(;Z<Ie.length;Z+=1)Ie[Z].d(1);Ie.length=ce.length}if(de[0]&9&&Ue(y,L[3].propCont),L[2]?Re?Re.p(L,de):(Re=zd(L),Re.c(),Re.m(v,null)):Re&&(Re.d(1),Re=null),de[0]&9&&ve($,L[3].comContact),de&0){ft=Pd;let Z;for(Z=0;Z<ft.length;Z+=1){const Ye=qd(L,ft,Z);j[Z]?j[Z].p(Ye,de):(j[Z]=Wd(Ye),j[Z].c(),j[Z].m(N,null))}for(;Z<j.length;Z+=1)j[Z].d(1);j.length=ft.length}if(de[0]&9&&Ue(N,L[3].typeContact),de&0){ae=Ad;let Z;for(Z=0;Z<ae.length;Z+=1){const Ye=jd(L,ae,Z);Qe[Z]?Qe[Z].p(Ye,de):(Qe[Z]=Qd(Ye),Qe[Z].c(),Qe[Z].m(A,null))}for(;Z<Qe.length;Z+=1)Qe[Z].d(1);Qe.length=ae.length}if(de[0]&9&&Ue(A,L[3].selecMC),de&0){Nt=Qo;let Z;for(Z=0;Z<Nt.length;Z+=1){const Ye=Vd(L,Nt,Z);Be[Z]?Be[Z].p(Ye,de):(Be[Z]=Yd(Ye),Be[Z].c(),Be[Z].m(Q,null))}for(;Z<Be.length;Z+=1)Be[Z].d(1);Be.length=Nt.length}if(de[0]&9&&Ue(Q,L[3].selecTP),de&0){dt=Md;let Z;for(Z=0;Z<dt.length;Z+=1){const Ye=Fd(L,dt,Z);qe[Z]?qe[Z].p(Ye,de):(qe[Z]=Xd(Ye),qe[Z].c(),qe[Z].m(B,null))}for(;Z<qe.length;Z+=1)qe[Z].d(1);qe.length=dt.length}de[0]&9&&Ue(B,L[3].rangeProp),L[2]?Ge?(Ge.p(L,de),de[0]&4&&K(Ge,1)):(Ge=Jd(L),Ge.c(),K(Ge,1),Ge.m(ue.parentNode,ue)):Ge&&(It(),J(Ge,1,1,()=>{Ge=null}),Tt())},i(L){V||(K(Ge),V=!0)},o(L){J(Ge),V=!1},d(L){L&&w(e),L&&w(n),L&&w(i),Y.d(),X&&X.d(),L&&w(_),L&&w(v),Fe(Ie,L),Re&&Re.d(),L&&w(M),L&&w(D),L&&w(G),L&&w(N),Fe(j,L),L&&w(H),L&&w(A),Fe(Qe,L),L&&w(O),L&&w(Q),Fe(Be,L),L&&w(se),L&&w(B),Fe(qe,L),L&&w(x),Ge&&Ge.d(L),L&&w(ue),L&&w(re),P=!1,et(T)}}}function GI(t,e,n){let i;Se(t,nt,Q=>n(3,i=Q));var s=[];let r=wi,o=!1,a=!1;(()=>{for(let Q of r){let U=`${Q.nameProperty} - ${(Q.price/1e6).toFixed(2)} (${Q.claveEB.slice(-2)})`;n(0,s=[...s,U])}return n(0,s=s.sort())})();function l(){n(1,o=!0)}function c(){n(2,a=!0)}function h(){i.createdAt=this.value,nt.set(i),n(0,s)}function d(){i.name=this.value,nt.set(i),n(0,s)}function f(){i.lastname=this.value,nt.set(i),n(0,s)}function p(){i.telephon=this.value,nt.set(i),n(0,s)}function _(){i.email=this.value,nt.set(i),n(0,s)}function v(){i.propCont=jt(this),nt.set(i),n(0,s)}function y(){i.budget=mi(this.value),nt.set(i),n(0,s)}function b(){i.comContact=this.value,nt.set(i),n(0,s)}function I(){i.typeContact=jt(this),nt.set(i),n(0,s)}function M(){i.selecMC=jt(this),nt.set(i),n(0,s)}function D(){i.selecTP=jt(this),nt.set(i),n(0,s)}function $(){i.rangeProp=jt(this),nt.set(i),n(0,s)}function G(){i.modePay=jt(this),nt.set(i),n(0,s)}function N(){i.numBeds=jt(this),nt.set(i),n(0,s)}function F(){i.numBaths=jt(this),nt.set(i),n(0,s)}function H(){i.halfBathroom=jt(this),nt.set(i),n(0,s)}function A(){i.numParks=jt(this),nt.set(i),n(0,s)}function W(Q){t.$$.not_equal(i.locaProperty,Q)&&(i.locaProperty=Q,nt.set(i))}function O(Q){t.$$.not_equal(i.tagsProperty,Q)&&(i.tagsProperty=Q,nt.set(i))}return[s,o,a,i,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O]}class KI extends Ze{constructor(e){super(),xe(this,e,GI,HI,We,{},null,[-1,-1])}}function zI(t){let e;return{c(){e=C("Editar")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function WI(t){let e;return{c(){e=C("Guardar")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function QI(t){let e,n,i,s,r,o,a,l,c,h;n=new KI({});function d(_,v){return _[0]?zI:WI}let f=d(t),p=f(t);return{c(){e=m("div"),ge(n.$$.fragment),i=E(),s=m("div"),r=m("button"),p.c(),o=E(),a=m("button"),a.textContent="Cancel",g(r,"class","btn__save"),g(a,"class","btn__cancel"),g(s,"class","contSavCan svelte-1at07r"),g(e,"class","altaContactos")},m(_,v){k(_,e,v),fe(n,e,null),u(e,i),u(e,s),u(s,r),p.m(r,null),u(s,o),u(s,a),l=!0,c||(h=[q(r,"click",t[4]),q(a,"click",t[3])],c=!0)},p(_,[v]){f!==(f=d(_))&&(p.d(1),p=f(_),p&&(p.c(),p.m(r,null)))},i(_){l||(K(n.$$.fragment,_),l=!0)},o(_){J(n.$$.fragment,_),l=!1},d(_){_&&w(e),me(n),p.d(),c=!1,et(h)}}}function YI(t,e,n){let i,s;Se(t,Le,d=>n(6,i=d)),Se(t,nt,d=>n(1,s=d));let r=!1,o;async function a(d){if(i!="contEditing"){o=Date.now(),d={...d,createdAt:o};const f=xt(ut,"contacts");await bi(f,d),be(Le,i="binnAdding",i),l(i,d)}else await nu(Ai(ut,"contacts",d.id),d),l(i,d),n(0,r=!1);d=[],be(Le,i="contSelect",i)}async function l(d,f){try{if(d==="binnAdding"){let p=`${f.name} ${f.lastname}`,_={date:Date.now(),comment:p,action:"Se agreg\xF3 a: ",to:f.telephon};const v=xt(ut,"binnacles");await bi(v,_)}else{let p=`Se le edit\xF3 a: ${f.name} ${f.lastname}`,_={date:Date.now(),comment:p,action:"Se edit\xF3 a: ",to:f.telephon};console.log(_);const v=xt(ut,"binnacles");await bi(v,_)}}catch(p){console.log("error",p)}}function c(){n(0,r=!0),location.href="/"}return[r,s,a,c,()=>a(s)]}class XI extends Ze{constructor(e){super(),xe(this,e,YI,QI,We,{})}}function sf(t,e,n){const i=t.slice();return i[23]=e[n],i[25]=n,i}function rf(t,e,n){const i=t.slice();return i[25]=e[n],i}function of(t,e,n){const i=t.slice();return i[28]=e[n],i[25]=n,i}function af(t){let e,n=t[1].length+"",i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A;function W(P){t[13](P)}let O={};t[3]!==void 0&&(O.searchTerm=t[3]),l=new fu({props:O}),Xn.push(()=>qi(l,"searchTerm",W)),l.$on("input",t[11]);let Q=t[1],U=[];for(let P=0;P<Q.length;P+=1)U[P]=cf(of(t,Q,P));const se=P=>J(U[P],1,1,()=>{U[P]=null});let B=t[0]>1&&uf(t),le=[3,2,1],x=[];for(let P=0;P<3;P+=1)x[P]=df(rf(t,le,P));let ue=Array(3),re=[];for(let P=0;P<ue.length;P+=1)re[P]=mf(sf(t,ue,P));let V=t[0]<t[5]&&pf(t);return{c(){e=m("h2"),i=C(n),s=C(" Contactos a Mostrar"),r=E(),o=m("button"),o.textContent="Alta de Contacto",a=E(),ge(l.$$.fragment),h=E(),d=m("div"),f=m("main");for(let P=0;P<U.length;P+=1)U[P].c();p=E(),_=m("div"),v=m("div"),y=m("ul"),B&&B.c(),b=E();for(let P=0;P<3;P+=1)x[P].c();I=E(),M=m("li"),D=m("span"),$=C(t[0]),G=E();for(let P=0;P<re.length;P+=1)re[P].c();N=E(),V&&V.c(),g(o,"class","altaContacto svelte-1o9z7a3"),g(f,"id","bookshelf"),g(y,"class","pagi__options"),g(v,"class","pagi__Item"),g(_,"class","container pagination"),g(d,"class","mosPag cont__card svelte-1o9z7a3")},m(P,T){k(P,e,T),u(e,i),u(e,s),k(P,r,T),k(P,o,T),k(P,a,T),fe(l,P,T),k(P,h,T),k(P,d,T),u(d,f);for(let z=0;z<U.length;z+=1)U[z].m(f,null);u(d,p),u(d,_),u(_,v),u(v,y),B&&B.m(y,null),u(y,b);for(let z=0;z<3;z+=1)x[z].m(y,null);u(y,I),u(y,M),u(M,D),u(D,$),u(y,G);for(let z=0;z<re.length;z+=1)re[z].m(y,null);u(y,N),V&&V.m(y,null),F=!0,H||(A=q(o,"click",t[9]),H=!0)},p(P,T){(!F||T&2)&&n!==(n=P[1].length+"")&&ie(i,n);const z={};if(!c&&T&8&&(c=!0,z.searchTerm=P[3],ji(()=>c=!1)),l.$set(z),T&1046){Q=P[1];let R;for(R=0;R<Q.length;R+=1){const Y=of(P,Q,R);U[R]?(U[R].p(Y,T),K(U[R],1)):(U[R]=cf(Y),U[R].c(),K(U[R],1),U[R].m(f,null))}for(It(),R=Q.length;R<U.length;R+=1)se(R);Tt()}if(P[0]>1?B?B.p(P,T):(B=uf(P),B.c(),B.m(y,b)):B&&(B.d(1),B=null),T&257){le=[3,2,1];let R;for(R=0;R<3;R+=1){const Y=rf(P,le,R);x[R]?x[R].p(Y,T):(x[R]=df(Y),x[R].c(),x[R].m(y,I))}for(;R<3;R+=1)x[R].d(1)}if((!F||T&1)&&ie($,P[0]),T&289){ue=Array(3);let R;for(R=0;R<ue.length;R+=1){const Y=sf(P,ue,R);re[R]?re[R].p(Y,T):(re[R]=mf(Y),re[R].c(),re[R].m(y,N))}for(;R<re.length;R+=1)re[R].d(1);re.length=ue.length}P[0]<P[5]?V?V.p(P,T):(V=pf(P),V.c(),V.m(y,null)):V&&(V.d(1),V=null)},i(P){if(!F){K(l.$$.fragment,P);for(let T=0;T<Q.length;T+=1)K(U[T]);F=!0}},o(P){J(l.$$.fragment,P),U=U.filter(Boolean);for(let T=0;T<U.length;T+=1)J(U[T]);F=!1},d(P){P&&w(e),P&&w(r),P&&w(o),P&&w(a),me(l,P),P&&w(h),P&&w(d),Fe(U,P),B&&B.d(),Fe(x,P),Fe(re,P),V&&V.d(),H=!1,A()}}}function lf(t){let e,n,i,s,r,o,a;const l=[t[28]];let c={};for(let d=0;d<l.length;d+=1)c=$t(c,l[d]);n=new II({props:c});function h(){return t[14](t[28])}return{c(){e=m("div"),ge(n.$$.fragment),i=E(),g(e,"class","selecContact")},m(d,f){k(d,e,f),fe(n,e,null),u(e,i),r=!0,o||(a=q(e,"click",h),o=!0)},p(d,f){t=d;const p=f&2?vn(l,[Jn(t[28])]):{};n.$set(p)},i(d){r||(K(n.$$.fragment,d),tt(()=>{s||(s=dn(e,Cs,{duration:500,easing:Ss},!0)),s.run(1)}),r=!0)},o(d){J(n.$$.fragment,d),s||(s=dn(e,Cs,{duration:500,easing:Ss},!1)),s.run(0),r=!1},d(d){d&&w(e),me(n),d&&s&&s.end(),o=!1,a()}}}function cf(t){let e,n,i=t[25]>=t[4]&&t[25]<t[2]&&lf(t);return{c(){i&&i.c(),e=mn()},m(s,r){i&&i.m(s,r),k(s,e,r),n=!0},p(s,r){s[25]>=s[4]&&s[25]<s[2]?i?(i.p(s,r),r&20&&K(i,1)):(i=lf(s),i.c(),K(i,1),i.m(e.parentNode,e)):i&&(It(),J(i,1,1,()=>{i=null}),Tt())},i(s){n||(K(i),n=!0)},o(s){J(i),n=!1},d(s){i&&i.d(s),s&&w(e)}}}function uf(t){let e,n,i,s,r,o,a,l,c;return{c(){e=m("li"),n=m("a"),n.textContent="first",i=E(),s=m("li"),r=m("a"),o=C("previous"),g(n,"href","/blog"),g(r,"href",a="/blog/"+(t[0]-1))},m(h,d){k(h,e,d),u(e,n),k(h,i,d),k(h,s,d),u(s,r),u(r,o),l||(c=[q(n,"click",_n(t[15])),q(r,"click",_n(t[16]))],l=!0)},p(h,d){d&1&&a!==(a="/blog/"+(h[0]-1))&&g(r,"href",a)},d(h){h&&w(e),h&&w(i),h&&w(s),l=!1,et(c)}}}function hf(t){let e,n,i=t[0]-t[25]+"",s,r,o,a;function l(){return t[17](t[25])}return{c(){e=m("li"),n=m("a"),s=C(i),g(n,"href",r="/blog/"+(t[0]-t[25]))},m(c,h){k(c,e,h),u(e,n),u(n,s),o||(a=q(n,"click",_n(l)),o=!0)},p(c,h){t=c,h&1&&i!==(i=t[0]-t[25]+"")&&ie(s,i),h&1&&r!==(r="/blog/"+(t[0]-t[25]))&&g(n,"href",r)},d(c){c&&w(e),o=!1,a()}}}function df(t){let e,n=t[0]-t[25]>0&&hf(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[0]-i[25]>0?n?n.p(i,s):(n=hf(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(e)}}}function ff(t){let e,n,i=t[0]+(t[25]+1)+"",s,r,o,a;function l(){return t[18](t[25])}return{c(){e=m("li"),n=m("a"),s=C(i),g(n,"href",r="/blog/"+(t[0]+(t[25]+1)))},m(c,h){k(c,e,h),u(e,n),u(n,s),o||(a=q(n,"click",_n(l)),o=!0)},p(c,h){t=c,h&1&&i!==(i=t[0]+(t[25]+1)+"")&&ie(s,i),h&1&&r!==(r="/blog/"+(t[0]+(t[25]+1)))&&g(n,"href",r)},d(c){c&&w(e),o=!1,a()}}}function mf(t){let e,n=t[0]+(t[25]+1)<=t[5]&&ff(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[0]+(i[25]+1)<=i[5]?n?n.p(i,s):(n=ff(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(e)}}}function pf(t){let e,n,i,s,r,o,a,l,c,h,d;return{c(){e=m("li"),n=m("a"),i=C("next"),r=E(),o=m("li"),a=m("a"),l=C("last"),g(n,"href",s="/blog/"+(t[0]+1)),g(a,"href",c="/blog/"+t[5])},m(f,p){k(f,e,p),u(e,n),u(n,i),k(f,r,p),k(f,o,p),u(o,a),u(a,l),h||(d=[q(n,"click",_n(t[19])),q(a,"click",_n(t[20]))],h=!0)},p(f,p){p&1&&s!==(s="/blog/"+(f[0]+1))&&g(n,"href",s),p&32&&c!==(c="/blog/"+f[5])&&g(a,"href",c)},d(f){f&&w(e),f&&w(r),f&&w(o),h=!1,et(d)}}}function gf(t){let e,n,i;return n=new LI({props:{$contact:t[7]}}),{c(){e=m("div"),ge(n.$$.fragment)},m(s,r){k(s,e,r),fe(n,e,null),i=!0},p(s,r){const o={};r&128&&(o.$contact=s[7]),n.$set(o)},i(s){i||(K(n.$$.fragment,s),i=!0)},o(s){J(n.$$.fragment,s),i=!1},d(s){s&&w(e),me(n)}}}function _f(t){let e,n,i,s;const r=[t[7]];let o={};for(let a=0;a<r.length;a+=1)o=$t(o,r[a]);return i=new XI({props:o}),{c(){e=m("div"),n=m("div"),ge(i.$$.fragment),g(n,"class","container")},m(a,l){k(a,e,l),u(e,n),fe(i,n,null),s=!0},p(a,l){const c=l&128?vn(r,[Jn(a[7])]):{};i.$set(c)},i(a){s||(K(i.$$.fragment,a),s=!0)},o(a){J(i.$$.fragment,a),s=!1},d(a){a&&w(e),me(i)}}}function JI(t){let e,n,i,s,r,o,a,l,c,h,d=t[6]==="start"&&af(t),f=t[6]==="contSelect"&&gf(t),p=(t[6]==="contEditing"||t[6]==="contAdding")&&_f(t);return{c(){e=m("main"),n=m("div"),i=m("h1"),i.textContent="Contactos",s=E(),r=m("img"),a=E(),d&&d.c(),l=E(),f&&f.c(),c=E(),p&&p.c(),rt(r.src,o=B_)||g(r,"src",o),g(r,"alt","contactos"),g(r,"class","svelte-1o9z7a3"),g(e,"class","container")},m(_,v){k(_,e,v),u(e,n),u(n,i),u(n,s),u(n,r),u(e,a),d&&d.m(e,null),u(e,l),f&&f.m(e,null),u(e,c),p&&p.m(e,null),h=!0},p(_,[v]){_[6]==="start"?d?(d.p(_,v),v&64&&K(d,1)):(d=af(_),d.c(),K(d,1),d.m(e,l)):d&&(It(),J(d,1,1,()=>{d=null}),Tt()),_[6]==="contSelect"?f?(f.p(_,v),v&64&&K(f,1)):(f=gf(_),f.c(),K(f,1),f.m(e,c)):f&&(It(),J(f,1,1,()=>{f=null}),Tt()),_[6]==="contEditing"||_[6]==="contAdding"?p?(p.p(_,v),v&64&&K(p,1)):(p=_f(_),p.c(),K(p,1),p.m(e,null)):p&&(It(),J(p,1,1,()=>{p=null}),Tt())},i(_){h||(K(d),K(f),K(p),h=!0)},o(_){J(d),J(f),J(p),h=!1},d(_){_&&w(e),d&&d.d(),f&&f.d(),p&&p.d()}}}let rl=15;function xI(t,e,n){let i,s,r,o,a,l;Se(t,Le,A=>n(6,a=A)),Se(t,nt,A=>n(7,l=A));let c;be(Le,a="start",a);let h=1,d=[];const f=A=>{n(0,h=A)},p=Ca(xt(ut,"contacts"),A=>{n(1,d=A.docs.map(W=>({...W.data(),id:W.id}))),b()},A=>{console.log(A)});yr(p);const _=()=>{be(Le,a="contAdding",a)},v=A=>{n(3,c=""),be(nt,l=A,l),be(Le,a="contSelect",a)};function y(){return n(1,d=Go.filter(A=>(A.telephon+(A.name+" "+A.lastname).toLowerCase()).includes(c.toLowerCase())))}function b(){d.sort((A,W)=>new Date(A.createdAt)<new Date(W.createdAt)?1:new Date(A.createdAt)>new Date(W.createdAt)?-1:0)}function I(A){c=A,n(3,c)}const M=A=>v(A),D=()=>f(1),$=()=>f(h-1),G=A=>f(h-A),N=A=>f(h+(A+1)),F=()=>f(h+1),H=()=>f(s);return t.$$.update=()=>{t.$$.dirty&2&&n(12,i=d.length),t.$$.dirty&4096&&n(5,s=Math.ceil(i/rl)),t.$$.dirty&1&&n(2,r=h*rl),t.$$.dirty&4&&n(4,o=r-rl)},[h,d,r,c,o,s,a,l,f,_,v,y,i,I,M,D,$,G,N,F,H]}class ZI extends Ze{constructor(e){super(),xe(this,e,xI,JI,We,{})}}let oi=[],ai=[];function eT(t,e){e=e.filter(n=>n.typeContact==="Comprador"),e=e.filter(n=>n.selecTP===t.selectTP),t.numBeds>0&&(e=e.filter(n=>n.numBeds>=t.beds)),t.numBaths>0&&(e=e.filter(n=>n.numBaths>=t.bathroom)),t.numParks>0&&(e=e.filter(n=>n.numPark>=t.parks));try{e=e.filter(n=>{n.budget?oi=e.filter(i=>i.budget>=t.price*.7&&i.budget<=t.price*1.1):ai=e.filter(i=>i.rangeProp===j_(t.price))})}catch(n){console.log(n)}e=ai.concat(oi),oi=[],ai=[];try{e.filter(n=>{n.locaProperty.length>0?oi=e.filter(i=>t.locaProperty.some(s=>i.locaProperty.includes(s))):ai=e.filter(i=>i.locaProperty.length===0)})}catch(n){console.log(n)}e=ai.concat(oi),oi=[],ai=[];try{e=e.filter(n=>{n.tagsProperty.length>0?oi=e.filter(i=>t.tagsProperty.some(s=>i.tagsProperty.includes(s))):ai=e.filter(i=>i.tagsProperty.length===0)})}catch(n){console.log(n)}return e=ai.concat(oi),Om.set(e)}function vf(t,e,n){const i=t.slice();return i[6]=e[n],i}function yf(t,e,n){const i=t.slice();return i[37]=e[n],i}function bf(t){let e,n,i,s=t[5].length+"",r,o,a,l,c,h,d=t[7],f=[];for(let v=0;v<d.length;v+=1)f[v]=wf(yf(t,d,v));let p=t[5],_=[];for(let v=0;v<p.length;v+=1)_[v]=Ef(vf(t,p,v));return{c(){e=m("div"),n=m("h1"),i=C("A "),r=C(s),o=E(),a=C(t[2]),l=E();for(let v=0;v<f.length;v+=1)f[v].c();c=E();for(let v=0;v<_.length;v+=1)_[v].c();h=mn(),g(e,"class","sect__Title svelte-3wn943")},m(v,y){k(v,e,y),u(e,n),u(n,i),u(n,r),u(n,o),u(n,a),u(e,l);for(let b=0;b<f.length;b+=1)f[b].m(e,null);k(v,c,y);for(let b=0;b<_.length;b+=1)_[b].m(v,y);k(v,h,y)},p(v,y){if(y[0]&32&&s!==(s=v[5].length+"")&&ie(r,s),y[0]&4&&ie(a,v[2]),y[0]&2184){d=v[7];let b;for(b=0;b<d.length;b+=1){const I=yf(v,d,b);f[b]?f[b].p(I,y):(f[b]=wf(I),f[b].c(),f[b].m(e,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=d.length}if(y[0]&33){p=v[5];let b;for(b=0;b<p.length;b+=1){const I=vf(v,p,b);_[b]?_[b].p(I,y):(_[b]=Ef(I),_[b].c(),_[b].m(h.parentNode,h))}for(;b<_.length;b+=1)_[b].d(1);_.length=p.length}},d(v){v&&w(e),Fe(f,v),v&&w(c),Fe(_,v),v&&w(h)}}}function wf(t){let e,n,i,s=t[37]+"",r,o,a,l;return{c(){e=m("label"),n=m("input"),i=E(),r=C(s),o=E(),g(n,"type","radio"),n.__value=t[37],n.value=n.__value,t[15][1].push(n)},m(c,h){k(c,e,h),u(e,n),n.checked=n.__value===t[3],u(e,i),u(e,r),u(e,o),a||(l=[q(n,"change",t[14]),q(n,"change",t[11])],a=!0)},p(c,h){h[0]&8&&(n.checked=n.__value===c[3])},d(c){c&&w(e),t[15][1].splice(t[15][1].indexOf(n),1),a=!1,et(l)}}}function tT(t){let e;return{c(){e=m("h4"),e.textContent="Sin Zona Establecida"},m(n,i){k(n,e,i)},p:he,d(n){n&&w(e)}}}function nT(t){let e,n=t[6].locaProperty+"",i;return{c(){e=m("h4"),i=C(n)},m(s,r){k(s,e,r),u(e,i)},p(s,r){r[0]&32&&n!==(n=s[6].locaProperty+"")&&ie(i,n)},d(s){s&&w(e)}}}function iT(t){let e;return{c(){e=m("h4"),e.textContent="Sin Rango Establecido"},m(n,i){k(n,e,i)},p:he,d(n){n&&w(e)}}}function sT(t){let e,n=t[6].rangeProp+"",i;return{c(){e=m("div"),i=C(n)},m(s,r){k(s,e,r),u(e,i)},p(s,r){r[0]&32&&n!==(n=s[6].rangeProp+"")&&ie(i,n)},d(s){s&&w(e)}}}function rT(t){let e,n=t[6].budget+"",i;return{c(){e=m("div"),i=C(n)},m(s,r){k(s,e,r),u(e,i)},p(s,r){r[0]&32&&n!==(n=s[6].budget+"")&&ie(i,n)},d(s){s&&w(e)}}}function oT(t){let e;return{c(){e=m("h4"),e.textContent="Sin Etiquetas"},m(n,i){k(n,e,i)},p:he,d(n){n&&w(e)}}}function aT(t){let e,n=t[6].tagsProperty+"",i;return{c(){e=m("div"),i=C(n)},m(s,r){k(s,e,r),u(e,i)},p(s,r){r[0]&32&&n!==(n=s[6].tagsProperty+"")&&ie(i,n)},d(s){s&&w(e)}}}function Ef(t){let e,n,i,s,r,o=t[6].name+"",a,l,c=t[6].lastname+"",h,d,f,p,_,v,y;function b(A,W){return A[6].locaProperty===!1?nT:tT}let I=b(t),M=I(t);function D(A,W){return A[6].budget>0?rT:A[6].rangeProp!=""?sT:iT}let $=D(t),G=$(t);function N(A,W){return A[6].tagsProperty===!1?aT:oT}let F=N(t),H=F(t);return{c(){e=m("div"),n=m("input"),s=E(),r=m("h3"),a=C(o),l=E(),h=C(c),d=E(),M.c(),f=E(),G.c(),p=E(),H.c(),_=E(),g(n,"type","checkbox"),n.__value=i=t[6].telephon,n.value=n.__value,t[15][0].push(n),g(e,"class","conInt svelte-3wn943")},m(A,W){k(A,e,W),u(e,n),n.checked=~t[0].indexOf(n.__value),u(e,s),u(e,r),u(r,a),u(r,l),u(r,h),u(e,d),M.m(e,null),u(e,f),G.m(e,null),u(e,p),H.m(e,null),u(e,_),v||(y=q(n,"change",t[16]),v=!0)},p(A,W){W[0]&32&&i!==(i=A[6].telephon)&&(n.__value=i,n.value=n.__value),W[0]&1&&(n.checked=~A[0].indexOf(n.__value)),W[0]&32&&o!==(o=A[6].name+"")&&ie(a,o),W[0]&32&&c!==(c=A[6].lastname+"")&&ie(h,c),I===(I=b(A))&&M?M.p(A,W):(M.d(1),M=I(A),M&&(M.c(),M.m(e,f))),$===($=D(A))&&G?G.p(A,W):(G.d(1),G=$(A),G&&(G.c(),G.m(e,p))),F===(F=N(A))&&H?H.p(A,W):(H.d(1),H=F(A),H&&(H.c(),H.m(e,_)))},d(A){A&&w(e),t[15][0].splice(t[15][0].indexOf(n),1),M.d(),G.d(),H.d(),v=!1,y()}}}function lT(t){let e,n,i,s,r,o,a,l,c,h=t[4].claveEB+"",d,f,p=t[4].nameProperty+"",_,v,y,b=t[4].selectTP+"",I,M,D=t[4].colonia+"",$,G,N=t[4].locaProperty+"",F,H,A,W,O,Q=t[4].price+"",U,se,B,le,x=t[4].beds+"",ue,re,V=t[4].bathroom+"",P,T,z=t[4].halfBathroom+"",R,Y,X,ce,Ie=t[4].areaBuilding+"",Re,ft,j=t[4].areaTotal+"",ae,Qe,Nt,Be,dt=t[4].description+"",qe,Ge,L,de,Z,Ye,Ft,zt,mt,pn,lt,pt,rn,gt,Un,on,_t,Tn,Sn,an,Cn,An,Wt,Ve,nn,He=t[1]&&bf(t);return{c(){e=m("div"),n=m("div"),i=m("div"),s=m("img"),a=E(),l=m("div"),c=m("h4"),d=C(h),f=E(),_=C(p),v=E(),y=m("h5"),I=C(b),M=C(" en Col. "),$=C(D),G=C(" al "),F=C(N),H=C(" de la ciudad."),A=E(),W=m("h6"),O=C("Precio: "),U=C(Q),se=E(),B=m("div"),le=m("h6"),ue=C(x),re=C(" Recamaras, "),P=C(V),T=C(" Ba\xF1os y "),R=C(z),Y=C(" Medio Ba\xF1o"),X=E(),ce=m("h6"),Re=C(Ie),ft=C(" m2 de construcci\xF3n y "),ae=C(j),Qe=C(" m2 de terreno"),Nt=E(),Be=m("p"),qe=C(dt),Ge=E(),L=m("div"),de=m("a"),Z=C("Seguir Link en Otra Ventana"),Ft=E(),zt=m("div"),mt=m("button"),mt.textContent="Enviar por WhatsApp",pn=E(),lt=m("button"),lt.textContent="Buscar Interesados",pt=E(),rn=m("div"),gt=m("button"),gt.textContent="Regresar",Un=E(),on=m("div"),_t=m("img"),Sn=E(),an=m("img"),An=E(),Wt=m("div"),He&&He.c(),rt(s.src,r=t[4].urlImage)||g(s,"src",r),g(s,"alt",o=t[4].nameProperty),g(i,"class","selectImage svelte-3wn943"),g(Be,"class","descSelec"),g(l,"class","descSelect"),g(de,"href",Ye=t[4].urlProp),g(de,"target","_blank"),g(L,"class","folowLink"),g(mt,"class","btnCommon btnWhatsApp"),g(lt,"class","btnCommon"),g(zt,"class","optionsSend"),g(gt,"class","btnCommon btnCancel"),g(rn,"class","backAnt"),rt(_t.src,Tn=Na)||g(_t,"src",Tn),g(_t,"alt","delete"),rt(an.src,Cn=q_)||g(an,"src",Cn),g(an,"alt","delete"),g(on,"class","icon__Content"),g(n,"class","sele__info svelte-3wn943"),g(e,"class","sele__Product svelte-3wn943"),g(Wt,"class","container cont__interest svelte-3wn943")},m(Ne,Pe){k(Ne,e,Pe),u(e,n),u(n,i),u(i,s),u(n,a),u(n,l),u(l,c),u(c,d),u(c,f),u(c,_),u(l,v),u(l,y),u(y,I),u(y,M),u(y,$),u(y,G),u(y,F),u(y,H),u(l,A),u(l,W),u(W,O),u(W,U),u(l,se),u(l,B),u(B,le),u(le,ue),u(le,re),u(le,P),u(le,T),u(le,R),u(le,Y),u(l,X),u(l,ce),u(ce,Re),u(ce,ft),u(ce,ae),u(ce,Qe),u(l,Nt),u(l,Be),u(Be,qe),u(n,Ge),u(n,L),u(L,de),u(de,Z),u(n,Ft),u(n,zt),u(zt,mt),u(zt,pn),u(zt,lt),u(n,pt),u(n,rn),u(rn,gt),u(n,Un),u(n,on),u(on,_t),u(on,Sn),u(on,an),k(Ne,An,Pe),k(Ne,Wt,Pe),He&&He.m(Wt,null),Ve||(nn=[q(mt,"click",t[10]),q(lt,"click",t[12]),q(gt,"click",t[13]),q(_t,"click",t[8]),q(an,"click",t[9])],Ve=!0)},p(Ne,Pe){Pe[0]&16&&!rt(s.src,r=Ne[4].urlImage)&&g(s,"src",r),Pe[0]&16&&o!==(o=Ne[4].nameProperty)&&g(s,"alt",o),Pe[0]&16&&h!==(h=Ne[4].claveEB+"")&&ie(d,h),Pe[0]&16&&p!==(p=Ne[4].nameProperty+"")&&ie(_,p),Pe[0]&16&&b!==(b=Ne[4].selectTP+"")&&ie(I,b),Pe[0]&16&&D!==(D=Ne[4].colonia+"")&&ie($,D),Pe[0]&16&&N!==(N=Ne[4].locaProperty+"")&&ie(F,N),Pe[0]&16&&Q!==(Q=Ne[4].price+"")&&ie(U,Q),Pe[0]&16&&x!==(x=Ne[4].beds+"")&&ie(ue,x),Pe[0]&16&&V!==(V=Ne[4].bathroom+"")&&ie(P,V),Pe[0]&16&&z!==(z=Ne[4].halfBathroom+"")&&ie(R,z),Pe[0]&16&&Ie!==(Ie=Ne[4].areaBuilding+"")&&ie(Re,Ie),Pe[0]&16&&j!==(j=Ne[4].areaTotal+"")&&ie(ae,j),Pe[0]&16&&dt!==(dt=Ne[4].description+"")&&ie(qe,dt),Pe[0]&16&&Ye!==(Ye=Ne[4].urlProp)&&g(de,"href",Ye),Ne[1]?He?He.p(Ne,Pe):(He=bf(Ne),He.c(),He.m(Wt,null)):He&&(He.d(1),He=null)},i:he,o:he,d(Ne){Ne&&w(e),Ne&&w(An),Ne&&w(Wt),He&&He.d(),Ve=!1,et(nn)}}}function cT(t,e,n){let i,s,r,o,a,l,c;Se(t,Le,O=>n(21,i=O)),Se(t,Xe,O=>n(4,s=O)),Se(t,Kn,O=>n(5,r=O)),Se(t,Om,O=>n(22,o=O)),Se(t,hs,O=>n(23,a=O)),Se(t,nt,O=>n(6,l=O)),Se(t,fi,O=>n(24,c=O)),Ji();let h=[],d=!1,f="Contactos",p=["Posobles_Interesados","Por_Enviar","Ya_Se_Envi\xF3"],_="",v=[],y=[],b=[];function I(){console.log("propEditing"),be(Le,i="propEditing",i),console.log("propEditing")}async function M(){confirm("Deseas eleiminar definitivamente la propiedad?")&&(console.log("Borraste al propiedad"),await Sa(Ai(ut,"properties",s.id)),be(Le,i="start",i))}function D(){console.log(a),be(hs,a="sendProperties",a),s.claveEB,$(h)}function $(O){console.log(s),s.claveEB,be(Le,i="binnAdding",i),wi.filter(Q=>Q.urlProp===O[0]),a==="sendMsg"?be(fi,c={date:Date.now(),comment:O,to:l.telephon,action:"Mensaje enviado: "},c):a==="sendProperties"?(be(fi,c={date:Date.now(),comment:s.claveEB,to:l.telephon,action:"Enviada desde propiedad: "},c),console.log(c)):be(fi,c={date:Date.now(),comment:s.claveEB,to:l.telephon,action:"Propiedad enviada: "},c),be(hs,a="",a),be(Le,i="contSelect",i)}function G(){if(_==="Posobles_Interesados")n(2,f="Contactos Les Puede Interesar Esta Propiedad"),be(Kn,r=o,r);else if(_==="Por_Enviar"){y=[],n(2,f="No Se Les Ha Enviado Esta Propieadad"),b=Ko.filter(Q=>Q.comment===s.claveEB);const O=b.map(Q=>Q.to);y=o.filter(Q=>!O.includes(Q.telephon)),be(Kn,r=y,r)}else _==="Ya_Se_Envi\xF3"&&(v=[],n(2,f="Ya se les envi\xF3 esta propiedad"),b=Ko.filter(O=>O.comment===s.claveEB),Go.filter(O=>{b.forEach(Q=>{O.telephon===Q.to&&v.push(O)}),be(Kn,r=v,r)}))}function N(){n(1,d=!0),eT(s,Go)}function F(){be(Xe,s=[],s),be(Le,i="start",i)}const H=[[],[]];function A(){_=this.__value,n(3,_)}function W(){h=Bt(H[0],this.__value,this.checked),n(0,h)}return[h,d,f,_,s,r,l,p,I,M,D,G,N,F,A,H,W]}class uT extends Ze{constructor(e){super(),xe(this,e,cT,lT,We,{},null,[-1,-1])}}function kf(t,e,n){const i=t.slice();return i[24]=e[n],i}function If(t,e,n){const i=t.slice();return i[27]=e[n],i}function Tf(t,e,n){const i=t.slice();return i[30]=e[n],i}function Sf(t,e,n){const i=t.slice();return i[33]=e[n],i}function Cf(t,e,n){const i=t.slice();return i[36]=e[n],i}function Af(t,e,n){const i=t.slice();return i[39]=e[n],i}function Pf(t,e,n){const i=t.slice();return i[42]=e[n],i}function hT(t){let e,n=St(t[1].createdAt)+"",i,s,r;return{c(){e=m("h3"),i=C(n),g(e,"class","dataInput")},m(o,a){k(o,e,a),u(e,i),s||(r=q(e,"dblclick",t[3]),s=!0)},p(o,a){a[0]&2&&n!==(n=St(o[1].createdAt)+"")&&ie(i,n)},d(o){o&&w(e),s=!1,r()}}}function dT(t){let e,n,i;return{c(){e=m("input"),g(e,"class","dataInput"),g(e,"type","date")},m(s,r){k(s,e,r),ve(e,t[1].createdAt),n||(i=q(e,"input",t[4]),n=!0)},p(s,r){r[0]&2&&ve(e,s[1].createdAt)},d(s){s&&w(e),n=!1,i()}}}function Df(t){let e,n=t[42]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[42],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function Nf(t){let e,n=t[39]+"",i,s;return{c(){e=m("option"),i=C(n),s=E(),g(e,"type","checkbox"),e.__value=t[39],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function Mf(t){let e,n=t[36]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" Rec\xE1maras"),g(e,"type","checkbox"),e.__value=t[36],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function Rf(t){let e,n=t[33]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" ba\xF1os"),g(e,"type","checkbox"),e.__value=t[33],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function Of(t){let e,n=t[30]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" Medios ba\xF1os"),g(e,"type","checkbox"),e.__value=t[30],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function Bf(t){let e,n=t[27]+"",i,s;return{c(){e=m("option"),i=C(n),s=C(" Estacionamientos"),g(e,"type","checkbox"),e.__value=t[27],e.value=e.__value},m(r,o){k(r,e,o),u(e,i),u(e,s)},p:he,d(r){r&&w(e)}}}function Lf(t){let e,n=t[24]+"",i;return{c(){e=m("option"),i=C(n),g(e,"type","checkbox"),e.__value=t[24],e.value=e.__value},m(s,r){k(s,e,r),u(e,i)},p:he,d(s){s&&w(e)}}}function fT(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le,x,ue,re,V,P,T,z,R,Y,X,ce,Ie,Re,ft,j,ae,Qe,Nt,Be,dt,qe,Ge,L,de,Z,Ye,Ft,zt,mt,pn,lt,pt,rn,gt,Un,on,_t,Tn,Sn,an,Cn;function An(S,oe){if(S[0])return dT;if(S[2]==="propEditing")return hT}let Wt=An(t),Ve=Wt&&Wt(t),nn=Qo,He=[];for(let S=0;S<nn.length;S+=1)He[S]=Df(Pf(t,nn,S));let Ne=Nd,Pe=[];for(let S=0;S<Ne.length;S+=1)Pe[S]=Nf(Af(t,Ne,S));let Fn=Yo,vt=[];for(let S=0;S<Fn.length;S+=1)vt[S]=Mf(Cf(t,Fn,S));let Vn=wn,Vt=[];for(let S=0;S<Vn.length;S+=1)Vt[S]=Rf(Sf(t,Vn,S));let Pn=wn,yt=[];for(let S=0;S<Pn.length;S+=1)yt[S]=Of(Tf(t,Pn,S));let jn=wn,bt=[];for(let S=0;S<jn.length;S+=1)bt[S]=Bf(If(t,jn,S));let bn=Rd,st=[];for(let S=0;S<bn.length;S+=1)st[S]=Lf(kf(t,bn,S));function Yr(S){t[22](S)}let si={};t[1].locaProperty!==void 0&&(si.ubication=t[1].locaProperty),gt=new H_({props:si}),Xn.push(()=>qi(gt,"ubication",Yr));function Mi(S){t[23](S)}let Os={};return t[1].tagsProperty!==void 0&&(Os.tag=t[1].tagsProperty),_t=new G_({props:Os}),Xn.push(()=>qi(_t,"tag",Mi)),{c(){e=m("div"),Ve&&Ve.c(),n=E(),i=m("select"),s=m("option"),s.textContent="Tipo de Propiedad";for(let S=0;S<He.length;S+=1)He[S].c();r=E(),o=m("label"),o.innerHTML=`Titulo
       <input type="text"/>`,a=E(),l=m("label"),c=C(`Colonia\r
        `),h=m("input"),d=E(),f=m("label"),p=C(`Nombre de la Propiead\r
        `),_=m("input"),v=E(),y=m("label"),b=C(`Clave EB\r
        `),I=m("input"),M=E(),D=m("label"),$=C(`Clave MH\r
        `),G=m("input"),N=E(),F=m("div"),H=m("textarea"),A=E(),W=m("select"),O=m("option"),O.textContent="Tipo de Operaci\xF3n";for(let S=0;S<Pe.length;S+=1)Pe[S].c();Q=E(),U=m("select"),se=m("option"),se.textContent="# Rec\xE1maras";for(let S=0;S<vt.length;S+=1)vt[S].c();B=E(),le=m("select"),x=m("option"),x.textContent="# Ba\xF1os";for(let S=0;S<Vt.length;S+=1)Vt[S].c();ue=E(),re=m("select"),V=m("option"),V.textContent="# Medios Ba\xF1os";for(let S=0;S<yt.length;S+=1)yt[S].c();P=E(),T=m("select"),z=m("option"),z.textContent="# Estacionamientos";for(let S=0;S<bt.length;S+=1)bt[S].c();R=E(),Y=m("label"),X=C(`Area de Construcci\xF3n\r
            `),ce=m("input"),Ie=E(),Re=m("label"),ft=C(`Area de Terreno\r
            `),j=m("input"),ae=E(),Qe=m("label"),Nt=C(`Precio\r
            `),Be=m("input"),dt=E(),qe=m("label"),Ge=C(`Link Imgen\r
        `),L=m("input"),de=E(),Z=m("label"),Ye=C(`Link de la Propiedad\r
        `),Ft=m("input"),zt=E(),mt=m("label"),mt.innerHTML=`Propietario
            <input type="text"/>`,pn=E(),lt=m("select"),pt=m("option"),pt.textContent="Tipo de Encargado";for(let S=0;S<st.length;S+=1)st[S].c();rn=E(),ge(gt.$$.fragment),on=E(),ge(_t.$$.fragment),s.disabled=!0,s.selected=!0,s.__value="",s.value=s.__value,g(i,"class","selTP"),g(i,"id","selTP"),g(i,"name","selTP"),t[1].selectTP===void 0&&tt(()=>t[5].call(i)),g(h,"type","text"),g(_,"type","text"),g(I,"type","text"),g(G,"type","text"),g(H,"placeholder","Comentarios"),g(H,"cols","65"),g(H,"rows","5"),g(H,"class","form-control"),g(F,"class","col"),O.disabled=!0,O.selected=!0,O.__value="",O.value=O.__value,t[1].typeOperation===void 0&&tt(()=>t[11].call(W)),se.disabled=!0,se.selected=!0,se.__value="",se.value=se.__value,t[1].beds===void 0&&tt(()=>t[12].call(U)),x.disabled=!0,x.selected=!0,x.__value="",x.value=x.__value,t[1].bathroom===void 0&&tt(()=>t[13].call(le)),V.disabled=!0,V.selected=!0,V.__value="",V.value=V.__value,t[1].halfBathroom===void 0&&tt(()=>t[14].call(re)),z.disabled=!0,z.selected=!0,z.__value="",z.value=z.__value,t[1].park===void 0&&tt(()=>t[15].call(T)),g(ce,"type","number"),g(j,"type","number"),g(Be,"type","number"),g(L,"type","text"),g(Ft,"type","text"),pt.disabled=!0,pt.selected=!0,pt.__value="",pt.value=pt.__value,g(lt,"name","typeSaller"),t[1].typeSaller===void 0&&tt(()=>t[21].call(lt))},m(S,oe){k(S,e,oe),Ve&&Ve.m(e,null),k(S,n,oe),k(S,i,oe),u(i,s);for(let Me=0;Me<He.length;Me+=1)He[Me].m(i,null);Ue(i,t[1].selectTP),k(S,r,oe),k(S,o,oe),k(S,a,oe),k(S,l,oe),u(l,c),u(l,h),ve(h,t[1].colonia),k(S,d,oe),k(S,f,oe),u(f,p),u(f,_),ve(_,t[1].nameProperty),k(S,v,oe),k(S,y,oe),u(y,b),u(y,I),ve(I,t[1].claveEB),k(S,M,oe),k(S,D,oe),u(D,$),u(D,G),ve(G,t[1].claveMH),k(S,N,oe),k(S,F,oe),u(F,H),ve(H,t[1].description),k(S,A,oe),k(S,W,oe),u(W,O);for(let Me=0;Me<Pe.length;Me+=1)Pe[Me].m(W,null);Ue(W,t[1].typeOperation),k(S,Q,oe),k(S,U,oe),u(U,se);for(let Me=0;Me<vt.length;Me+=1)vt[Me].m(U,null);Ue(U,t[1].beds),k(S,B,oe),k(S,le,oe),u(le,x);for(let Me=0;Me<Vt.length;Me+=1)Vt[Me].m(le,null);Ue(le,t[1].bathroom),k(S,ue,oe),k(S,re,oe),u(re,V);for(let Me=0;Me<yt.length;Me+=1)yt[Me].m(re,null);Ue(re,t[1].halfBathroom),k(S,P,oe),k(S,T,oe),u(T,z);for(let Me=0;Me<bt.length;Me+=1)bt[Me].m(T,null);Ue(T,t[1].park),k(S,R,oe),k(S,Y,oe),u(Y,X),u(Y,ce),ve(ce,t[1].areaBuilding),k(S,Ie,oe),k(S,Re,oe),u(Re,ft),u(Re,j),ve(j,t[1].areaTotal),k(S,ae,oe),k(S,Qe,oe),u(Qe,Nt),u(Qe,Be),ve(Be,t[1].price),k(S,dt,oe),k(S,qe,oe),u(qe,Ge),u(qe,L),ve(L,t[1].urlImage),k(S,de,oe),k(S,Z,oe),u(Z,Ye),u(Z,Ft),ve(Ft,t[1].urlProp),k(S,zt,oe),k(S,mt,oe),k(S,pn,oe),k(S,lt,oe),u(lt,pt);for(let Me=0;Me<st.length;Me+=1)st[Me].m(lt,null);Ue(lt,t[1].typeSaller),k(S,rn,oe),fe(gt,S,oe),k(S,on,oe),fe(_t,S,oe),Sn=!0,an||(Cn=[q(i,"change",t[5]),q(h,"input",t[6]),q(_,"input",t[7]),q(I,"input",t[8]),q(G,"input",t[9]),q(H,"input",t[10]),q(W,"change",t[11]),q(U,"change",t[12]),q(le,"change",t[13]),q(re,"change",t[14]),q(T,"change",t[15]),q(ce,"input",t[16]),q(j,"input",t[17]),q(Be,"input",t[18]),q(L,"input",t[19]),q(Ft,"input",t[20]),q(lt,"change",t[21])],an=!0)},p(S,oe){if(Wt===(Wt=An(S))&&Ve?Ve.p(S,oe):(Ve&&Ve.d(1),Ve=Wt&&Wt(S),Ve&&(Ve.c(),Ve.m(e,null))),oe&0){nn=Qo;let ee;for(ee=0;ee<nn.length;ee+=1){const ct=Pf(S,nn,ee);He[ee]?He[ee].p(ct,oe):(He[ee]=Df(ct),He[ee].c(),He[ee].m(i,null))}for(;ee<He.length;ee+=1)He[ee].d(1);He.length=nn.length}if(oe[0]&2&&Ue(i,S[1].selectTP),oe[0]&2&&h.value!==S[1].colonia&&ve(h,S[1].colonia),oe[0]&2&&_.value!==S[1].nameProperty&&ve(_,S[1].nameProperty),oe[0]&2&&I.value!==S[1].claveEB&&ve(I,S[1].claveEB),oe[0]&2&&G.value!==S[1].claveMH&&ve(G,S[1].claveMH),oe[0]&2&&ve(H,S[1].description),oe&0){Ne=Nd;let ee;for(ee=0;ee<Ne.length;ee+=1){const ct=Af(S,Ne,ee);Pe[ee]?Pe[ee].p(ct,oe):(Pe[ee]=Nf(ct),Pe[ee].c(),Pe[ee].m(W,null))}for(;ee<Pe.length;ee+=1)Pe[ee].d(1);Pe.length=Ne.length}if(oe[0]&2&&Ue(W,S[1].typeOperation),oe&0){Fn=Yo;let ee;for(ee=0;ee<Fn.length;ee+=1){const ct=Cf(S,Fn,ee);vt[ee]?vt[ee].p(ct,oe):(vt[ee]=Mf(ct),vt[ee].c(),vt[ee].m(U,null))}for(;ee<vt.length;ee+=1)vt[ee].d(1);vt.length=Fn.length}if(oe[0]&2&&Ue(U,S[1].beds),oe&0){Vn=wn;let ee;for(ee=0;ee<Vn.length;ee+=1){const ct=Sf(S,Vn,ee);Vt[ee]?Vt[ee].p(ct,oe):(Vt[ee]=Rf(ct),Vt[ee].c(),Vt[ee].m(le,null))}for(;ee<Vt.length;ee+=1)Vt[ee].d(1);Vt.length=Vn.length}if(oe[0]&2&&Ue(le,S[1].bathroom),oe&0){Pn=wn;let ee;for(ee=0;ee<Pn.length;ee+=1){const ct=Tf(S,Pn,ee);yt[ee]?yt[ee].p(ct,oe):(yt[ee]=Of(ct),yt[ee].c(),yt[ee].m(re,null))}for(;ee<yt.length;ee+=1)yt[ee].d(1);yt.length=Pn.length}if(oe[0]&2&&Ue(re,S[1].halfBathroom),oe&0){jn=wn;let ee;for(ee=0;ee<jn.length;ee+=1){const ct=If(S,jn,ee);bt[ee]?bt[ee].p(ct,oe):(bt[ee]=Bf(ct),bt[ee].c(),bt[ee].m(T,null))}for(;ee<bt.length;ee+=1)bt[ee].d(1);bt.length=jn.length}if(oe[0]&2&&Ue(T,S[1].park),oe[0]&2&&mi(ce.value)!==S[1].areaBuilding&&ve(ce,S[1].areaBuilding),oe[0]&2&&mi(j.value)!==S[1].areaTotal&&ve(j,S[1].areaTotal),oe[0]&2&&mi(Be.value)!==S[1].price&&ve(Be,S[1].price),oe[0]&2&&L.value!==S[1].urlImage&&ve(L,S[1].urlImage),oe[0]&2&&Ft.value!==S[1].urlProp&&ve(Ft,S[1].urlProp),oe&0){bn=Rd;let ee;for(ee=0;ee<bn.length;ee+=1){const ct=kf(S,bn,ee);st[ee]?st[ee].p(ct,oe):(st[ee]=Lf(ct),st[ee].c(),st[ee].m(lt,null))}for(;ee<st.length;ee+=1)st[ee].d(1);st.length=bn.length}oe[0]&2&&Ue(lt,S[1].typeSaller);const Me={};!Un&&oe[0]&2&&(Un=!0,Me.ubication=S[1].locaProperty,ji(()=>Un=!1)),gt.$set(Me);const qn={};!Tn&&oe[0]&2&&(Tn=!0,qn.tag=S[1].tagsProperty,ji(()=>Tn=!1)),_t.$set(qn)},i(S){Sn||(K(gt.$$.fragment,S),K(_t.$$.fragment,S),Sn=!0)},o(S){J(gt.$$.fragment,S),J(_t.$$.fragment,S),Sn=!1},d(S){S&&w(e),Ve&&Ve.d(),S&&w(n),S&&w(i),Fe(He,S),S&&w(r),S&&w(o),S&&w(a),S&&w(l),S&&w(d),S&&w(f),S&&w(v),S&&w(y),S&&w(M),S&&w(D),S&&w(N),S&&w(F),S&&w(A),S&&w(W),Fe(Pe,S),S&&w(Q),S&&w(U),Fe(vt,S),S&&w(B),S&&w(le),Fe(Vt,S),S&&w(ue),S&&w(re),Fe(yt,S),S&&w(P),S&&w(T),Fe(bt,S),S&&w(R),S&&w(Y),S&&w(Ie),S&&w(Re),S&&w(ae),S&&w(Qe),S&&w(dt),S&&w(qe),S&&w(de),S&&w(Z),S&&w(zt),S&&w(mt),S&&w(pn),S&&w(lt),Fe(st,S),S&&w(rn),me(gt,S),S&&w(on),me(_t,S),an=!1,et(Cn)}}}function mT(t,e,n){let i,s;Se(t,Xe,W=>n(1,i=W)),Se(t,Le,W=>n(2,s=W));let r=!1;function o(){n(0,r=!0)}function a(){i.createdAt=this.value,Xe.set(i)}function l(){i.selectTP=jt(this),Xe.set(i)}function c(){i.colonia=this.value,Xe.set(i)}function h(){i.nameProperty=this.value,Xe.set(i)}function d(){i.claveEB=this.value,Xe.set(i)}function f(){i.claveMH=this.value,Xe.set(i)}function p(){i.description=this.value,Xe.set(i)}function _(){i.typeOperation=jt(this),Xe.set(i)}function v(){i.beds=jt(this),Xe.set(i)}function y(){i.bathroom=jt(this),Xe.set(i)}function b(){i.halfBathroom=jt(this),Xe.set(i)}function I(){i.park=jt(this),Xe.set(i)}function M(){i.areaBuilding=mi(this.value),Xe.set(i)}function D(){i.areaTotal=mi(this.value),Xe.set(i)}function $(){i.price=mi(this.value),Xe.set(i)}function G(){i.urlImage=this.value,Xe.set(i)}function N(){i.urlProp=this.value,Xe.set(i)}function F(){i.typeSaller=jt(this),Xe.set(i)}function H(W){t.$$.not_equal(i.locaProperty,W)&&(i.locaProperty=W,Xe.set(i))}function A(W){t.$$.not_equal(i.tagsProperty,W)&&(i.tagsProperty=W,Xe.set(i))}return[r,i,s,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A]}class pT extends Ze{constructor(e){super(),xe(this,e,mT,fT,We,{},null,[-1,-1])}}function gT(t){let e;return{c(){e=C("Editar")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function _T(t){let e;return{c(){e=C("Guardar")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function vT(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y;l=new pT({});function b(D,$){return D[0]==="propAdding"?_T:gT}let I=b(t),M=I(t);return{c(){e=m("form"),n=m("div"),i=m("div"),s=m("img"),a=E(),ge(l.$$.fragment),c=E(),h=m("div"),d=m("button"),M.c(),f=E(),p=m("button"),p.textContent="Cancel",rt(s.src,r=t[1].urlImage)||g(s,"src",r),g(s,"alt",o=t[1].nameProperty),g(s,"class","svelte-166hnhc"),g(d,"class","btn-save"),g(p,"class","btn-cancel"),g(h,"class","contSavCan svelte-166hnhc"),g(n,"class","altaContactos"),g(e,"class","propiedad")},m(D,$){k(D,e,$),u(e,n),u(n,i),u(i,s),u(i,a),fe(l,i,null),u(n,c),u(n,h),u(h,d),M.m(d,null),u(h,f),u(h,p),_=!0,v||(y=[q(p,"click",t[3]),q(e,"submit",_n(t[2]))],v=!0)},p(D,[$]){(!_||$&2&&!rt(s.src,r=D[1].urlImage))&&g(s,"src",r),(!_||$&2&&o!==(o=D[1].nameProperty))&&g(s,"alt",o),I!==(I=b(D))&&(M.d(1),M=I(D),M&&(M.c(),M.m(d,null)))},i(D){_||(K(l.$$.fragment,D),_=!0)},o(D){J(l.$$.fragment,D),_=!1},d(D){D&&w(e),me(l),M.d(),v=!1,et(y)}}}function yT(t,e,n){let i,s;Se(t,Le,c=>n(0,i=c)),Se(t,Xe,c=>n(1,s=c));let r=0;const o=Ji();async function a(){if(console.log("Estas en add property",i,s),i==="propEditing")console.log("estas dentro de edit property",s.id),await nu(Ai(ut,"properties",s.id),s);else{r=Date.now(),be(Xe,s={...s,createdAt:r},s),console.log(s);const c=xt(ut,"properties");await bi(c,s)}be(Le,i="start",i),be(Xe,s="",s)}return[i,s,a,()=>{o("./")}]}class K_ extends Ze{constructor(e){super(),xe(this,e,yT,vT,We,{})}}function $f(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function Uf(t,e,n){const i=t.slice();return i[26]=e[n],i}function Ff(t,e,n){const i=t.slice();return i[12]=e[n],i[26]=n,i}function Vf(t){let e,n=t[0].length+"",i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A;function W(P){t[14](P)}let O={};t[3]!==void 0&&(O.searchTerm=t[3]),l=new fu({props:O}),Xn.push(()=>qi(l,"searchTerm",W)),l.$on("input",t[11]);let Q=t[0],U=[];for(let P=0;P<Q.length;P+=1)U[P]=qf(Ff(t,Q,P));const se=P=>J(U[P],1,1,()=>{U[P]=null});let B=t[1]>1&&Hf(t),le=[3,2,1],x=[];for(let P=0;P<3;P+=1)x[P]=Kf(Uf(t,le,P));let ue=Array(3),re=[];for(let P=0;P<ue.length;P+=1)re[P]=Wf($f(t,ue,P));let V=t[1]<t[5]&&Qf(t);return{c(){e=m("h2"),i=C(n),s=C(" Propiedades a Mostrar"),r=E(),o=m("button"),o.textContent="Alta de Propiedad",a=E(),ge(l.$$.fragment),h=E(),d=m("div"),f=m("main");for(let P=0;P<U.length;P+=1)U[P].c();p=E(),_=m("div"),v=m("div"),y=m("ul"),B&&B.c(),b=E();for(let P=0;P<3;P+=1)x[P].c();I=E(),M=m("li"),D=m("span"),$=C(t[1]),G=E();for(let P=0;P<re.length;P+=1)re[P].c();N=E(),V&&V.c(),g(f,"id","bookshelf"),g(f,"class","svelte-nygjwm"),g(y,"class","pagi__options"),g(v,"class","pagi__Item"),g(_,"class","container pagination"),g(d,"class","mosPag")},m(P,T){k(P,e,T),u(e,i),u(e,s),k(P,r,T),k(P,o,T),k(P,a,T),fe(l,P,T),k(P,h,T),k(P,d,T),u(d,f);for(let z=0;z<U.length;z+=1)U[z].m(f,null);u(d,p),u(d,_),u(_,v),u(v,y),B&&B.m(y,null),u(y,b);for(let z=0;z<3;z+=1)x[z].m(y,null);u(y,I),u(y,M),u(M,D),u(D,$),u(y,G);for(let z=0;z<re.length;z+=1)re[z].m(y,null);u(y,N),V&&V.m(y,null),F=!0,H||(A=q(o,"click",t[10]),H=!0)},p(P,T){(!F||T&1)&&n!==(n=P[0].length+"")&&ie(i,n);const z={};if(!c&&T&8&&(c=!0,z.searchTerm=P[3],ji(()=>c=!1)),l.$set(z),T&533){Q=P[0];let R;for(R=0;R<Q.length;R+=1){const Y=Ff(P,Q,R);U[R]?(U[R].p(Y,T),K(U[R],1)):(U[R]=qf(Y),U[R].c(),K(U[R],1),U[R].m(f,null))}for(It(),R=Q.length;R<U.length;R+=1)se(R);Tt()}if(P[1]>1?B?B.p(P,T):(B=Hf(P),B.c(),B.m(y,b)):B&&(B.d(1),B=null),T&258){le=[3,2,1];let R;for(R=0;R<3;R+=1){const Y=Uf(P,le,R);x[R]?x[R].p(Y,T):(x[R]=Kf(Y),x[R].c(),x[R].m(y,I))}for(;R<3;R+=1)x[R].d(1)}if((!F||T&2)&&ie($,P[1]),T&290){ue=Array(3);let R;for(R=0;R<ue.length;R+=1){const Y=$f(P,ue,R);re[R]?re[R].p(Y,T):(re[R]=Wf(Y),re[R].c(),re[R].m(y,N))}for(;R<re.length;R+=1)re[R].d(1);re.length=ue.length}P[1]<P[5]?V?V.p(P,T):(V=Qf(P),V.c(),V.m(y,null)):V&&(V.d(1),V=null)},i(P){if(!F){K(l.$$.fragment,P);for(let T=0;T<Q.length;T+=1)K(U[T]);F=!0}},o(P){J(l.$$.fragment,P),U=U.filter(Boolean);for(let T=0;T<U.length;T+=1)J(U[T]);F=!1},d(P){P&&w(e),P&&w(r),P&&w(o),P&&w(a),me(l,P),P&&w(h),P&&w(d),Fe(U,P),B&&B.d(),Fe(x,P),Fe(re,P),V&&V.d(),H=!1,A()}}}function jf(t){let e,n,i,s,r,o,a;const l=[t[12]];let c={};for(let d=0;d<l.length;d+=1)c=$t(c,l[d]);n=new V_({props:c});function h(){return t[15](t[12])}return{c(){e=m("section"),ge(n.$$.fragment),i=E(),g(e,"class","property svelte-nygjwm")},m(d,f){k(d,e,f),fe(n,e,null),u(e,i),r=!0,o||(a=q(e,"click",h),o=!0)},p(d,f){t=d;const p=f&1?vn(l,[Jn(t[12])]):{};n.$set(p)},i(d){r||(K(n.$$.fragment,d),tt(()=>{s||(s=dn(e,Cs,{duration:500,easing:Ss},!0)),s.run(1)}),r=!0)},o(d){J(n.$$.fragment,d),s||(s=dn(e,Cs,{duration:500,easing:Ss},!1)),s.run(0),r=!1},d(d){d&&w(e),me(n),d&&s&&s.end(),o=!1,a()}}}function qf(t){let e,n,i=t[26]>=t[4]&&t[26]<t[2]&&jf(t);return{c(){i&&i.c(),e=mn()},m(s,r){i&&i.m(s,r),k(s,e,r),n=!0},p(s,r){s[26]>=s[4]&&s[26]<s[2]?i?(i.p(s,r),r&20&&K(i,1)):(i=jf(s),i.c(),K(i,1),i.m(e.parentNode,e)):i&&(It(),J(i,1,1,()=>{i=null}),Tt())},i(s){n||(K(i),n=!0)},o(s){J(i),n=!1},d(s){i&&i.d(s),s&&w(e)}}}function Hf(t){let e,n,i,s,r,o,a,l,c;return{c(){e=m("li"),n=m("a"),n.textContent="first",i=E(),s=m("li"),r=m("a"),o=C("previous"),g(n,"href","/blog"),g(r,"href",a="/blog/"+(t[1]-1))},m(h,d){k(h,e,d),u(e,n),k(h,i,d),k(h,s,d),u(s,r),u(r,o),l||(c=[q(n,"click",_n(t[16])),q(r,"click",_n(t[17]))],l=!0)},p(h,d){d&2&&a!==(a="/blog/"+(h[1]-1))&&g(r,"href",a)},d(h){h&&w(e),h&&w(i),h&&w(s),l=!1,et(c)}}}function Gf(t){let e,n,i=t[1]-t[26]+"",s,r,o,a;function l(){return t[18](t[26])}return{c(){e=m("li"),n=m("a"),s=C(i),g(n,"href",r="/blog/"+(t[1]-t[26]))},m(c,h){k(c,e,h),u(e,n),u(n,s),o||(a=q(n,"click",_n(l)),o=!0)},p(c,h){t=c,h&2&&i!==(i=t[1]-t[26]+"")&&ie(s,i),h&2&&r!==(r="/blog/"+(t[1]-t[26]))&&g(n,"href",r)},d(c){c&&w(e),o=!1,a()}}}function Kf(t){let e,n=t[1]-t[26]>0&&Gf(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[1]-i[26]>0?n?n.p(i,s):(n=Gf(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(e)}}}function zf(t){let e,n,i=t[1]+(t[26]+1)+"",s,r,o,a;function l(){return t[19](t[26])}return{c(){e=m("li"),n=m("a"),s=C(i),g(n,"href",r="/blog/"+(t[1]+(t[26]+1)))},m(c,h){k(c,e,h),u(e,n),u(n,s),o||(a=q(n,"click",_n(l)),o=!0)},p(c,h){t=c,h&2&&i!==(i=t[1]+(t[26]+1)+"")&&ie(s,i),h&2&&r!==(r="/blog/"+(t[1]+(t[26]+1)))&&g(n,"href",r)},d(c){c&&w(e),o=!1,a()}}}function Wf(t){let e,n=t[1]+(t[26]+1)<=t[5]&&zf(t);return{c(){n&&n.c(),e=mn()},m(i,s){n&&n.m(i,s),k(i,e,s)},p(i,s){i[1]+(i[26]+1)<=i[5]?n?n.p(i,s):(n=zf(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(e)}}}function Qf(t){let e,n,i,s,r,o,a,l,c,h,d;return{c(){e=m("li"),n=m("a"),i=C("next"),r=E(),o=m("li"),a=m("a"),l=C("last"),g(n,"href",s="/blog/"+(t[1]+1)),g(a,"href",c="/blog/"+t[5])},m(f,p){k(f,e,p),u(e,n),u(n,i),k(f,r,p),k(f,o,p),u(o,a),u(a,l),h||(d=[q(n,"click",_n(t[20])),q(a,"click",_n(t[21]))],h=!0)},p(f,p){p&2&&s!==(s="/blog/"+(f[1]+1))&&g(n,"href",s),p&32&&c!==(c="/blog/"+f[5])&&g(a,"href",c)},d(f){f&&w(e),f&&w(r),f&&w(o),h=!1,et(d)}}}function Yf(t){let e,n,i;const s=[t[7]];let r={};for(let o=0;o<s.length;o+=1)r=$t(r,s[o]);return n=new uT({props:r}),{c(){e=m("div"),ge(n.$$.fragment)},m(o,a){k(o,e,a),fe(n,e,null),i=!0},p(o,a){const l=a&128?vn(s,[Jn(o[7])]):{};n.$set(l)},i(o){i||(K(n.$$.fragment,o),i=!0)},o(o){J(n.$$.fragment,o),i=!1},d(o){o&&w(e),me(n)}}}function Xf(t){let e,n,i;const s=[t[7]];let r={};for(let o=0;o<s.length;o+=1)r=$t(r,s[o]);return n=new K_({props:r}),{c(){e=m("div"),ge(n.$$.fragment),g(e,"class","container")},m(o,a){k(o,e,a),fe(n,e,null),i=!0},p(o,a){const l=a&128?vn(s,[Jn(o[7])]):{};n.$set(l)},i(o){i||(K(n.$$.fragment,o),i=!0)},o(o){J(n.$$.fragment,o),i=!1},d(o){o&&w(e),me(n)}}}function Jf(t){let e,n,i;return n=new K_({}),{c(){e=m("div"),ge(n.$$.fragment),g(e,"class","container")},m(s,r){k(s,e,r),fe(n,e,null),i=!0},i(s){i||(K(n.$$.fragment,s),i=!0)},o(s){J(n.$$.fragment,s),i=!1},d(s){s&&w(e),me(n)}}}function bT(t){let e,n,i,s,r,o,a,l,c,h,d,f=t[6]==="start"&&Vf(t),p=t[6]==="propSelect"&&Yf(t),_=t[6]==="propEditing"&&Xf(t),v=t[6]==="propAdding"&&Jf();return{c(){e=m("div"),n=m("div"),i=m("h1"),i.textContent="Propiedades",s=E(),r=m("img"),a=E(),f&&f.c(),l=E(),p&&p.c(),c=E(),_&&_.c(),h=E(),v&&v.c(),rt(r.src,o=L_)||g(r,"src",o),g(r,"alt","propiedad"),g(r,"class","imgTitle svelte-nygjwm"),g(e,"class","container")},m(y,b){k(y,e,b),u(e,n),u(n,i),u(n,s),u(n,r),u(e,a),f&&f.m(e,null),u(e,l),p&&p.m(e,null),u(e,c),_&&_.m(e,null),u(e,h),v&&v.m(e,null),d=!0},p(y,[b]){y[6]==="start"?f?(f.p(y,b),b&64&&K(f,1)):(f=Vf(y),f.c(),K(f,1),f.m(e,l)):f&&(It(),J(f,1,1,()=>{f=null}),Tt()),y[6]==="propSelect"?p?(p.p(y,b),b&64&&K(p,1)):(p=Yf(y),p.c(),K(p,1),p.m(e,c)):p&&(It(),J(p,1,1,()=>{p=null}),Tt()),y[6]==="propEditing"?_?(_.p(y,b),b&64&&K(_,1)):(_=Xf(y),_.c(),K(_,1),_.m(e,h)):_&&(It(),J(_,1,1,()=>{_=null}),Tt()),y[6]==="propAdding"?v?b&64&&K(v,1):(v=Jf(),v.c(),K(v,1),v.m(e,null)):v&&(It(),J(v,1,1,()=>{v=null}),Tt())},i(y){d||(K(f),K(p),K(_),K(v),d=!0)},o(y){J(f),J(p),J(_),J(v),d=!1},d(y){y&&w(e),f&&f.d(),p&&p.d(),_&&_.d(),v&&v.d()}}}let ol=20;function wT(t){t.sort((e,n)=>new Date(e.createdAt)<new Date(n.createdAt)?1:new Date(e.createdAt)>new Date(n.createdAt)?-1:0)}function ET(t,e,n){let i,s,r,o,a,l;Se(t,Le,A=>n(6,a=A)),Se(t,Xe,A=>n(7,l=A));let c,h=[],d;be(Le,a="start",a);let f=1;const p=A=>{n(1,f=A)},_=Ca(xt(ut,"properties"),A=>{n(0,h=A.docs.map(W=>({...W.data(),id:W.id}))),wT(h)},A=>{console.log(A)});yr(_);function v(A){console.log(A),be(Xe,l=A,l),be(Le,a="propSelect",a)}function y(){be(Le,a="propAdding",a)}function b(){return n(0,h=wi.filter(A=>(A.nameProperty+" "+A.colonia).toLowerCase().includes(c.toLowerCase())))}function I(A){c=A,n(3,c)}const M=A=>v(A),D=()=>p(1),$=()=>p(f-1),G=A=>p(f-A),N=A=>p(f+(A+1)),F=()=>p(f+1),H=()=>p(s);return t.$$.update=()=>{t.$$.dirty&1&&n(13,i=h.length),t.$$.dirty&8192&&n(5,s=Math.ceil(i/ol)),t.$$.dirty&2&&n(2,r=f*ol),t.$$.dirty&4&&n(4,o=r-ol)},[h,f,r,c,o,s,a,l,p,v,y,b,d,i,I,M,D,$,G,N,F,H]}class kT extends Ze{constructor(e){super(),xe(this,e,ET,bT,We,{})}}function IT(t){let e;return{c(){e=m("h1"),e.textContent="Captacion"},m(n,i){k(n,e,i)},p:he,i:he,o:he,d(n){n&&w(e)}}}class TT extends Ze{constructor(e){super(),xe(this,e,null,IT,We,{})}}const ST=[{to:6142478127,date:"09/21/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:6142478127,date:"09/21/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142478127,date:"09/21/2022",action:"Mensaje enviado:",commBinnacle:"Ernesto. Buenos D\xEDas. Que te parec\xEDo el terreno que te envi\xE9? Tengo por ah\xED tambi\xE9n una casa en venta por si te interesa. Saludos?"},{to:6141339274,date:"09/22/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:6141339274,date:"09/22/2022",action:"Mensaje enviado:",commBinnacle:"Pamela. Buenos d\xEDas. Que te pareci\xF3 el terreno que te envi\xE9? Tengo tamb\xEDen una casa en esa zona por si te interesa. Saludos!"},{to:5541946716,date:"09/22/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:5541946716,date:"09/22/2022",action:"Mensaje enviado:",commBinnacle:"Fernanda. Buenas tardes. Que te pareci\xF3 la casa que te envi\xE9, te gustar\xEDa conocerla?"},{to:5541946716,date:"09/22/2022",action:"Mensaje enviado:",commBinnacle:"Quedo al pendiente. Saludos!"},{to:6145297989,date:"09/22/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6145297989,date:"09/22/2022",action:"Nota:",commBinnacle:"El esposo est\xE1 fuera de la ciudad, posiblemente llegue el pr\xF3ximo miercoles."},{to:6145297989,date:"09/22/2022",action:"Nota:",commBinnacle:"que en la noche lleg\xF3 el esposo, me va a contactar el fin de semana para ir a verla."},{to:6145297989,date:"09/29/2022",action:"Mensaje enviado:",commBinnacle:"Ileana. Buenas tardes, quedo al pendiente para visitar la casa que te interes\xF3 cuando ustedes lo deseen. Saludos!"},{to:6145297989,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6145297989,date:"10/10/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6145297989,date:"10/10/2022",action:"Mensaje enviado:",commBinnacle:"Ileana. Buenos d\xEDas. Te env\xEDo estas casas que creo te van a interesar. Saludos!"},{to:6142236674,date:"09/22/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6142236674,date:"09/22/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142236674,date:"09/22/2022",action:"Nota:",commBinnacle:"Preguntar cual es el mejor precio que?"},{to:6142342815,date:"09/23/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6142342815,date:"09/23/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142342815,date:"09/23/2022",action:"Nota:",commBinnacle:"El te\xE9fono es del hijo, le va a pasar el recado a la mam\xE1."},{to:6141841795,date:"09/24/2022",action:"Propiedad enviada:",commBinnacle:"EB-DV7338"},{to:6141841795,date:"09/24/2022",action:"Nota:",commBinnacle:"Quiere ver la casa de Encordada de Santa Fe, llamarle el martes para ponernos de acuerdo para visitarla el miercoles"},{to:6141841795,date:"09/24/2022",action:"Mensaje enviado:",commBinnacle:"Francisco. Buenos d\xEDas. Que pensaste de las casas que te mostr\xE9, te interesa hacer propuestas?"},{to:6141602327,date:"09/25/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9779"},{to:6141602327,date:"09/25/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141602327,date:"09/25/2022",action:"Nota:",commBinnacle:"La casa no es para ella, pas\xF3 la informaci\xF3n"},{to:6141950767,date:"09/26/2022",action:"Propiedad enviada:",commBinnacle:"EB-LD6405"},{to:6141950767,date:"09/26/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142529990,date:"09/26/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6142529990,date:"09/26/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6143658871,date:"09/27/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6143658871,date:"09/27/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141275918,date:"09/29/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141961387,date:"09/29/2022",action:"Mensaje enviado:",commBinnacle:"Jos\xE9. buenos d\xEDas. Para preguntarte, que pensaste de los terrenos que te envi\xE9?"},{to:6144884497,date:"09/29/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6144884497,date:"09/29/2022",action:"Nota:",commBinnacle:"Le va a pasar la informaci\xF3n y me contactan"},{to:6142553712,date:"09/29/2022",action:"Mensaje enviado:",commBinnacle:"Roc\xEDo. Buenos d\xEDas. Que te parecieron los terrenos que te envi\xE9?"},{to:6144273469,date:"10/03/2022",action:"Mensaje enviado:",commBinnacle:"Guillermo. Buenos d\xEDas. Para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6144273469,date:"10/05/2022",action:"Nota:",commBinnacle:"No me contest\xF3, le envi\xE9 WA"},{to:6144273469,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6144273469,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6144273469,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-KI9707"},{to:6144273469,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6144273469,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"Buenas tardes Guillermo, te env\xEDo estas dos casas que creo te van a interesar. Saludos!"},{to:6145339637,date:"10/03/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6145339637,date:"10/03/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6145339637,date:"10/03/2022",action:"Mensaje enviado:",commBinnacle:"Jania. Buenos d\xEDas. Estoy a tus \xF3rdenes para cuando desees conocer la casa que te interes\xF3. Saludos!"},{to:6141762433,date:"10/03/2022",action:"Nota:",commBinnacle:"Directo al buz\xF3n"},{to:6141762433,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Andr\xE9s. Buenas tardes. Que te pareci\xF3 la casa que te envi\xE9?"},{to:6141762433,date:"10/05/2022",action:"Nota:",commBinnacle:"No me contest\xF3, envi\xE9 WA"},{to:6251069453,date:"10/03/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6251069453,date:"10/03/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144277382,date:"10/03/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6144277382,date:"10/03/2022",action:"Nota:",commBinnacle:"No me contest\xF3, el envi\xE9 WA"},{to:6144277382,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Armando. buenas tardes. Para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6143820525,date:"10/03/2022",action:"Propiedad enviada:",commBinnacle:"EB-IS3428"},{to:6143820525,date:"10/03/2022",action:"Mensaje enviado:",commBinnacle:"Marco. Buenos d\xEDas. Para preguntarte, que pensaron del terreno que te interes\xF3 de la salida a Aldama?"},{to:6143820525,date:"10/10/2022",action:"Nota:",commBinnacle:"Que a fin de semana tiene cita con el broker bancario para ver como acceder a un cr\xE9dito"},{to:6142287558,date:"10/03/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6251978296,date:"10/03/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144277551,date:"10/03/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6144277551,date:"10/03/2022",action:"Nota:",commBinnacle:"Tuvo que cortar la comunicaci\xF3n por que le entr\xF3 una llamada."},{to:6144277551,date:"10/05/2022",action:"Nota:",commBinnacle:"No me contest\xF3, le envi\xE9 WA."},{to:6144277551,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Buenos d\xEDas. Te envio propiedades en tu zona de interes, espero encuentres la casa que buscas, saludos."},{to:6144277551,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6144277551,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6144277551,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:6144277551,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:""},{to:6144277551,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6144277551,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Esta \xFAltima es de dos pisos pero tiene un patio muy amplio para construir. Saludos!"},{to:6564846532,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-a-una-cuadra-del-ortiz-mena?agent=enrique329"},{to:6564846532,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6564846532,date:"10/05/2022",action:"Nota:",commBinnacle:"No me contest\xF3, le envi\xE9 WA"},{to:6564846532,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Jes\xFAs. Buenos d\xEDas. Para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6142862743,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:6142862743,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142862743,date:"10/05/2022",action:"Nota:",commBinnacle:"No me contest\xF3, envi\xE9 WA"},{to:6142862743,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Jorge. Buenos d\xEDas. Que te pareci\xF3 el terreno que te envi\xE9. Tengo agunas propiedades por la zona por si te interesa. Saludos!"},{to:6142208659,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6142208659,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142208659,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6142208659,date:"10/06/2022",action:"Nota:",commBinnacle:"Que est\xE1 fuera de la ciudad, que le llame en un par de dias"},{to:6144753530,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144753530,date:"10/05/2022",action:"Nota:",commBinnacle:"Estrena casa de una planta Residencial Terra a 5 minutos de Wallmart Cordilleras https://www.easybroker.com/mx/listing/enrique329/estrena-casa-de-una-planta-residencial-terra-a-5-minutos-de-wallmart-cordilleras"},{to:6141740282,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9779"},{to:6141740282,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141740282,date:"10/05/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9779"},{to:6141740282,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141740282,date:"10/05/2022",action:"Mensaje enviado:",commBinnacle:"Silvia. Podr\xEDas intentar de nuevo con el link. Gracias!!"},{to:6141876424,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6141876424,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6141876424,date:"10/06/2022",action:"Propiedad enviada:",commBinnacle:"EB-KI9707"},{to:6141876424,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141876424,date:"10/06/2022",action:"Nota:",commBinnacle:"No ha visto las propiedades, hablarle el martes"},{to:6141876424,date:"10/07/2022",action:"Mensaje enviado:",commBinnacle:"Ricardo. Buenos d\xEDas. Para preguntarte, que te parecieron las propiedades que te envi\xE9?"},{to:6251154368,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Residencia en Venta en la Cantera, en Fracc. Privado https://www.matchhome.net/property/residencia-en-venta-en-la-cantera-en-fracc-privado?agent=enrique329"},{to:6251154368,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6251154368,date:"10/06/2022",action:"Mensaje enviado:",commBinnacle:"Esta se pasa poquito del presupuesto pero est\xE1 en una excelente zona, espero sea de tu agrado. Saludos!"},{to:6144271302,date:"10/07/2022",action:"Mensaje enviado:",commBinnacle:"Marco. Buenos d\xEDas. Te env\xEDo mi informaci\xF3n."},{to:6144271302,date:"10/07/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144271302,date:"10/07/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:6144271302,date:"10/07/2022",action:"Mensaje enviado:",commBinnacle:"Quedo al pendiente del plano catastral y del precio de venta. Saludos!!"},{to:6141577135,date:"10/08/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6141577135,date:"10/08/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141577135,date:"10/08/2022",action:"Mensaje enviado:",commBinnacle:"Enrique. Buenos d\xEDas. Para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6141577135,date:"10/12/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6141577135,date:"10/17/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6141577135,date:"10/17/2022",action:"Propiedad enviada:",commBinnacle:"EB-KI9707"},{to:6141577135,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"Enrique. Buenos d\xEDas. Te env\xEDo estas tres propiedades que te pueden interesar. Saludos!"},{to:6145387311,date:"10/09/2022",action:"Propiedad enviada:",commBinnacle:"EB-IN7492"},{to:6145387311,date:"10/09/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6145387311,date:"10/09/2022",action:"Nota:",commBinnacle:"Que si est\xE1 muy interesado, pero no puede hacer movimientos hasta diciembre con la venta de la nuez"},{to:6141019909,date:"10/11/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6141019909,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141019909,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Ignacio. Buenos d\xEDas. Para preguntarte, que te pareci\xF3 la casa?"},{to:6142398833,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/terrenos-residenciales-en-venta-por-el-reliz-diferentes-planes-de-credito?agent=enrique329"},{to:6142398833,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Jordana. Disculpa la demora. El fraccionamiento se llama Bosques Australes."},{to:6142398833,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142398833,date:"10/11/2022",action:"Nota:",commBinnacle:"Jordana. Buenos d\xEDas. Para preguntarte, que te parecieron los terrenos que te envi\xE9?"},{to:6142398833,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"Jordana. Buenos d\xEDas. Para preguntarte, que te parecieron los terrenos que te envi\xE9?"},{to:6142685001,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-a-una-cuadra-del-ortiz-mena?agent=enrique329"},{to:6142685001,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142685001,date:"10/11/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6142685001,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-de-1-planta?agent=enrique329"},{to:6142685001,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"Quedo a tus \xF3rdenes. Saludos!"},{to:6142685001,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"Paola. Buenos d\xEDas. Para preguntarte, que te parecieron las casas que te envi\xE9?"},{to:6141964774,date:"10/11/2022",action:"Propiedad enviada:",commBinnacle:"EB-KI9707"},{to:6141964774,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141964774,date:"10/11/2022",action:"Mensaje enviado:",commBinnacle:"Javier. Buenas tardes. Para preguntarte, que te pareci\xF3 la casa?"},{to:6141964774,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6141964774,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6141964774,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-de-1-planta?agent=enrique329"},{to:6141964774,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6141964774,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"Quedo al pendiente. Saludos!"},{to:6143620436,date:"10/12/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6143620436,date:"10/12/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6143620436,date:"10/12/2022",action:"Mensaje enviado:",commBinnacle:"Alberto. Buenos d\xEDas. Te llam\xE9 para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6143620436,date:"10/17/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6143620436,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"Alberto. Buenas tardes. Te env\xEDo esta casa que creo te va a interesar. Saludos!"},{to:6143792659,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-a-una-cuadra-del-ortiz-mena?agent=enrique329"},{to:6143792659,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6143792659,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"Isaias. Buenos d\xEDas. El motivo de la llamada fu\xE9 para preguntarte, que te pareci\xF3 la casa?"},{to:6143792659,date:"10/17/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6143792659,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:6143792659,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-de-1-planta?agent=enrique329"},{to:6143792659,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Isaias. Buenas tardes. Te env\xEDo estas propiedades que creo te van a intersar. Saludos!"},{to:6143792659,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Isa\xEDas. Buenos d\xEDas. Que te parecieron las casas que te envi\xE9, si es m\xE1s o menos lo que est\xE1s buscando?"},{to:6143792659,date:"10/21/2022",action:"Mensaje enviado:",commBinnacle:"Cual ser\xEDa tu presupuesto, tenemos al rededor de 160 propiedades, quiz\xE1 podemos tener la casa que\xA0est\xE1s\xA0buscando."},{to:6143792659,date:"10/21/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS8638"},{to:6143792659,date:"10/24/2022",action:"Mensaje enviado:",commBinnacle:"Isa\xEDas. Buenos d\xEDas. Te env\xEDo esta casa que creo te va a interesar. Saludos!"},{to:6141244605,date:"10/13/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9779"},{to:6141244605,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141244605,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"Marisol. Buenos d\xEDas. El motivo de la llamada fue para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6141274499,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-a-una-cuadra-del-ortiz-mena?agent=enrique329"},{to:6141274499,date:"10/13/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6145733092,date:"10/14/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6145733092,date:"10/14/2022",action:"Nota:",commBinnacle:"Que est\xE1 ocupado, me regresa la llamada."},{to:6145733092,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"Rigo. Buenas tardes. Para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6145733092,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6145733092,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6145733092,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Rigo. Com\xE9ntame que te parecen estas opciones. Saludos."},{to:6145733092,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Rigo. Buenos d\xEDas. Que te parecieron las casas, si es m\xE1s o menos lo que est\xE1s buscando?"},{to:6141105906,date:"10/17/2022",action:"Propiedad enviada:",commBinnacle:"EB-LP1562"},{to:6141105906,date:"10/17/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141105906,date:"10/17/2022",action:"Nota:",commBinnacle:"No me contest\xF3, envi\xE9 WA"},{to:6141105906,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Servando. Buenas tardes. Para preguntarte, que te pareci\xF3 la casa que te envi\xE9?"},{to:6141105906,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6141105906,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Servando. Buenos d\xEDas. Que te pareci\xF3 la casa, si es m\xE1s o menos lo que est\xE1s buscando?"},{to:6144046514,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-LP1562"},{to:6144046514,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144046514,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6141731019,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-LP1562"},{to:6141731019,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141731019,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6141731019,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quintas-del-sol-de-1-planta?agent=enrique329"},{to:6141731019,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-IN7492"},{to:6141731019,date:"10/21/2022",action:"Propiedad enviada:",commBinnacle:"EB-IS3428"},{to:6141731019,date:"10/21/2022",action:"Nota:",commBinnacle:"busca terreno sin construccion para el constuir"},{to:6144067365,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-en-quinta-balboa-al-norte-de-la-ciudad?agent=enrique329"},{to:6144067365,date:"10/18/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144067365,date:"10/18/2022",action:"Nota:",commBinnacle:"Hicimos cita para ma\xF1ana a las 5:00 pm"},{to:6144067365,date:"10/18/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6142202173,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6142202173,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142202173,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6142202173,date:"10/21/2022",action:"Mensaje enviado:",commBinnacle:"Espero sea de tu agrado. Saludos!"},{to:6141574601,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-IS3428"},{to:6141574601,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141574601,date:"10/19/2022",action:"Nota:",commBinnacle:"Que est\xE1 juntando el dinero, que el se comunica cuando tenga los bolsillos llenos, que si est\xE1n interesados."},{to:6144201829,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144273677,date:"10/19/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9779"},{to:6144273677,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6144273677,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"La propiedad es de 12.00 mts. de frente po 25.33 mts. de fondo. Quedo al pendiente. Saludos."},{to:6144273677,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Alberto. Buenos d\xEDas. Que te pareci\xF3 la casa, si es m\xE1s o menos lo que est\xE1s buscando?"},{to:6144273677,date:"10/21/2022",action:"Nota:",commBinnacle:"No me contest\xF3, le envi\xE9 WA"},{to:6141763494,date:"10/19/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:5545201030,date:"10/20/2022",action:"Propiedad enviada:",commBinnacle:"EB-LI3335"},{to:5545201030,date:"10/20/2022",action:"Nota:",commBinnacle:"El numero no existe"},{to:6141123946,date:"10/20/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6141123946,date:"10/20/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141123946,date:"10/20/2022",action:"Nota:",commBinnacle:"Le volv\xED a enviar la casa por que la estaba confundiendo."},{to:6141123946,date:"10/21/2022",action:"Mensaje enviado:",commBinnacle:"Edith. Buenos d\xEDas. Que te pareci\xF3 la casa, si es lo que est\xE1s buscando?"},{to:6142181717,date:"10/20/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6142181717,date:"10/20/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142181717,date:"10/20/2022",action:"Nota:",commBinnacle:"Es valuadora, no compra"},{to:6142163916,date:"10/20/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6142163916,date:"10/20/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142163916,date:"10/20/2022",action:"Propiedad enviada:",commBinnacle:""},{to:6142163916,date:"10/20/2022",action:"Nota:",commBinnacle:"Que estaba en el trabajo, que le llame despu\xE9s de las 4:00 pm"},{to:6142163916,date:"10/21/2022",action:"Nota:",commBinnacle:"El esposo no pudo desocuparse para ver la casa, ella me llama cuando se ponga de acuerdo con \xE9l para ver la casa."},{to:6142768528,date:"10/21/2022",action:"Mensaje enviado:",commBinnacle:"https://www.matchhome.net/property/casa-en-venta-por-la-zona-boreal-con-recamara-en-planta-baja?agent=enrique329"},{to:6142768528,date:"10/21/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142768528,date:"10/21/2022",action:"Nota:",commBinnacle:"No me contest\xF3, le envi\xE9 la informaci\xF3n"},{to:6142768528,date:"10/21/2022",action:"Nota:",commBinnacle:"No me contest\xF3"},{to:6141910550,date:"10/23/2022",action:"Propiedad enviada:",commBinnacle:"EB-JF2513"},{to:6141910550,date:"10/23/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6143741815,date:"10/24/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6143741815,date:"10/24/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6145406500,date:"10/24/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB3767"},{to:6145406500,date:"10/24/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142287048,date:"10/24/2022",action:"Nota:",commBinnacle:"Le envi\xE9 el terreno de las Americas, Angel Trias Rpo"},{to:6142780047,date:"10/25/2022",action:"Propiedad enviada:",commBinnacle:"EB-KI9707"},{to:6142780047,date:"10/25/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142780047,date:"10/25/2022",action:"Propiedad enviada:",commBinnacle:"EB-LB9476"},{to:6142780047,date:"10/25/2022",action:"Propiedad enviada:",commBinnacle:"EB-CL9379"},{to:6142550873,date:"10/25/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6141253086,date:"10/25/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"},{to:6142214535,date:"10/27/2022",action:"Propiedad enviada:",commBinnacle:"EB-KS7661"},{to:6142214535,date:"10/27/2022",action:"Mensaje enviado:",commBinnacle:"Gracias por contactarnos. Enrique Marines, asesor de ventas en Match Home. 614 540 4003 correo electr\xF3nico  matchhome@hotmail.com. Visita matchhome.net"}];function xf(t,e,n){const i=t.slice();return i[9]=e[n],i}function Zf(t){let e,n=t[9].to+"",i,s,r=t[9].commBinnacle+"",o,a;return{c(){e=m("h3"),i=C(n),s=E(),o=C(r),a=E()},m(l,c){k(l,e,c),u(e,i),u(e,s),u(e,o),k(l,a,c)},p(l,c){c&1&&n!==(n=l[9].to+"")&&ie(i,n),c&1&&r!==(r=l[9].commBinnacle+"")&&ie(o,r)},d(l){l&&w(e),l&&w(a)}}}function CT(t){let e,n,i,s,r=t[0].length+"",o,a,l,c,h,d,f=t[0],p=[];for(let _=0;_<f.length;_+=1)p[_]=Zf(xf(t,f,_));return{c(){e=m("div"),n=m("h1"),n.textContent="Estas en About",i=E(),s=m("h2"),o=C(r),a=E(),l=m("button"),l.textContent="BuscarPropSent",c=E();for(let _=0;_<p.length;_+=1)p[_].c();g(e,"class","cont")},m(_,v){k(_,e,v),u(e,n),u(e,i),u(e,s),u(s,o),u(e,a),u(e,l),u(e,c);for(let y=0;y<p.length;y+=1)p[y].m(e,null);h||(d=q(l,"click",t[1]),h=!0)},p(_,[v]){if(v&1&&r!==(r=_[0].length+"")&&ie(o,r),v&1){f=_[0];let y;for(y=0;y<f.length;y+=1){const b=xf(_,f,y);p[y]?p[y].p(b,v):(p[y]=Zf(b),p[y].c(),p[y].m(e,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=f.length}},i:he,o:he,d(_){_&&w(e),Fe(p,_),h=!1,d()}}}function AT(t,e,n){let i,s;Se(t,Le,h=>n(5,i=h)),Se(t,Kn,h=>n(0,s=h));let r={to:"",action:"",comment:"",date:0},o=[],a=[];be(Kn,s=[],s);function l(){ST.filter(h=>{be(Le,i="binnAdding",i),h.commBinnacle.includes("EB-")===!0&&o.push(h)})}function c(){a=[],l(),o.forEach(h=>{r={to:h.to.toString(),action:"Propiedad enviada: ",comment:h.commBinnacle,date:new Date(h.date).getTime()},a.push(r),console.log(r),Gl(i,r)}),console.log(a)}return[s,c]}class PT extends Ze{constructor(e){super(),xe(this,e,AT,CT,We,{})}}function DT(t){let e,n,i,s;return{c(){e=m("div"),n=m("div"),i=C(t[0]),g(n,"id","snackbar"),g(n,"class",s=vu(t[1]?"animation-in":"not-show")+" svelte-1e3w4r3")},m(r,o){k(r,e,o),u(e,n),u(n,i)},p(r,[o]){o&1&&ie(i,r[0]),o&2&&s!==(s=vu(r[1]?"animation-in":"not-show")+" svelte-1e3w4r3")&&g(n,"class",s)},i:he,o:he,d(r){r&&w(e)}}}function NT(t,e,n){let{message:i=""}=e,{show:s=!1}=e;return t.$$set=r=>{"message"in r&&n(0,i=r.message),"show"in r&&n(1,s=r.show)},[i,s]}class MT extends Ze{constructor(e){super(),xe(this,e,NT,DT,We,{message:0,show:1})}}function RT(t){let e;return{c(){e=C("Registrarse")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function OT(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se;return n=new MT({props:{message:t[0],show:t[1]}}),O=new un({props:{to:"/register",$$slots:{default:[RT]},$$scope:{ctx:t}}}),{c(){e=m("div"),ge(n.$$.fragment),i=E(),s=m("br"),r=m("br"),o=m("br"),a=E(),l=m("div"),c=m("h1"),c.textContent="Inicia sesi\xF3n en tu cuenta",h=E(),d=m("div"),f=m("input"),p=E(),_=m("div"),v=m("input"),y=E(),b=m("br"),I=E(),M=m("div"),D=m("button"),D.textContent="Iniciar sesi\xF3n",$=E(),G=m("p"),G.textContent="O tambi\xE9n",N=E(),F=m("br"),H=E(),A=m("p"),W=C("\xBFA\xFAn no tienes cuenta? "),ge(O.$$.fragment),g(c,"class","text-center text-login svelte-ftg4em"),g(f,"name","email"),g(f,"type","text"),g(f,"class","input-form svelte-ftg4em"),g(f,"placeholder","Correo"),g(d,"class","center svelte-ftg4em"),g(v,"name","password"),g(v,"type","password"),g(v,"class","input-form svelte-ftg4em"),g(v,"placeholder","Contrase\xF1a"),g(_,"class","center svelte-ftg4em"),g(D,"class","button-signup fondo-color-signup svelte-ftg4em"),g(M,"class","center svelte-ftg4em"),g(G,"class","text-center svelte-ftg4em"),g(A,"class","text-center svelte-ftg4em"),g(l,"class","form-signin svelte-ftg4em")},m(B,le){k(B,e,le),fe(n,e,null),u(e,i),u(e,s),u(e,r),u(e,o),u(e,a),u(e,l),u(l,c),u(l,h),u(l,d),u(d,f),u(l,p),u(l,_),u(_,v),u(l,y),u(l,b),u(l,I),u(l,M),u(M,D),u(l,$),u(l,G),u(l,N),u(l,F),u(l,H),u(l,A),u(A,W),fe(O,A,null),Q=!0,U||(se=[q(f,"input",t[4]),q(v,"input",t[5]),q(D,"click",t[3])],U=!0)},p(B,[le]){const x={};le&1&&(x.message=B[0]),le&2&&(x.show=B[1]),n.$set(x);const ue={};le&512&&(ue.$$scope={dirty:le,ctx:B}),O.$set(ue)},i(B){Q||(K(n.$$.fragment,B),K(O.$$.fragment,B),Q=!0)},o(B){J(n.$$.fragment,B),J(O.$$.fragment,B),Q=!1},d(B){B&&w(e),me(n),me(O),U=!1,et(se)}}}function BT(t,e,n){const i=Ji();let s={email:"",password:""},r="",o=!1;const a=f=>{n(0,r=f),n(1,o=!0),setTimeout(()=>{n(1,o=!1)},2800)},l=f=>{s={...s,[f.target.name]:f.target.value}};return[r,o,l,async()=>{try{await SE(O_,s.email,s.password),i("/")}catch(f){f.message==="Firebase: Error (auth/wrong-password)."&&a("Contrase\xF1a incorrecta")}},f=>l(f),f=>l(f)]}class LT extends Ze{constructor(e){super(),xe(this,e,BT,OT,We,{})}}class $T extends Ze{constructor(e){super(),xe(this,e,null,null,We,{})}}function UT(t){let e;return{c(){e=C("Home")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function FT(t){let e;return{c(){e=C("Contactos")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function VT(t){let e;return{c(){e=C("Propiedades")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function jT(t){let e;return{c(){e=C("Agenda")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function qT(t){let e;return{c(){e=C("LogOut")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function HT(t){let e;return{c(){e=C("About")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function GT(t){let e;return{c(){e=C("Registro")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function KT(t){let e;return{c(){e=C("Login")},m(n,i){k(n,e,i)},d(n){n&&w(e)}}}function zT(t){let e,n;return e=new wI({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function WT(t){let e,n;return e=new ZI({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function QT(t){let e,n;return e=new kT({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function YT(t){let e,n;return e=new TT({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function XT(t){let e,n;return e=new dI({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function JT(t){let e,n;return e=new mI({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function xT(t){let e,n;return e=new PT({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function ZT(t){let e,n;return e=new $T({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function eS(t){let e,n;return e=new LT({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function tS(t){let e,n;return e=new oI({}),{c(){ge(e.$$.fragment)},m(i,s){fe(e,i,s),n=!0},i(i){n||(K(e.$$.fragment,i),n=!0)},o(i){J(e.$$.fragment,i),n=!1},d(i){me(e,i)}}}function nS(t){let e,n,i,s,r,o,a,l,c,h,d,f,p,_,v,y,b,I,M,D,$,G,N,F,H,A,W,O,Q,U,se,B,le,x,ue,re,V,P,T,z,R,Y,X,ce,Ie,Re,ft;return f=new un({props:{to:"/",$$slots:{default:[UT]},$$scope:{ctx:t}}}),_=new un({props:{to:"contactos",$$slots:{default:[FT]},$$scope:{ctx:t}}}),y=new un({props:{to:"propiedades",$$slots:{default:[VT]},$$scope:{ctx:t}}}),I=new un({props:{to:"agenda",$$slots:{default:[jT]},$$scope:{ctx:t}}}),D=new un({props:{to:"/about",$$slots:{default:[qT]},$$scope:{ctx:t}}}),D.$on("click",sS),G=new un({props:{to:"about",$$slots:{default:[HT]},$$scope:{ctx:t}}}),F=new un({props:{to:"register",$$slots:{default:[GT]},$$scope:{ctx:t}}}),A=new un({props:{to:"login",$$slots:{default:[KT]},$$scope:{ctx:t}}}),O=new Dn({props:{path:"/",$$slots:{default:[zT]},$$scope:{ctx:t}}}),U=new Dn({props:{path:"/contactos",$$slots:{default:[WT]},$$scope:{ctx:t}}}),B=new Dn({props:{path:"propiedades",$$slots:{default:[QT]},$$scope:{ctx:t}}}),x=new Dn({props:{path:"captacion",$$slots:{default:[YT]},$$scope:{ctx:t}}}),re=new Dn({props:{path:"agenda",$$slots:{default:[XT]},$$scope:{ctx:t}}}),P=new Dn({props:{path:"sinergias",$$slots:{default:[JT]},$$scope:{ctx:t}}}),z=new Dn({props:{path:"about",$$slots:{default:[xT]},$$scope:{ctx:t}}}),Y=new Dn({props:{path:"logout",$$slots:{default:[ZT]},$$scope:{ctx:t}}}),ce=new Dn({props:{path:"login",$$slots:{default:[eS]},$$scope:{ctx:t}}}),Re=new Dn({props:{path:"register",$$slots:{default:[tS]},$$scope:{ctx:t}}}),{c(){e=m("div"),n=m("img"),s=E(),r=m("label"),o=m("img"),l=E(),c=m("input"),h=E(),d=m("div"),ge(f.$$.fragment),p=E(),ge(_.$$.fragment),v=E(),ge(y.$$.fragment),b=E(),ge(I.$$.fragment),M=E(),ge(D.$$.fragment),$=E(),ge(G.$$.fragment),N=E(),ge(F.$$.fragment),H=E(),ge(A.$$.fragment),W=E(),ge(O.$$.fragment),Q=E(),ge(U.$$.fragment),se=E(),ge(B.$$.fragment),le=E(),ge(x.$$.fragment),ue=E(),ge(re.$$.fragment),V=E(),ge(P.$$.fragment),T=E(),ge(z.$$.fragment),R=E(),ge(Y.$$.fragment),X=E(),ge(ce.$$.fragment),Ie=E(),ge(Re.$$.fragment),rt(n.src,i=Rm)||g(n,"src",i),g(n,"alt","MatchHome"),g(n,"class","nav__logo svelte-1viw6tr"),rt(o.src,a=h0)||g(o,"src",a),g(o,"class","nav__img svelte-1viw6tr"),g(o,"alt","menu"),g(r,"class","nav__label svelte-1viw6tr"),g(r,"for","menu"),g(c,"type","checkbox"),g(c,"id","menu"),g(c,"class","nav__input svelte-1viw6tr"),g(d,"class","nav__menu svelte-1viw6tr"),g(e,"class","nav__container svelte-1viw6tr")},m(j,ae){k(j,e,ae),u(e,n),u(e,s),u(e,r),u(r,o),u(e,l),u(e,c),u(e,h),u(e,d),fe(f,d,null),u(d,p),fe(_,d,null),u(d,v),fe(y,d,null),u(d,b),fe(I,d,null),u(d,M),fe(D,d,null),u(d,$),fe(G,d,null),u(d,N),fe(F,d,null),u(d,H),fe(A,d,null),k(j,W,ae),fe(O,j,ae),k(j,Q,ae),fe(U,j,ae),k(j,se,ae),fe(B,j,ae),k(j,le,ae),fe(x,j,ae),k(j,ue,ae),fe(re,j,ae),k(j,V,ae),fe(P,j,ae),k(j,T,ae),fe(z,j,ae),k(j,R,ae),fe(Y,j,ae),k(j,X,ae),fe(ce,j,ae),k(j,Ie,ae),fe(Re,j,ae),ft=!0},p(j,ae){const Qe={};ae&2&&(Qe.$$scope={dirty:ae,ctx:j}),f.$set(Qe);const Nt={};ae&2&&(Nt.$$scope={dirty:ae,ctx:j}),_.$set(Nt);const Be={};ae&2&&(Be.$$scope={dirty:ae,ctx:j}),y.$set(Be);const dt={};ae&2&&(dt.$$scope={dirty:ae,ctx:j}),I.$set(dt);const qe={};ae&2&&(qe.$$scope={dirty:ae,ctx:j}),D.$set(qe);const Ge={};ae&2&&(Ge.$$scope={dirty:ae,ctx:j}),G.$set(Ge);const L={};ae&2&&(L.$$scope={dirty:ae,ctx:j}),F.$set(L);const de={};ae&2&&(de.$$scope={dirty:ae,ctx:j}),A.$set(de);const Z={};ae&2&&(Z.$$scope={dirty:ae,ctx:j}),O.$set(Z);const Ye={};ae&2&&(Ye.$$scope={dirty:ae,ctx:j}),U.$set(Ye);const Ft={};ae&2&&(Ft.$$scope={dirty:ae,ctx:j}),B.$set(Ft);const zt={};ae&2&&(zt.$$scope={dirty:ae,ctx:j}),x.$set(zt);const mt={};ae&2&&(mt.$$scope={dirty:ae,ctx:j}),re.$set(mt);const pn={};ae&2&&(pn.$$scope={dirty:ae,ctx:j}),P.$set(pn);const lt={};ae&2&&(lt.$$scope={dirty:ae,ctx:j}),z.$set(lt);const pt={};ae&2&&(pt.$$scope={dirty:ae,ctx:j}),Y.$set(pt);const rn={};ae&2&&(rn.$$scope={dirty:ae,ctx:j}),ce.$set(rn);const gt={};ae&2&&(gt.$$scope={dirty:ae,ctx:j}),Re.$set(gt)},i(j){ft||(K(f.$$.fragment,j),K(_.$$.fragment,j),K(y.$$.fragment,j),K(I.$$.fragment,j),K(D.$$.fragment,j),K(G.$$.fragment,j),K(F.$$.fragment,j),K(A.$$.fragment,j),K(O.$$.fragment,j),K(U.$$.fragment,j),K(B.$$.fragment,j),K(x.$$.fragment,j),K(re.$$.fragment,j),K(P.$$.fragment,j),K(z.$$.fragment,j),K(Y.$$.fragment,j),K(ce.$$.fragment,j),K(Re.$$.fragment,j),ft=!0)},o(j){J(f.$$.fragment,j),J(_.$$.fragment,j),J(y.$$.fragment,j),J(I.$$.fragment,j),J(D.$$.fragment,j),J(G.$$.fragment,j),J(F.$$.fragment,j),J(A.$$.fragment,j),J(O.$$.fragment,j),J(U.$$.fragment,j),J(B.$$.fragment,j),J(x.$$.fragment,j),J(re.$$.fragment,j),J(P.$$.fragment,j),J(z.$$.fragment,j),J(Y.$$.fragment,j),J(ce.$$.fragment,j),J(Re.$$.fragment,j),ft=!1},d(j){j&&w(e),me(f),me(_),me(y),me(I),me(D),me(G),me(F),me(A),j&&w(W),me(O,j),j&&w(Q),me(U,j),j&&w(se),me(B,j),j&&w(le),me(x,j),j&&w(ue),me(re,j),j&&w(V),me(P,j),j&&w(T),me(z,j),j&&w(R),me(Y,j),j&&w(X),me(ce,j),j&&w(Ie),me(Re,j)}}}function iS(t){let e,n,i;return n=new tc({props:{$$slots:{default:[nS]},$$scope:{ctx:t}}}),{c(){e=m("nav"),ge(n.$$.fragment),g(e,"class","nav svelte-1viw6tr")},m(s,r){k(s,e,r),fe(n,e,null),i=!0},p(s,[r]){const o={};r&2&&(o.$$scope={dirty:r,ctx:s}),n.$set(o)},i(s){i||(K(n.$$.fragment,s),i=!0)},o(s){J(n.$$.fragment,s),i=!1},d(s){s&&w(e),me(n)}}}async function sS(){}function rS(t){return nI.subscribe(e=>{}),[]}class oS extends Ze{constructor(e){super(),xe(this,e,rS,iS,We,{})}}function em(t){let e,n,i,s,r,o,a;return{c(){e=m("div"),n=m("h1"),n.textContent="Bienvendo a",i=E(),s=m("img"),o=E(),a=m("div"),a.innerHTML=`<p class="desc__intro svelte-1kx2964">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod aut aliquam, expedita perferendis consequatur modi omnis! Nostrum iste necessitatibus quisquam numquam, aliquam ipsum. Sit, similique quis. Fuga vitae possimus quisquam quam. Unde accusantium neque veniam reprehenderit, laborum, magni ut quasi asperiores a amet fugiat non, sapiente obcaecati voluptas ab! Nostrum!</p> 
        <p><strong>www.matchhome.net</strong></p>`,g(n,"class","title svelte-1kx2964"),rt(s.src,r=Rm)||g(s,"src",r),g(s,"alt","MatchHome"),g(s,"class","svelte-1kx2964"),g(a,"class",""),g(e,"class","intro svelte-1kx2964")},m(l,c){k(l,e,c),u(e,n),u(e,i),u(e,s),u(e,o),u(e,a)},p:he,d(l){l&&w(e)}}}function aS(t){let e,n,i,s,r;n=new oS({});let o=t[0]&&em();return{c(){e=m("nav"),ge(n.$$.fragment),i=E(),s=m("body"),o&&o.c(),g(e,"class","navBar")},m(a,l){k(a,e,l),fe(n,e,null),k(a,i,l),k(a,s,l),o&&o.m(s,null),r=!0},p(a,[l]){a[0]?o?o.p(a,l):(o=em(),o.c(),o.m(s,null)):o&&(o.d(1),o=null)},i(a){r||(K(n.$$.fragment,a),r=!0)},o(a){J(n.$$.fragment,a),r=!1},d(a){a&&w(e),me(n),a&&w(i),a&&w(s),o&&o.d()}}}function lS(t,e,n){let i=!0;return setTimeout(()=>{n(0,i=!1)},1500),[i]}class cS extends Ze{constructor(e){super(),xe(this,e,lS,aS,We,{})}}new cS({target:document.getElementById("app")});
